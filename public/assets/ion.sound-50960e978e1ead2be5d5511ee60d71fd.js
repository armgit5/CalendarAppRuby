!function(n){if(!n.ionSound){var o,t,i,u,l={},e={},a=!1,c=function(o){var u,a;-1!==o.indexOf(":")?(u=o.split(":")[0],a=o.split(":")[1]):u=o,e[u]=new Audio,t=e[u].canPlayType("audio/mp3"),i="probably"===t||"maybe"===t?l.path+u+".mp3":l.path+u+".wav",n(e[u]).prop("src",i),e[u].load(),e[u].preload="auto",e[u].volume=a||l.volume},f=function(n){var o,t,i,u;if(-1!==n.indexOf(":")?(t=n.split(":")[0],i=n.split(":")[1]):t=n,o=e[t],"object"==typeof o&&null!==o)if(i&&(o.volume=i),l.multiPlay||a){if(l.multiPlay)if(o.ended)o.play();else{try{o.currentTime=0}catch(c){}o.play()}}else o.play(),a=!0,u=setInterval(function(){o.ended&&(clearInterval(u),a=!1)},250)},d=function(n){var o=e[n];if("object"==typeof o&&null!==o){o.pause();try{o.currentTime=0}catch(t){}}},p=function(n){var o=e[n];if("object"==typeof o&&null!==o){try{e[n].src=""}catch(t){}e[n]=null}};n.ionSound=function(t){if(l=n.extend({sounds:["water_droplet"],path:"static/sounds/",multiPlay:!0,volume:"0.5"},t),o=l.sounds.length,"function"==typeof Audio||"object"==typeof Audio)for(u=0;o>u;u+=1)c(l.sounds[u]);n.ionSound.play=function(n){f(n)},n.ionSound.stop=function(n){d(n)},n.ionSound.kill=function(n){p(n)}},n.ionSound.destroy=function(){for(u=0;o>u;u+=1)e[l.sounds[u]]=null;o=0,n.ionSound.play=function(){},n.ionSound.stop=function(){},n.ionSound.kill=function(){}}}}(jQuery);