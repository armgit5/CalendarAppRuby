(function(){}).call(this),function(t,e){function n(e){t.extend(!0,Ce,e)}function r(n,r,c){function u(t){ae?v()&&(M(),S(t)):d()}function d(){ie=r.theme?"ui":"fc",n.addClass("fc"),r.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),r.theme&&n.addClass("ui-widget"),ae=t("<div class='fc-content' style='position:relative'/>").prependTo(n),ne=new a(ee,r),re=ne.render(),re&&n.prepend(re),y(r.defaultView),r.handleWindowResize&&t(window).resize(T),m()||f()}function f(){setTimeout(function(){!se.start&&m()&&C()},0)}function p(){se&&(te("viewDestroy",se,se,se.element),se.triggerEventDestroy()),t(window).unbind("resize",T),ne.destroy(),ae.remove(),n.removeClass("fc fc-rtl ui-widget")}function v(){return n.is(":visible")}function m(){return t("body").is(":visible")}function y(t){se&&t==se.name||D(t)}function D(e){pe++,se&&(te("viewDestroy",se,se,se.element),W(),se.triggerEventDestroy(),K(),se.element.remove(),ne.deactivateButton(se.name)),ne.activateButton(e),se=new Me[e](t("<div class='fc-view fc-view-"+e+"' style='position:relative'/>").appendTo(ae),ee),C(),Z(),pe--}function C(t){(!se.start||t||ge<se.start||ge>=se.end)&&v()&&S(t)}function S(t){pe++,se.start&&(te("viewDestroy",se,se,se.element),W(),H()),K(),se.render(ge,t||0),F(),Z(),(se.afterRender||N)(),z(),Y(),te("viewRender",se,se,se.element),se.trigger("viewDisplay",he),pe--,R()}function x(){v()&&(W(),H(),M(),F(),O())}function M(){le=r.contentHeight?r.contentHeight:r.height?r.height-(re?re.height():0)-A(ae):Math.round(ae.width()/Math.max(r.aspectRatio,.5))}function F(){le===e&&M(),pe++,se.setHeight(le),se.setWidth(ae.width()),pe--,oe=n.outerWidth()}function T(){if(!pe)if(se.start){var t=++fe;setTimeout(function(){t==fe&&!pe&&v()&&oe!=(oe=n.outerWidth())&&(pe++,x(),se.trigger("windowResize",he),pe--)},200)}else f()}function E(){H(),I()}function k(t){H(),O(t)}function O(t){v()&&(se.setEventData(ve),se.renderEvents(ve,t),se.trigger("eventAfterAllRender"))}function H(){se.triggerEventDestroy(),se.clearEvents(),se.clearEventData()}function R(){!r.lazyFetching||ue(se.visStart,se.visEnd)?I():O()}function I(){de(se.visStart,se.visEnd)}function _(t){ve=t,O()}function P(t){k(t)}function z(){ne.updateTitle(se.title)}function Y(){var t=new Date;t>=se.start&&t<se.end?ne.disableButton("today"):ne.enableButton("today")}function L(t,n,r){se.select(t,n,r===e?!0:r)}function W(){se&&se.unselect()}function j(){C(-1)}function q(){C(1)}function B(){s(ge,-1),C()}function U(){s(ge,1),C()}function V(){ge=new Date,C()}function J(t,e,n){t instanceof Date?ge=h(t):g(ge,t,e,n),C()}function $(t,n,r){t!==e&&s(ge,t),n!==e&&o(ge,n),r!==e&&l(ge,r),C()}function G(){return h(ge)}function K(){ae.css({width:"100%",height:ae.height(),overflow:"hidden"})}function Z(){ae.css({width:"",height:"",overflow:""})}function X(){return se}function Q(t,n){return n===e?r[t]:(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(r[t]=n,x()),void 0)}function te(t,e){return r[t]?r[t].apply(e||he,Array.prototype.slice.call(arguments,2)):void 0}var ee=this;ee.options=r,ee.render=u,ee.destroy=p,ee.refetchEvents=E,ee.reportEvents=_,ee.reportEventChange=P,ee.rerenderEvents=k,ee.changeView=y,ee.select=L,ee.unselect=W,ee.prev=j,ee.next=q,ee.prevYear=B,ee.nextYear=U,ee.today=V,ee.gotoDate=J,ee.incrementDate=$,ee.formatDate=function(t,e){return b(t,e,r)},ee.formatDates=function(t,e,n){return w(t,e,n,r)},ee.getDate=G,ee.getView=X,ee.option=Q,ee.trigger=te,i.call(ee,r,c);var ne,re,ae,ie,se,oe,le,ce,ue=ee.isFetchNeeded,de=ee.fetchEvents,he=n[0],fe=0,pe=0,ge=new Date,ve=[];g(ge,r.year,r.month,r.date),r.droppable&&t(document).bind("dragstart",function(e,n){var a=e.target,i=t(a);if(!i.parents(".fc").length){var s=r.dropAccept;(t.isFunction(s)?s.call(a,i):i.is(s))&&(ce=a,se.dragStart(ce,e,n))}}).bind("dragstop",function(t,e){ce&&(se.dragStop(ce,t,e),ce=null)})}function a(e,n){function r(){h=n.theme?"ui":"fc";var e=n.header;return e?f=t("<table class='fc-header' style='width:100%'/>").append(t("<tr/>").append(i("left")).append(i("center")).append(i("right"))):void 0}function a(){f.remove()}function i(r){var a=t("<td class='fc-header-"+r+"'/>"),i=n.header[r];return i&&t.each(i.split(" "),function(r){r>0&&a.append("<span class='fc-header-space'/>");var i;t.each(this.split(","),function(r,s){if("title"==s)a.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),i&&i.addClass(h+"-corner-right"),i=null;else{var o;if(e[s]?o=e[s]:Me[s]&&(o=function(){u.removeClass(h+"-state-hover"),e.changeView(s)}),o){var l=n.theme?Y(n.buttonIcons,s):null,c=Y(n.buttonText,s),u=t("<span class='fc-button fc-button-"+s+" "+h+"-state-default'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/></span>":c)+"</span>").click(function(){u.hasClass(h+"-state-disabled")||o()}).mousedown(function(){u.not("."+h+"-state-active").not("."+h+"-state-disabled").addClass(h+"-state-down")}).mouseup(function(){u.removeClass(h+"-state-down")}).hover(function(){u.not("."+h+"-state-active").not("."+h+"-state-disabled").addClass(h+"-state-hover")},function(){u.removeClass(h+"-state-hover").removeClass(h+"-state-down")}).appendTo(a);W(u),i||u.addClass(h+"-corner-left"),i=u}}}),i&&i.addClass(h+"-corner-right")}),a}function s(t){f.find("h2").html(t)}function o(t){f.find("span.fc-button-"+t).addClass(h+"-state-active")}function l(t){f.find("span.fc-button-"+t).removeClass(h+"-state-active")}function c(t){f.find("span.fc-button-"+t).addClass(h+"-state-disabled")}function u(t){f.find("span.fc-button-"+t).removeClass(h+"-state-disabled")}var d=this;d.render=r,d.destroy=a,d.updateTitle=s,d.activateButton=o,d.deactivateButton=l,d.disableButton=c,d.enableButton=u;var h,f=t([])}function i(n,r){function a(t,e){return!x||x>t||e>M}function i(t,e){x=t,M=e,I=[];var n=++A,r=O.length;H=r;for(var a=0;r>a;a++)s(O[a],n)}function s(e,r){o(e,function(a){if(r==A){if(a){n.eventDataTransform&&(a=t.map(a,n.eventDataTransform)),e.eventDataTransform&&(a=t.map(a,e.eventDataTransform));for(var i=0;i<a.length;i++)a[i].source=e,b(a[i]);I=I.concat(a)}H--,H||E(I)}})}function o(e,r){var a,i,s=xe.sourceFetchers;for(a=0;a<s.length;a++){if(i=s[a](e,x,M,r),i===!0)return;if("object"==typeof i)return o(i,r),void 0}var l=e.events;if(l)t.isFunction(l)?(m(),l(h(x),h(M),function(t){r(t),y()})):t.isArray(l)?r(l):r();else{var c=e.url;if(c){var u,d=e.success,f=e.error,p=e.complete;u=t.isFunction(e.data)?e.data():e.data;var g=t.extend({},u||{}),v=U(e.startParam,n.startParam),b=U(e.endParam,n.endParam);v&&(g[v]=Math.round(+x/1e3)),b&&(g[b]=Math.round(+M/1e3)),m(),t.ajax(t.extend({},Fe,e,{data:g,success:function(e){e=e||[];var n=B(d,this,arguments);t.isArray(n)&&(e=n),r(e)},error:function(){B(f,this,arguments),r()},complete:function(){B(p,this,arguments),y()}}))}else r()}}function l(t){t=c(t),t&&(H++,s(t,A))}function c(e){return t.isFunction(e)||t.isArray(e)?e={events:e}:"string"==typeof e&&(e={url:e}),"object"==typeof e?(w(e),O.push(e),e):void 0}function u(e){O=t.grep(O,function(t){return!D(t,e)}),I=t.grep(I,function(t){return!D(t.source,e)}),E(I)}function d(t){var e,n,r=I.length,a=T().defaultEventEnd,i=t.start-t._start,s=t.end?t.end-(t._end||a(t)):0;for(e=0;r>e;e++)n=I[e],n._id==t._id&&n!=t&&(n.start=new Date(+n.start+i),n.end=t.end?n.end?new Date(+n.end+s):new Date(+a(n)+s):null,n.title=t.title,n.url=t.url,n.allDay=t.allDay,n.className=t.className,n.editable=t.editable,n.color=t.color,n.backgroundColor=t.backgroundColor,n.borderColor=t.borderColor,n.textColor=t.textColor,b(n));b(t),E(I)}function f(t,e){b(t),t.source||(e&&(k.events.push(t),t.source=k),I.push(t)),E(I)}function p(e){if(e){if(!t.isFunction(e)){var n=e+"";e=function(t){return t._id==n}}I=t.grep(I,e,!0);for(var r=0;r<O.length;r++)t.isArray(O[r].events)&&(O[r].events=t.grep(O[r].events,e,!0))}else{I=[];for(var r=0;r<O.length;r++)t.isArray(O[r].events)&&(O[r].events=[])}E(I)}function g(e){return t.isFunction(e)?t.grep(I,e):e?(e+="",t.grep(I,function(t){return t._id==e})):I}function m(){R++||F("loading",null,!0,T())}function y(){--R||F("loading",null,!1,T())}function b(t){var r=t.source||{},a=U(r.ignoreTimezone,n.ignoreTimezone);t._id=t._id||(t.id===e?"_fc"+Te++:t.id+""),t.date&&(t.start||(t.start=t.date),delete t.date),t._start=h(t.start=v(t.start,a)),t.end=v(t.end,a),t.end&&t.end<=t.start&&(t.end=null),t._end=t.end?h(t.end):null,t.allDay===e&&(t.allDay=U(r.allDayDefault,n.allDayDefault)),t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[]}function w(t){t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[];for(var e=xe.sourceNormalizers,n=0;n<e.length;n++)e[n](t)}function D(t,e){return t&&e&&C(t)==C(e)}function C(t){return("object"==typeof t?t.events||t.url:"")||t}var S=this;S.isFetchNeeded=a,S.fetchEvents=i,S.addEventSource=l,S.removeEventSource=u,S.updateEvent=d,S.renderEvent=f,S.removeEvents=p,S.clientEvents=g,S.normalizeEvent=b;for(var x,M,F=S.trigger,T=S.getView,E=S.reportEvents,k={events:[]},O=[k],A=0,H=0,R=0,I=[],N=0;N<r.length;N++)c(r[N])}function s(t,e,n){return t.setFullYear(t.getFullYear()+e),n||d(t),t}function o(t,e,n){if(+t){var r=t.getMonth()+e,a=h(t);for(a.setDate(1),a.setMonth(r),t.setMonth(r),n||d(t);t.getMonth()!=a.getMonth();)t.setDate(t.getDate()+(a>t?1:-1))}return t}function l(t,e,n){if(+t){var r=t.getDate()+e,a=h(t);a.setHours(9),a.setDate(r),t.setDate(r),n||d(t),c(t,a)}return t}function c(t,e){if(+t)for(;t.getDate()!=e.getDate();)t.setTime(+t+(e>t?1:-1)*Oe)}function u(t,e){return t.setMinutes(t.getMinutes()+e),t}function d(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}function h(t,e){return e?d(new Date(+t)):new Date(+t)}function f(){var t,e=0;do t=new Date(1970,e++,1);while(t.getHours());return t}function p(t,e){return Math.round((h(t,!0)-h(e,!0))/ke)}function g(t,n,r,a){n!==e&&n!=t.getFullYear()&&(t.setDate(1),t.setMonth(0),t.setFullYear(n)),r!==e&&r!=t.getMonth()&&(t.setDate(1),t.setMonth(r)),a!==e&&t.setDate(a)}function v(t,n){return"object"==typeof t?t:"number"==typeof t?new Date(1e3*t):"string"==typeof t?t.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(t)):(n===e&&(n=!0),m(t,n)||(t?new Date(t):null)):null}function m(t,e){var n=t.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var r=new Date(n[1],0,1);if(e||!n[13]){var a=new Date(n[1],0,1,9,0);n[3]&&(r.setMonth(n[3]-1),a.setMonth(n[3]-1)),n[5]&&(r.setDate(n[5]),a.setDate(n[5])),c(r,a),n[7]&&r.setHours(n[7]),n[8]&&r.setMinutes(n[8]),n[10]&&r.setSeconds(n[10]),n[12]&&r.setMilliseconds(1e3*Number("0."+n[12])),c(r,a)}else if(r.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),r.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?1e3*Number("0."+n[12]):0),n[14]){var i=60*Number(n[16])+(n[18]?Number(n[18]):0);i*="-"==n[15]?1:-1,r=new Date(+r+60*i*1e3)}return r}function y(t){if("number"==typeof t)return 60*t;if("object"==typeof t)return 60*t.getHours()+t.getMinutes();var e=t.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(e){var n=parseInt(e[1],10);return e[3]&&(n%=12,"p"==e[3].toLowerCase().charAt(0)&&(n+=12)),60*n+(e[2]?parseInt(e[2],10):0)}}function b(t,e,n){return w(t,null,e,n)}function w(t,e,n,r){r=r||Ce;var a,i,s,o,l=t,c=e,u=n.length,d="";for(a=0;u>a;a++)if(i=n.charAt(a),"'"==i){for(s=a+1;u>s;s++)if("'"==n.charAt(s)){l&&(d+=s==a+1?"'":n.substring(a+1,s),a=s);break}}else if("("==i){for(s=a+1;u>s;s++)if(")"==n.charAt(s)){var h=b(l,n.substring(a+1,s),r);parseInt(h.replace(/\D/,""),10)&&(d+=h),a=s;break}}else if("["==i){for(s=a+1;u>s;s++)if("]"==n.charAt(s)){var f=n.substring(a+1,s),h=b(l,f,r);h!=b(c,f,r)&&(d+=h),a=s;break}}else if("{"==i)l=e,c=t;else if("}"==i)l=t,c=e;else{for(s=u;s>a;s--)if(o=He[n.substring(a,s)]){l&&(d+=o(l,r)),a=s-1;break}s==a&&l&&(d+=i)}return d}function D(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1}function C(t){return t.end?S(t.end,t.allDay):l(h(t.start),1)}function S(t,e){return t=h(t),e||t.getHours()||t.getMinutes()?l(t,1):d(t)}function x(n,r,a){n.unbind("mouseover").mouseover(function(n){for(var i,s,o,l=n.target;l!=this;)i=l,l=l.parentNode;(s=i._fci)!==e&&(i._fci=e,o=r[s],a(o.event,o.element,o),t(n.target).trigger(n)),n.stopPropagation()})}function M(e,n,r){for(var a,i=0;i<e.length;i++)a=t(e[i]),a.width(Math.max(0,n-T(a,r)))}function F(e,n,r){for(var a,i=0;i<e.length;i++)a=t(e[i]),a.height(Math.max(0,n-A(a,r)))}function T(t,e){return E(t)+O(t)+(e?k(t):0)}function E(e){return(parseFloat(t.css(e[0],"paddingLeft",!0))||0)+(parseFloat(t.css(e[0],"paddingRight",!0))||0)}function k(e){return(parseFloat(t.css(e[0],"marginLeft",!0))||0)+(parseFloat(t.css(e[0],"marginRight",!0))||0)}function O(e){return(parseFloat(t.css(e[0],"borderLeftWidth",!0))||0)+(parseFloat(t.css(e[0],"borderRightWidth",!0))||0)}function A(t,e){return H(t)+I(t)+(e?R(t):0)}function H(e){return(parseFloat(t.css(e[0],"paddingTop",!0))||0)+(parseFloat(t.css(e[0],"paddingBottom",!0))||0)}function R(e){return(parseFloat(t.css(e[0],"marginTop",!0))||0)+(parseFloat(t.css(e[0],"marginBottom",!0))||0)}function I(e){return(parseFloat(t.css(e[0],"borderTopWidth",!0))||0)+(parseFloat(t.css(e[0],"borderBottomWidth",!0))||0)}function N(){}function _(t,e){return t-e}function P(t){return Math.max.apply(Math,t)}function z(t){return(10>t?"0":"")+t}function Y(t,n){if(t[n]!==e)return t[n];for(var r,a=n.split(/(?=[A-Z])/),i=a.length-1;i>=0;i--)if(r=t[a[i].toLowerCase()],r!==e)return r;return t[""]}function L(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function W(t){t.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function j(t){t.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function q(t,e){var n=t.source||{},r=t.color,a=n.color,i=e("eventColor"),s=t.backgroundColor||r||n.backgroundColor||a||e("eventBackgroundColor")||i,o=t.borderColor||r||n.borderColor||a||e("eventBorderColor")||i,l=t.textColor||n.textColor||e("eventTextColor"),c=[];return s&&c.push("background-color:"+s),o&&c.push("border-color:"+o),l&&c.push("color:"+l),c.join(";")}function B(e,n,r){if(t.isFunction(e)&&(e=[e]),e){var a,i;for(a=0;a<e.length;a++)i=e[a].apply(n,r)||i;return i}}function U(){for(var t=0;t<arguments.length;t++)if(arguments[t]!==e)return arguments[t]}function V(t,e){function n(t,e){e&&(o(t,e),t.setDate(1));var n=a("firstDay"),d=h(t,!0);d.setDate(1);var f=o(h(d),1),g=h(d);l(g,-((g.getDay()-n+7)%7)),s(g);var v=h(f);l(v,(7-v.getDay()+n)%7),s(v,-1,!0);var m=c(),y=Math.round(p(v,g)/7);"fixed"==a("weekMode")&&(l(v,7*(6-y)),y=6),r.title=u(d,a("titleFormat")),r.start=d,r.end=f,r.visStart=g,r.visEnd=v,i(y,m,!0)}var r=this;r.render=n,G.call(r,t,e,"month");var a=r.opt,i=r.renderBasic,s=r.skipHiddenDays,c=r.getCellsPerWeek,u=e.formatDate}function J(t,e){function n(t,e){e&&l(t,7*e);var n=l(h(t),-((t.getDay()-a("firstDay")+7)%7)),u=l(h(n),7),d=h(n);s(d);var f=h(u);s(f,-1,!0);var p=o();r.start=n,r.end=u,r.visStart=d,r.visEnd=f,r.title=c(d,l(h(f),-1),a("titleFormat")),i(1,p,!1)}var r=this;r.render=n,G.call(r,t,e,"basicWeek");var a=r.opt,i=r.renderBasic,s=r.skipHiddenDays,o=r.getCellsPerWeek,c=e.formatDates}function $(t,e){function n(t,e){e&&l(t,e),s(t,0>e?-1:1);var n=h(t,!0),c=l(h(n),1);r.title=o(t,a("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=c,i(1,1,!1)}var r=this;r.render=n,G.call(r,t,e,"basicDay");var a=r.opt,i=r.renderBasic,s=r.skipHiddenDays,o=e.formatDate}function G(e,n,r){function a(t,e,n){ee=t,ne=e,re=n,i(),q||s(),o()}function i(){le=pe("theme")?"ui":"fc",ce=pe("columnFormat"),ue=pe("weekNumbers"),he=pe("weekNumberTitle"),fe="iso"!=pe("weekNumberCalculation")?"w":"W"}function s(){G=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(e)}function o(){var n=c();P&&P.remove(),P=t(n).appendTo(e),z=P.find("thead"),Y=z.find(".fc-day-header"),q=P.find("tbody"),B=q.find("tr"),U=q.find(".fc-day"),V=B.find("td:first-child"),J=B.eq(0).find(".fc-day > div"),$=B.eq(0).find(".fc-day-content > div"),j(z.add(z.find("tr"))),j(B),B.eq(0).addClass("fc-first"),B.filter(":last").addClass("fc-last"),U.each(function(e,n){var r=xe(Math.floor(e/ne),e%ne);ge("dayRender",_,r,t(n))}),y(U)}function c(){var t="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+u()+f()+"</table>";return t}function u(){var t,e,n=le+"-widget-header",r="";for(r+="<thead><tr>",ue&&(r+="<th class='fc-week-number "+n+"'>"+L(he)+"</th>"),t=0;ne>t;t++)e=xe(0,t),r+="<th class='fc-day-header fc-"+Ee[e.getDay()]+" "+n+"'>"+L(Te(e,ce))+"</th>";return r+="</tr></thead>"}function f(){var t,e,n,r=le+"-widget-content",a="";for(a+="<tbody>",t=0;ee>t;t++){for(a+="<tr class='fc-week'>",ue&&(n=xe(t,0),a+="<td class='fc-week-number "+r+"'><div>"+L(Te(n,fe))+"</div></td>"),e=0;ne>e;e++)n=xe(t,e),a+=p(n);a+="</tr>"}return a+="</tbody>"}function p(t){var e=le+"-widget-content",n=_.start.getMonth(),r=d(new Date),a="",i=["fc-day","fc-"+Ee[t.getDay()],e];return t.getMonth()!=n&&i.push("fc-other-month"),+t==+r?i.push("fc-today",le+"-state-highlight"):r>t?i.push("fc-past"):i.push("fc-future"),a+="<td class='"+i.join(" ")+"' data-date='"+Te(t,"yyyy-MM-dd")+"'><div>",re&&(a+="<div class='fc-day-number'>"+t.getDate()+"</div>"),a+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function g(e){X=e;var n,r,a,i=X-z.height();"variable"==pe("weekMode")?n=r=Math.floor(i/(1==ee?2:6)):(n=Math.floor(i/ee),r=i-n*(ee-1)),V.each(function(e,i){ee>e&&(a=t(i),a.find("> div").css("min-height",(e==ee-1?r:n)-A(a)))})}function v(t){Z=t,se.clear(),oe.clear(),te=0,ue&&(te=z.find("th.fc-week-number").outerWidth()),Q=Math.floor((Z-te)/ne),M(Y.slice(0,-1),Q)}function y(t){t.click(b).mousedown(Se)}function b(e){if(!pe("selectable")){var n=m(t(this).data("date"));ge("dayClick",this,n,!0,e)}}function w(t,e,n){n&&ae.build();for(var r=Fe(t,e),a=0;a<r.length;a++){var i=r[a];y(D(i.row,i.leftCol,i.row,i.rightCol))}}function D(t,n,r,a){var i=ae.rect(t,n,r,a,e);return we(i,e)}function C(t){return h(t)}function S(t,e){w(t,l(h(e),1),!0)}function x(){Ce()}function F(t,e,n){var r=Me(t),a=U[r.row*ne+r.col];ge("dayClick",a,t,e,n)}function T(t,e){ie.start(function(t){Ce(),t&&D(t.row,t.col,t.row,t.col)},e)}function E(t,e,n){var r=ie.stop();if(Ce(),r){var a=xe(r);ge("drop",t,a,!0,e,n)}}function k(t){return h(t.start)}function O(t){return se.left(t)}function H(t){return se.right(t)}function R(t){return oe.left(t)}function I(t){return oe.right(t)}function N(t){return B.eq(t)}var _=this;_.renderBasic=a,_.setHeight=g,_.setWidth=v,_.renderDayOverlay=w,_.defaultSelectionEnd=C,_.renderSelection=S,_.clearSelection=x,_.reportDayClick=F,_.dragStart=T,_.dragStop=E,_.defaultEventEnd=k,_.getHoverListener=function(){return ie},_.colLeft=O,_.colRight=H,_.colContentLeft=R,_.colContentRight=I,_.getIsCellAllDay=function(){return!0},_.allDayRow=N,_.getRowCnt=function(){return ee},_.getColCnt=function(){return ne},_.getColWidth=function(){return Q},_.getDaySegmentContainer=function(){return G},de.call(_,e,n,r),me.call(_),ve.call(_),K.call(_);var P,z,Y,q,B,U,V,J,$,G,Z,X,Q,te,ee,ne,re,ae,ie,se,oe,le,ce,ue,he,fe,pe=_.opt,ge=_.trigger,we=_.renderOverlay,Ce=_.clearOverlays,Se=_.daySelectionMousedown,xe=_.cellToDate,Me=_.dateToCell,Fe=_.rangeToSegments,Te=n.formatDate;W(e.addClass("fc-grid")),ae=new ye(function(e,n){var r,a,i;Y.each(function(e,s){r=t(s),a=r.offset().left,e&&(i[1]=a),i=[a],n[e]=i}),i[1]=a+r.outerWidth(),B.each(function(n,s){ee>n&&(r=t(s),a=r.offset().top,n&&(i[1]=a),i=[a],e[n]=i)}),i[1]=a+r.outerHeight()}),ie=new be(ae),se=new De(function(t){return J.eq(t)}),oe=new De(function(t){return $.eq(t)})}function K(){function t(t,e){n.renderDayEvents(t,e)}function e(){n.getDaySegmentContainer().empty()}var n=this;n.renderEvents=t,n.clearEvents=e,he.call(n)}function Z(t,e){function n(t,e){e&&l(t,7*e);var n=l(h(t),-((t.getDay()-a("firstDay")+7)%7)),u=l(h(n),7),d=h(n);s(d);var f=h(u);s(f,-1,!0);var p=o();r.title=c(d,l(h(f),-1),a("titleFormat")),r.start=n,r.end=u,r.visStart=d,r.visEnd=f,i(p)}var r=this;r.render=n,Q.call(r,t,e,"agendaWeek");var a=r.opt,i=r.renderAgenda,s=r.skipHiddenDays,o=r.getCellsPerWeek,c=e.formatDates}function X(t,e){function n(t,e){e&&l(t,e),s(t,0>e?-1:1);var n=h(t,!0),c=l(h(n),1);r.title=o(t,a("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=c,i(1)}var r=this;r.render=n,Q.call(r,t,e,"agendaDay");var a=r.opt,i=r.renderAgenda,s=r.skipHiddenDays,o=e.formatDate}function Q(n,r,a){function i(t){Ie=t,s(),Q?c():o()}function s(){Le=$e("theme")?"ui":"fc",We=$e("isRTL"),je=y($e("minTime")),qe=y($e("maxTime")),Be=$e("columnFormat"),Ue=$e("weekNumbers"),Ve=$e("weekNumberTitle"),Je="iso"!=$e("weekNumberCalculation")?"w":"W",Ae=$e("snapMinutes")||$e("slotMinutes")}function o(){var e,r,a,i,s,o=Le+"-widget-header",l=Le+"-widget-content",d=$e("slotMinutes")%15==0;for(c(),ce=t("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),$e("allDaySlot")?(ue=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ce),e="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+o+" fc-agenda-axis'>"+$e("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+o+" fc-agenda-gutter'>&nbsp;</th></tr></table>",he=t(e).appendTo(ce),fe=he.find("tr"),C(fe.find("td")),ce.append("<div class='fc-agenda-divider "+o+"'><div class='fc-agenda-divider-inner'/></div>")):ue=t([]),pe=t("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ce),ge=t("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(pe),we=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ge),e="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",r=f(),i=u(h(r),qe),u(r,je),Ne=0,a=0;i>r;a++)s=r.getMinutes(),e+="<tr class='fc-slot"+a+" "+(s?"fc-minor":"")+"'><th class='fc-agenda-axis "+o+"'>"+(d&&s?"&nbsp;":sn(r,$e("axisFormat")))+"</th><td class='"+l+"'><div style='position:relative'>&nbsp;</div></td></tr>",u(r,$e("slotMinutes")),Ne++;e+="</tbody></table>",Ce=t(e).appendTo(ge),S(Ce.find("td"))}function c(){var e=p();Q&&Q.remove(),Q=t(e).appendTo(n),ee=Q.find("thead"),ne=ee.find("th").slice(1,-1),re=Q.find("tbody"),ae=re.find("td").slice(0,-1),ie=ae.find("> div"),se=ae.find(".fc-day-content > div"),oe=ae.eq(0),le=ie.eq(0),j(ee.add(ee.find("tr"))),j(re.add(re.find("tr")))}function p(){var t="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+g()+v()+"</table>";return t}function g(){var t,e,n,r=Le+"-widget-header",a="";for(a+="<thead><tr>",Ue?(t=nn(0,0),e=sn(t,Je),We?e+=Ve:e=Ve+e,a+="<th class='fc-agenda-axis fc-week-number "+r+"'>"+L(e)+"</th>"):a+="<th class='fc-agenda-axis "+r+"'>&nbsp;</th>",n=0;Ie>n;n++)t=nn(0,n),a+="<th class='fc-"+Ee[t.getDay()]+" fc-col"+n+" "+r+"'>"+L(sn(t,Be))+"</th>";return a+="<th class='fc-agenda-gutter "+r+"'>&nbsp;</th></tr></thead>"}function v(){var t,e,n,r,a,i=Le+"-widget-header",s=Le+"-widget-content",o=d(new Date),l="";for(l+="<tbody><tr><th class='fc-agenda-axis "+i+"'>&nbsp;</th>",n="",e=0;Ie>e;e++)t=nn(0,e),a=["fc-col"+e,"fc-"+Ee[t.getDay()],s],+t==+o?a.push(Le+"-state-highlight","fc-today"):o>t?a.push("fc-past"):a.push("fc-future"),r="<td class='"+a.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",n+=r;return l+=n,l+="<td class='fc-agenda-gutter "+s+"'>&nbsp;</td></tr></tbody>"}function m(t){t===e&&(t=Me),Me=t,on={};var n=re.position().top,r=pe.position().top,a=Math.min(t-n,Ce.height()+r+1);le.height(a-A(oe)),ce.css("top",n),pe.height(a-r-1),Oe=Ce.find("tr:first").height()+1,He=$e("slotMinutes")/Ae,Re=Oe/He}function b(e){xe=e,ze.clear(),Ye.clear();var n=ee.find("th:first");he&&(n=n.add(he.find("th:first"))),n=n.add(Ce.find("th:first")),Fe=0,M(n.width("").each(function(e,n){Fe=Math.max(Fe,t(n).outerWidth())}),Fe);var r=Q.find(".fc-agenda-gutter");he&&(r=r.add(he.find("th.fc-agenda-gutter")));var a=pe[0].clientWidth;ke=pe.width()-a,ke?(M(r,ke),r.show().prev().removeClass("fc-last")):r.hide().prev().addClass("fc-last"),Te=Math.floor((a-Fe)/Ie),M(ne.slice(0,-1),Te)}function w(){function t(){pe.scrollTop(r)}var e=f(),n=h(e);n.setHours($e("firstHour"));var r=z(e,n)+1;t(),setTimeout(t,0)}function D(){w()}function C(t){t.click(x).mousedown(tn)}function S(t){t.click(x).mousedown($)}function x(t){if(!$e("selectable")){var e=Math.min(Ie-1,Math.floor((t.pageX-Q.offset().left-Fe)/Te)),n=nn(0,e),r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){var a=parseInt(r[1])*$e("slotMinutes"),i=Math.floor(a/60);n.setHours(i),n.setMinutes(a%60+je),Ge("dayClick",ae[e],n,!1,t)}else Ge("dayClick",ae[e],n,!0,t)}}function T(t,e,n){n&&_e.build();for(var r=an(t,e),a=0;a<r.length;a++){var i=r[a];C(E(i.row,i.leftCol,i.row,i.rightCol))}}function E(t,e,n,r){var a=_e.rect(t,e,n,r,ce);return Ke(a,ce)}function k(t,e){for(var n=0;Ie>n;n++){var r=nn(0,n),a=l(h(r),1),i=new Date(Math.max(r,t)),s=new Date(Math.min(a,e));if(s>i){var o=_e.rect(0,n,0,n,ge),c=z(r,i),u=z(r,s);o.top=c,o.height=u-c,S(Ke(o,ge))}}}function O(t){return ze.left(t)}function H(t){return Ye.left(t)}function R(t){return ze.right(t)}function I(t){return Ye.right(t)}function N(t){return $e("allDaySlot")&&!t.row}function P(t){var e=nn(0,t.col),n=t.row;return $e("allDaySlot")&&n--,n>=0&&u(e,je+n*Ae),e}function z(t,n){if(t=h(t,!0),n<u(h(t),je))return 0;if(n>=u(h(t),qe))return Ce.height();var r=$e("slotMinutes"),a=60*n.getHours()+n.getMinutes()-je,i=Math.floor(a/r),s=on[i];return s===e&&(s=on[i]=Ce.find("tr").eq(i).find("td div")[0].offsetTop),Math.max(0,Math.round(s-1+Oe*(a%r/r)))}function Y(){return fe}function q(t){var e=h(t.start);return t.allDay?e:u(e,$e("defaultEventMinutes"))}function B(t,e){return e?h(t):u(h(t),$e("slotMinutes"))}function U(t,e,n){n?$e("allDaySlot")&&T(t,l(h(e),1),!0):V(t,e)}function V(e,n){var r=$e("selectHelper");if(_e.build(),r){var a=rn(e).col;if(a>=0&&Ie>a){var i=_e.rect(0,a,0,a,ge),s=z(e,e),o=z(e,n);if(o>s){if(i.top=s,i.height=o-s,i.left+=2,i.width-=5,t.isFunction(r)){var l=r(e,n);l&&(i.position="absolute",Se=t(l).css(i).appendTo(ge))}else i.isStart=!0,i.isEnd=!0,Se=t(en({title:"",start:e,end:n,className:["fc-select-helper"],editable:!1},i)),Se.css("opacity",$e("dragOpacity"));Se&&(S(Se),ge.append(Se),M(Se,i.width,!0),F(Se,i.height,!0))}}}else k(e,n)}function J(){Ze(),Se&&(Se.remove(),Se=null)}function $(e){if(1==e.which&&$e("selectable")){Qe(e);var n;Pe.start(function(t,e){if(J(),t&&t.col==e.col&&!N(t)){var r=P(e),a=P(t);n=[r,u(h(r),Ae),a,u(h(a),Ae)].sort(_),V(n[0],n[3])}else n=null},e),t(document).one("mouseup",function(t){Pe.stop(),n&&(+n[0]==+n[1]&&G(n[0],!1,t),Xe(n[0],n[3],!1,t))})}}function G(t,e,n){Ge("dayClick",ae[rn(t).col],t,e,n)}function K(t,e){Pe.start(function(t){if(Ze(),t)if(N(t))E(t.row,t.col,t.row,t.col);else{var e=P(t),n=u(h(e),$e("defaultEventMinutes"));k(e,n)}},e)}function Z(t,e,n){var r=Pe.stop();Ze(),r&&Ge("drop",t,P(r),N(r),e,n)}var X=this;X.renderAgenda=i,X.setWidth=b,X.setHeight=m,X.afterRender=D,X.defaultEventEnd=q,X.timePosition=z,X.getIsCellAllDay=N,X.allDayRow=Y,X.getCoordinateGrid=function(){return _e},X.getHoverListener=function(){return Pe},X.colLeft=O,X.colRight=R,X.colContentLeft=H,X.colContentRight=I,X.getDaySegmentContainer=function(){return ue},X.getSlotSegmentContainer=function(){return we},X.getMinMinute=function(){return je},X.getMaxMinute=function(){return qe},X.getSlotContainer=function(){return ge},X.getRowCnt=function(){return 1},X.getColCnt=function(){return Ie},X.getColWidth=function(){return Te},X.getSnapHeight=function(){return Re},X.getSnapMinutes=function(){return Ae},X.defaultSelectionEnd=B,X.renderDayOverlay=T,X.renderSelection=U,X.clearSelection=J,X.reportDayClick=G,X.dragStart=K,X.dragStop=Z,de.call(X,n,r,a),me.call(X),ve.call(X),te.call(X);var Q,ee,ne,re,ae,ie,se,oe,le,ce,ue,he,fe,pe,ge,we,Ce,Se,xe,Me,Fe,Te,ke,Oe,Ae,He,Re,Ie,Ne,_e,Pe,ze,Ye,Le,We,je,qe,Be,Ue,Ve,Je,$e=X.opt,Ge=X.trigger,Ke=X.renderOverlay,Ze=X.clearOverlays,Xe=X.reportSelection,Qe=X.unselect,tn=X.daySelectionMousedown,en=X.slotSegHtml,nn=X.cellToDate,rn=X.dateToCell,an=X.rangeToSegments,sn=r.formatDate,on={};W(n.addClass("fc-agenda")),_e=new ye(function(e,n){function r(t){return Math.max(l,Math.min(c,t))}var a,i,s;ne.each(function(e,r){a=t(r),i=a.offset().left,e&&(s[1]=i),s=[i],n[e]=s}),s[1]=i+a.outerWidth(),$e("allDaySlot")&&(a=fe,i=a.offset().top,e[0]=[i,i+a.outerHeight()]);for(var o=ge.offset().top,l=pe.offset().top,c=l+pe.outerHeight(),u=0;Ne*He>u;u++)e.push([r(o+Re*u),r(o+Re*(u+1))])}),Pe=new be(_e),ze=new De(function(t){return ie.eq(t)}),Ye=new De(function(t){return se.eq(t)})}function te(){function n(t,e){var n,r=t.length,i=[],s=[];for(n=0;r>n;n++)t[n].allDay?i.push(t[n]):s.push(t[n]);y("allDaySlot")&&(te(i,e),E()),o(a(s),e)}function r(){k().empty(),O().empty()}function a(e){var n,r,a,o,l,c=W(),d=I(),f=R(),p=t.map(e,s),g=[];for(r=0;c>r;r++)for(n=Y(0,r),u(n,d),l=i(e,p,n,u(h(n),f-d)),l=ee(l),a=0;a<l.length;a++)o=l[a],o.col=r,g.push(o);return g}function i(t,e,n,r){var a,i,s,o,l,c,u,d,f=[],p=t.length;for(a=0;p>a;a++)i=t[a],s=i.start,o=e[a],o>n&&r>s&&(n>s?(l=h(n),u=!1):(l=s,u=!0),o>r?(c=h(r),d=!1):(c=o,d=!0),f.push({event:i,start:l,end:c,isStart:u,isEnd:d}));return f.sort(ue)}function s(t){return t.end?h(t.end):u(h(t.start),y("defaultEventMinutes"))}function o(n,r){var a,i,s,o,l,u,h,f,p,g,v,m,w,D,C,S,M=n.length,F="",E=O(),k=y("isRTL");for(a=0;M>a;a++)i=n[a],s=i.event,o=N(i.start,i.start),l=N(i.start,i.end),u=P(i.col),h=z(i.col),f=h-u,h-=.025*f,f=h-u,p=f*(i.forwardCoord-i.backwardCoord),y("slotEventOverlap")&&(p=Math.max(2*(p-10),p)),k?(v=h-i.backwardCoord*f,g=v-p):(g=u+i.backwardCoord*f,v=g+p),g=Math.max(g,u),v=Math.min(v,h),p=v-g,i.top=o,i.left=g,i.outerWidth=p,i.outerHeight=l-o,F+=c(s,i);for(E[0].innerHTML=F,m=E.children(),a=0;M>a;a++)i=n[a],s=i.event,w=t(m[a]),D=b("eventRender",s,s,w),D===!1?w.remove():(D&&D!==!0&&(w.remove(),w=t(D).css({position:"absolute",top:i.top,left:i.left}).appendTo(E)),i.element=w,s._id===r?d(s,w,i):w[0]._fci=a,J(s,w));for(x(E,n,d),a=0;M>a;a++)i=n[a],(w=i.element)&&(i.vsides=A(w,!0),i.hsides=T(w,!0),C=w.find(".fc-event-title"),C.length&&(i.contentTop=C[0].offsetTop));for(a=0;M>a;a++)i=n[a],(w=i.element)&&(w[0].style.width=Math.max(0,i.outerWidth-i.hsides)+"px",S=Math.max(0,i.outerHeight-i.vsides),w[0].style.height=S+"px",s=i.event,i.contentTop!==e&&S-i.contentTop<10&&(w.find("div.fc-event-time").text(re(s.start,y("timeFormat"))+" - "+s.title),w.find("div.fc-event-title").remove()),b("eventAfterRender",s,s,w))}function c(t,e){var n="<",r=t.url,a=q(t,y),i=["fc-event","fc-event-vert"];return w(t)&&i.push("fc-event-draggable"),e.isStart&&i.push("fc-event-start"),e.isEnd&&i.push("fc-event-end"),i=i.concat(t.className),t.source&&(i=i.concat(t.source.className||[])),n+=r?"a href='"+L(t.url)+"'":"div",n+=" class='"+i.join(" ")+"' style='position:absolute;top:"+e.top+"px;left:"+e.left+"px;"+a+"'><div class='fc-event-inner'><div class='fc-event-time'>"+L(ae(t.start,t.end,y("timeFormat")))+"</div><div class='fc-event-title'>"+L(t.title||"")+"</div></div><div class='fc-event-bg'></div>",e.isEnd&&D(t)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(r?"a":"div")+">"}function d(t,e,n){var r=e.find("div.fc-event-time");w(t)&&g(t,e,r),n.isEnd&&D(t)&&v(t,e,r),M(t,e)}function f(t,e,n){function r(){c||(e.width(a).height("").draggable("option","grid",null),c=!0)}var a,i,s,o=n.isStart,c=!0,u=H(),d=j(),f=B(),g=U(),v=I();e.draggable({opacity:y("dragOpacity","month"),revertDuration:y("dragRevertDuration"),start:function(n,v){b("eventDragStart",e,t,n,v),G(t,e),a=e.width(),u.start(function(n,a){if(Q(),n){i=!1;var u=Y(0,a.col),v=Y(0,n.col);s=p(v,u),n.row?o?c&&(e.width(d-10),F(e,f*Math.round((t.end?(t.end-t.start)/Ae:y("defaultEventMinutes"))/g)),e.draggable("option","grid",[d,1]),c=!1):i=!0:(X(l(h(t.start),s),l(C(t),s)),r()),i=i||c&&!s}else r(),i=!0;e.draggable("option","revert",i)},n,"drag")},stop:function(n,a){if(u.stop(),Q(),b("eventDragStop",e,t,n,a),i)r(),e.css("filter",""),$(t,e);else{var o=0;c||(o=Math.round((e.offset().top-V().offset().top)/f)*g+v-(60*t.start.getHours()+t.start.getMinutes())),K(this,t,s,o,c,n,a)}}})}function g(t,e,n){function r(){Q(),o&&(d?(n.hide(),e.draggable("option","grid",null),X(l(h(t.start),w),l(C(t),w))):(a(D),n.css("display",""),e.draggable("option","grid",[F,T])))}function a(e){var r,a=u(h(t.start),e);t.end&&(r=u(h(t.end),e)),n.text(ae(a,r,y("timeFormat")))}var i,s,o,c,d,f,g,v,w,D,S,x=m.getCoordinateGrid(),M=W(),F=j(),T=B(),E=U();e.draggable({scroll:!1,grid:[F,T],axis:1==M?"y":!1,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(n,r){b("eventDragStart",e,t,n,r),G(t,e),x.build(),i=e.position(),s=x.cell(n.pageX,n.pageY),o=c=!0,d=f=_(s),g=v=0,w=0,D=S=0
},drag:function(t,n){var a=x.cell(t.pageX,t.pageY);if(o=!!a){if(d=_(a),g=Math.round((n.position.left-i.left)/F),g!=v){var l=Y(0,s.col),u=s.col+g;u=Math.max(0,u),u=Math.min(M-1,u);var h=Y(0,u);w=p(h,l)}d||(D=Math.round((n.position.top-i.top)/T)*E)}(o!=c||d!=f||g!=v||D!=S)&&(r(),c=o,f=d,v=g,S=D),e.draggable("option","revert",!o)},stop:function(n,a){Q(),b("eventDragStop",e,t,n,a),o&&(d||w||D)?K(this,t,w,d?0:D,d,n,a):(o=!0,d=!1,g=0,w=0,D=0,r(),e.css("filter",""),e.css(i),$(t,e))}})}function v(t,e,n){var r,a,i=B(),s=U();e.resizable({handles:{s:".ui-resizable-handle"},grid:i,start:function(n,i){r=a=0,G(t,e),b("eventResizeStart",this,t,n,i)},resize:function(o,l){r=Math.round((Math.max(i,e.height())-l.originalSize.height)/i),r!=a&&(n.text(ae(t.start,r||t.end?u(S(t),s*r):null,y("timeFormat"))),a=r)},stop:function(n,a){b("eventResizeStop",this,t,n,a),r?Z(this,t,0,s*r,n,a):$(t,e)}})}var m=this;m.renderEvents=n,m.clearEvents=r,m.slotSegHtml=c,he.call(m);var y=m.opt,b=m.trigger,w=m.isEventDraggable,D=m.isEventResizable,S=m.eventEnd,M=m.eventElementHandlers,E=m.setHeight,k=m.getDaySegmentContainer,O=m.getSlotSegmentContainer,H=m.getHoverListener,R=m.getMaxMinute,I=m.getMinMinute,N=m.timePosition,_=m.getIsCellAllDay,P=m.colContentLeft,z=m.colContentRight,Y=m.cellToDate,W=m.getColCnt,j=m.getColWidth,B=m.getSnapHeight,U=m.getSnapMinutes,V=m.getSlotContainer,J=m.reportEventElement,$=m.showEvents,G=m.hideEvents,K=m.eventDrop,Z=m.eventResize,X=m.renderDayOverlay,Q=m.clearOverlays,te=m.renderDayEvents,ne=m.calendar,re=ne.formatDate,ae=ne.formatDates;m.draggableDayEvent=f}function ee(t){var e,n=ne(t),r=n[0];if(re(n),r){for(e=0;e<r.length;e++)ae(r[e]);for(e=0;e<r.length;e++)ie(r[e],0,0)}return se(n)}function ne(t){var e,n,r,a=[];for(e=0;e<t.length;e++){for(n=t[e],r=0;r<a.length&&oe(n,a[r]).length;r++);(a[r]||(a[r]=[])).push(n)}return a}function re(t){var e,n,r,a,i;for(e=0;e<t.length;e++)for(n=t[e],r=0;r<n.length;r++)for(a=n[r],a.forwardSegs=[],i=e+1;i<t.length;i++)oe(a,t[i],a.forwardSegs)}function ae(t){var n,r,a=t.forwardSegs,i=0;if(t.forwardPressure===e){for(n=0;n<a.length;n++)r=a[n],ae(r),i=Math.max(i,1+r.forwardPressure);t.forwardPressure=i}}function ie(t,n,r){var a,i=t.forwardSegs;if(t.forwardCoord===e)for(i.length?(i.sort(ce),ie(i[0],n+1,r),t.forwardCoord=i[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-r)/(n+1),a=0;a<i.length;a++)ie(i[a],0,t.forwardCoord)}function se(t){var e,n,r,a=[];for(e=0;e<t.length;e++)for(n=t[e],r=0;r<n.length;r++)a.push(n[r]);return a}function oe(t,e,n){n=n||[];for(var r=0;r<e.length;r++)le(t,e[r])&&n.push(e[r]);return n}function le(t,e){return t.end>e.start&&t.start<e.end}function ce(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||ue(t,e)}function ue(t,e){return t.start-e.start||e.end-e.start-(t.end-t.start)||(t.event.title||"").localeCompare(e.event.title)}function de(n,r,a){function i(e,n){var r=J[e];return t.isPlainObject(r)?Y(r,n||a):r}function s(t,e){return r.trigger.apply(r,[t,e||z].concat(Array.prototype.slice.call(arguments,2),[z]))}function o(t){var e=t.source||{};return U(t.startEditable,e.startEditable,i("eventStartEditable"),t.editable,e.editable,i("editable"))&&!i("disableDragging")}function c(t){var e=t.source||{};return U(t.durationEditable,e.durationEditable,i("eventDurationEditable"),t.editable,e.editable,i("editable"))&&!i("disableResizing")}function d(t){q={};var e,n,r=t.length;for(e=0;r>e;e++)n=t[e],q[n._id]?q[n._id].push(n):q[n._id]=[n]}function f(){q={},B={},V=[]}function g(t){return t.end?h(t.end):L(t)}function v(t,e){V.push({event:t,element:e}),B[t._id]?B[t._id].push(e):B[t._id]=[e]}function m(){t.each(V,function(t,e){z.trigger("eventDestroy",e.event,e.event,e.element)})}function y(t,e){e.click(function(n){return e.hasClass("ui-draggable-dragging")||e.hasClass("ui-resizable-resizing")?void 0:s("eventClick",this,t,n)}).hover(function(e){s("eventMouseover",this,t,e)},function(e){s("eventMouseout",this,t,e)})}function b(t,e){D(t,e,"show")}function w(t,e){D(t,e,"hide")}function D(t,e,n){var r,a=B[t._id],i=a.length;for(r=0;i>r;r++)e&&a[r][0]==e[0]||a[r][n]()}function C(t,e,n,r,a,i,o){var l=e.allDay,c=e._id;x(q[c],n,r,a),s("eventDrop",t,e,n,r,a,function(){x(q[c],-n,-r,l),j(c)},i,o),j(c)}function S(t,e,n,r,a,i){var o=e._id;M(q[o],n,r),s("eventResize",t,e,n,r,function(){M(q[o],-n,-r),j(o)},a,i),j(o)}function x(t,n,r,a){r=r||0;for(var i,s=t.length,o=0;s>o;o++)i=t[o],a!==e&&(i.allDay=a),u(l(i.start,n,!0),r),i.end&&(i.end=u(l(i.end,n,!0),r)),W(i,J)}function M(t,e,n){n=n||0;for(var r,a=t.length,i=0;a>i;i++)r=t[i],r.end=u(l(g(r),e,!0),n),W(r,J)}function F(t){return"object"==typeof t&&(t=t.getDay()),K[t]}function T(){return $}function E(t,e,n){for(e=e||1;K[(t.getDay()+(n?e:0)+7)%7];)l(t,e)}function k(){var t=O.apply(null,arguments),e=A(t),n=H(e);return n}function O(t,e){var n=z.getColCnt(),r=Q?-1:1,a=Q?n-1:0;"object"==typeof t&&(e=t.col,t=t.row);var i=t*n+(e*r+a);return i}function A(t){var e=z.visStart.getDay();return t+=Z[e],7*Math.floor(t/$)+X[(t%$+$)%$]-e}function H(t){var e=h(z.visStart);return l(e,t),e}function R(t){var e=I(t),n=N(e),r=_(n);return r}function I(t){return p(t,z.visStart)}function N(t){var e=z.visStart.getDay();return t+=e,Math.floor(t/7)*$+Z[(t%7+7)%7]-Z[e]}function _(t){var e=z.getColCnt(),n=Q?-1:1,r=Q?e-1:0,a=Math.floor(t/e),i=(t%e+e)%e*n+r;return{row:a,col:i}}function P(t,e){for(var n=z.getRowCnt(),r=z.getColCnt(),a=[],i=I(t),s=I(e),o=N(i),l=N(s)-1,c=0;n>c;c++){var u=c*r,d=u+r-1,h=Math.max(o,u),f=Math.min(l,d);if(f>=h){var p=_(h),g=_(f),v=[p.col,g.col].sort(),m=A(h)==i,y=A(f)+1==s;a.push({row:c,leftCol:v[0],rightCol:v[1],isStart:m,isEnd:y})}}return a}var z=this;z.element=n,z.calendar=r,z.name=a,z.opt=i,z.trigger=s,z.isEventDraggable=o,z.isEventResizable=c,z.setEventData=d,z.clearEventData=f,z.eventEnd=g,z.reportEventElement=v,z.triggerEventDestroy=m,z.eventElementHandlers=y,z.showEvents=b,z.hideEvents=w,z.eventDrop=C,z.eventResize=S;var L=z.defaultEventEnd,W=r.normalizeEvent,j=r.reportEventChange,q={},B={},V=[],J=r.options;z.isHiddenDay=F,z.skipHiddenDays=E,z.getCellsPerWeek=T,z.dateToCell=R,z.dateToDayOffset=I,z.dayOffsetToCellOffset=N,z.cellOffsetToCell=_,z.cellToDate=k,z.cellToCellOffset=O,z.cellOffsetToDayOffset=A,z.dayOffsetToDate=H,z.rangeToSegments=P;var $,G=i("hiddenDays")||[],K=[],Z=[],X=[],Q=i("isRTL");!function(){i("weekends")===!1&&G.push(0,6);for(var e=0,n=0;7>e;e++)Z[e]=n,K[e]=-1!=t.inArray(e,G),K[e]||(X[n]=e,n++);if($=n,!$)throw"invalid hiddenDays"}()}function he(){function e(t,e){var n=r(t,!1,!0);pe(n,function(t,e){H(t.event,e)}),b(n,e),pe(n,function(t,e){E("eventAfterRender",t.event,t.event,e)})}function n(t,e,n){var a=r([t],!0,!1),i=[];return pe(a,function(t,r){t.row===e&&r.css("top",n),i.push(r[0])}),i}function r(e,n,r){var i,l,c=G(),h=n?t("<div/>"):c,f=a(e);return s(f),i=o(f),h[0].innerHTML=i,l=h.children(),n&&c.append(l),u(f,l),pe(f,function(t,e){t.hsides=T(e,!0)}),pe(f,function(t,e){e.width(Math.max(0,t.outerWidth-t.hsides))}),pe(f,function(t,e){t.outerHeight=e.outerHeight(!0)}),d(f,r),f}function a(t){for(var e=[],n=0;n<t.length;n++){var r=i(t[n]);e.push.apply(e,r)}return e}function i(t){for(var e=t.start,n=C(t),r=ee(e,n),a=0;a<r.length;a++)r[a].event=t;return r}function s(t){for(var e=F("isRTL"),n=0;n<t.length;n++){var r=t[n],a=(e?r.isEnd:r.isStart)?J:U,i=(e?r.isStart:r.isEnd)?$:V,s=a(r.leftCol),o=i(r.rightCol);r.left=s,r.outerWidth=o-s}}function o(t){for(var e="",n=0;n<t.length;n++)e+=c(t[n]);return e}function c(t){var e="",n=F("isRTL"),r=t.event,a=r.url,i=["fc-event","fc-event-hori"];k(r)&&i.push("fc-event-draggable"),t.isStart&&i.push("fc-event-start"),t.isEnd&&i.push("fc-event-end"),i=i.concat(r.className),r.source&&(i=i.concat(r.source.className||[]));var s=q(r,F);return e+=a?"<a href='"+L(a)+"'":"<div",e+=" class='"+i.join(" ")+"' style='position:absolute;left:"+t.left+"px;"+s+"'><div class='fc-event-inner'>",!r.allDay&&t.isStart&&(e+="<span class='fc-event-time'>"+L(K(r.start,r.end,F("timeFormat")))+"</span>"),e+="<span class='fc-event-title'>"+L(r.title||"")+"</span></div>",t.isEnd&&O(r)&&(e+="<div class='ui-resizable-handle ui-resizable-"+(n?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),e+="</"+(a?"a":"div")+">"}function u(e,n){for(var r=0;r<e.length;r++){var a=e[r],i=a.event,s=n.eq(r),o=E("eventRender",i,i,s);o===!1?s.remove():(o&&o!==!0&&(o=t(o).css({position:"absolute",left:a.left}),s.replaceWith(o),s=o),a.element=s)}}function d(t,e){var n=f(t),r=y(),a=[];if(e)for(var i=0;i<r.length;i++)r[i].height(n[i]);for(var i=0;i<r.length;i++)a.push(r[i].position().top);pe(t,function(t,e){e.css("top",a[t.row]+t.top)})}function f(t){for(var e=Y(),n=j(),r=[],a=g(t),i=0;e>i;i++){for(var s=a[i],o=[],l=0;n>l;l++)o.push(0);for(var c=0;c<s.length;c++){var u=s[c];u.top=P(o.slice(u.leftCol,u.rightCol+1));for(var l=u.leftCol;l<=u.rightCol;l++)o[l]=u.top+u.outerHeight}r.push(P(o))}return r}function g(t){var e,n,r,a=Y(),i=[];for(e=0;e<t.length;e++)n=t[e],r=n.row,n.element&&(i[r]?i[r].push(n):i[r]=[n]);for(r=0;a>r;r++)i[r]=v(i[r]||[]);return i}function v(t){for(var e=[],n=m(t),r=0;r<n.length;r++)e.push.apply(e,n[r]);return e}function m(t){t.sort(ge);for(var e=[],n=0;n<t.length;n++){for(var r=t[n],a=0;a<e.length&&fe(r,e[a]);a++);e[a]?e[a].push(r):e[a]=[r]}return e}function y(){var t,e=Y(),n=[];for(t=0;e>t;t++)n[t]=B(t).find("div.fc-day-content > div");return n}function b(t,e){var n=G();pe(t,function(t,n,r){var a=t.event;a._id===e?w(a,n,t):n[0]._fci=r}),x(n,t,w)}function w(t,e,n){k(t)&&M.draggableDayEvent(t,e,n),n.isEnd&&O(t)&&M.resizableDayEvent(t,e,n),R(t,e)}function D(t,e){var n,r=te();e.draggable({delay:50,opacity:F("dragOpacity"),revertDuration:F("dragRevertDuration"),start:function(a,i){E("eventDragStart",e,t,a,i),N(t,e),r.start(function(r,a,i,s){if(e.draggable("option","revert",!r||!i&&!s),X(),r){var o=ne(a),c=ne(r);n=p(c,o),Z(l(h(t.start),n),l(C(t),n))}else n=0},a,"drag")},stop:function(a,i){r.stop(),X(),E("eventDragStop",e,t,a,i),n?_(this,t,n,0,t.allDay,a,i):(e.css("filter",""),I(t,e))}})}function S(e,r,a){var i=F("isRTL"),s=i?"w":"e",o=r.find(".ui-resizable-"+s),c=!1;W(r),r.mousedown(function(t){t.preventDefault()}).click(function(t){c&&(t.preventDefault(),t.stopImmediatePropagation())}),o.mousedown(function(i){function o(n){E("eventResizeStop",this,e,n),t("body").css("cursor",""),h.stop(),X(),u&&z(this,e,u,0,n),setTimeout(function(){c=!1},0)}if(1==i.which){c=!0;var u,d,h=te(),f=(Y(),j(),r.css("top")),p=t.extend({},e),g=se(ie(e.start));Q(),t("body").css("cursor",s+"-resize").one("mouseup",o),E("eventResizeStart",this,e,i),h.start(function(r,i){if(r){var o=re(i),c=re(r);if(c=Math.max(c,g),u=ae(c)-ae(o)){p.end=l(A(e),u,!0);var h=d;d=n(p,a.row,f),d=t(d),d.find("*").css("cursor",s+"-resize"),h&&h.remove(),N(e)}else d&&(I(e),d.remove(),d=null);X(),Z(e.start,l(C(e),u))}},i)}})}var M=this;M.renderDayEvents=e,M.draggableDayEvent=D,M.resizableDayEvent=S;var F=M.opt,E=M.trigger,k=M.isEventDraggable,O=M.isEventResizable,A=M.eventEnd,H=M.reportEventElement,R=M.eventElementHandlers,I=M.showEvents,N=M.hideEvents,_=M.eventDrop,z=M.eventResize,Y=M.getRowCnt,j=M.getColCnt,B=(M.getColWidth,M.allDayRow),U=M.colLeft,V=M.colRight,J=M.colContentLeft,$=M.colContentRight,G=(M.dateToCell,M.getDaySegmentContainer),K=M.calendar.formatDates,Z=M.renderDayOverlay,X=M.clearOverlays,Q=M.clearSelection,te=M.getHoverListener,ee=M.rangeToSegments,ne=M.cellToDate,re=M.cellToCellOffset,ae=M.cellOffsetToDayOffset,ie=M.dateToDayOffset,se=M.dayOffsetToCellOffset}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(r.leftCol<=t.rightCol&&r.rightCol>=t.leftCol)return!0}return!1}function pe(t,e){for(var n=0;n<t.length;n++){var r=t[n],a=r.element;a&&e(r,a,n)}}function ge(t,e){return e.rightCol-e.leftCol-(t.rightCol-t.leftCol)||e.event.allDay-t.event.allDay||t.event.start-e.event.start||(t.event.title||"").localeCompare(e.event.title)}function ve(){function e(t,e,a){n(),e||(e=l(t,a)),c(t,e,a),r(t,e,a)}function n(t){d&&(d=!1,u(),o("unselect",null,t))}function r(t,e,n,r){d=!0,o("select",null,t,e,n,r)}function a(e){var a=i.cellToDate,o=i.getIsCellAllDay,l=i.getHoverListener(),d=i.reportDayClick;if(1==e.which&&s("selectable")){n(e);var h;l.start(function(t,e){u(),t&&o(t)?(h=[a(e),a(t)].sort(_),c(h[0],h[1],!0)):h=null},e),t(document).one("mouseup",function(t){l.stop(),h&&(+h[0]==+h[1]&&d(h[0],!0,t),r(h[0],h[1],!0,t))})}}var i=this;i.select=e,i.unselect=n,i.reportSelection=r,i.daySelectionMousedown=a;var s=i.opt,o=i.trigger,l=i.defaultSelectionEnd,c=i.renderSelection,u=i.clearSelection,d=!1;s("selectable")&&s("unselectAuto")&&t(document).mousedown(function(e){var r=s("unselectCancel");r&&t(e.target).parents(r).length||n(e)})}function me(){function e(e,n){var r=i.shift();return r||(r=t("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),r[0].parentNode!=n[0]&&r.appendTo(n),a.push(r.css(e).show()),r}function n(){for(var t;t=a.shift();)i.push(t.hide().unbind())}var r=this;r.renderOverlay=e,r.clearOverlays=n;var a=[],i=[]}function ye(t){var e,n,r=this;r.build=function(){e=[],n=[],t(e,n)},r.cell=function(t,r){var a,i=e.length,s=n.length,o=-1,l=-1;for(a=0;i>a;a++)if(r>=e[a][0]&&r<e[a][1]){o=a;break}for(a=0;s>a;a++)if(t>=n[a][0]&&t<n[a][1]){l=a;break}return o>=0&&l>=0?{row:o,col:l}:null},r.rect=function(t,r,a,i,s){var o=s.offset();return{top:e[t][0]-o.top,left:n[r][0]-o.left,width:n[i][1]-n[r][0],height:e[a][1]-e[t][0]}}}function be(e){function n(t){we(t);var n=e.cell(t.pageX,t.pageY);(!n!=!s||n&&(n.row!=s.row||n.col!=s.col))&&(n?(i||(i=n),a(n,i,n.row-i.row,n.col-i.col)):a(n,i),s=n)}var r,a,i,s,o=this;o.start=function(o,l,c){a=o,i=s=null,e.build(),n(l),r=c||"mousemove",t(document).bind(r,n)},o.stop=function(){return t(document).unbind(r,n),s}}function we(t){t.pageX===e&&(t.pageX=t.originalEvent.pageX,t.pageY=t.originalEvent.pageY)}function De(t){function n(e){return a[e]=a[e]||t(e)}var r=this,a={},i={},s={};r.left=function(t){return i[t]=i[t]===e?n(t).position().left:i[t]},r.right=function(t){return s[t]=s[t]===e?r.left(t)+n(t).width():s[t]},r.clear=function(){a={},i={},s={}}}var Ce={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},Se={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},xe=t.fullCalendar={version:"1.6.4"},Me=xe.views={};t.fn.fullCalendar=function(n){if("string"==typeof n){var a,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=t.data(this,"fullCalendar");if(r&&t.isFunction(r[n])){var s=r[n].apply(r,i);a===e&&(a=s),"destroy"==n&&t.removeData(this,"fullCalendar")}}),a!==e?a:this}n=n||{};var s=n.eventSources||[];return delete n.eventSources,n.events&&(s.push(n.events),delete n.events),n=t.extend(!0,{},Ce,n.isRTL||n.isRTL===e&&Ce.isRTL?Se:{},n),this.each(function(e,a){var i=t(a),o=new r(i,n,s);i.data("fullCalendar",o),o.render()}),this},xe.sourceNormalizers=[],xe.sourceFetchers=[];var Fe={dataType:"json",cache:!1},Te=1;xe.addDays=l,xe.cloneDate=h,xe.parseDate=v,xe.parseISO8601=m,xe.parseTime=y,xe.formatDate=b,xe.formatDates=w;var Ee=["sun","mon","tue","wed","thu","fri","sat"],ke=864e5,Oe=36e5,Ae=6e4,He={s:function(t){return t.getSeconds()},ss:function(t){return z(t.getSeconds())},m:function(t){return t.getMinutes()},mm:function(t){return z(t.getMinutes())},h:function(t){return t.getHours()%12||12},hh:function(t){return z(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return z(t.getHours())},d:function(t){return t.getDate()},dd:function(t){return z(t.getDate())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return z(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},yy:function(t){return(t.getFullYear()+"").substring(2)},yyyy:function(t){return t.getFullYear()},t:function(t){return t.getHours()<12?"a":"p"},tt:function(t){return t.getHours()<12?"am":"pm"},T:function(t){return t.getHours()<12?"A":"P"},TT:function(t){return t.getHours()<12?"AM":"PM"},u:function(t){return b(t,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(t){var e=t.getDate();return e>10&&20>e?"th":["st","nd","rd"][e%10-1]||"th"},w:function(t,e){return e.weekNumberCalculation(t)},W:function(t){return D(t)}};xe.dateFormatters=He,xe.applyAll=B,Me.month=V,Me.basicWeek=J,Me.basicDay=$,n({weekMode:"fixed"}),Me.agendaWeek=Z,Me.agendaDay=X,n({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})}(jQuery),function(t,e){function n(e){t.extend(!0,Ce,e)}function r(n,r,c){function u(t){ae?v()&&(M(),S(t)):d()}function d(){ie=r.theme?"ui":"fc",n.addClass("fc"),r.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),r.theme&&n.addClass("ui-widget"),ae=t("<div class='fc-content' style='position:relative'/>").prependTo(n),ne=new a(ee,r),re=ne.render(),re&&n.prepend(re),y(r.defaultView),r.handleWindowResize&&t(window).resize(T),m()||f()}function f(){setTimeout(function(){!se.start&&m()&&C()},0)}function p(){se&&(te("viewDestroy",se,se,se.element),se.triggerEventDestroy()),t(window).unbind("resize",T),ne.destroy(),ae.remove(),n.removeClass("fc fc-rtl ui-widget")}function v(){return n.is(":visible")}function m(){return t("body").is(":visible")}function y(t){se&&t==se.name||D(t)}function D(e){pe++,se&&(te("viewDestroy",se,se,se.element),W(),se.triggerEventDestroy(),K(),se.element.remove(),ne.deactivateButton(se.name)),ne.activateButton(e),se=new Me[e](t("<div class='fc-view fc-view-"+e+"' style='position:relative'/>").appendTo(ae),ee),C(),Z(),pe--}function C(t){(!se.start||t||se.start>ge||ge>=se.end)&&v()&&S(t)}function S(t){pe++,se.start&&(te("viewDestroy",se,se,se.element),W(),H()),K(),se.render(ge,t||0),F(),Z(),(se.afterRender||N)(),z(),Y(),te("viewRender",se,se,se.element),se.trigger("viewDisplay",he),pe--,R()}function x(){v()&&(W(),H(),M(),F(),O())}function M(){le=r.contentHeight?r.contentHeight:r.height?r.height-(re?re.height():0)-A(ae):Math.round(ae.width()/Math.max(r.aspectRatio,.5))}function F(){le===e&&M(),pe++,se.setHeight(le),se.setWidth(ae.width()),pe--,oe=n.outerWidth()}function T(){if(!pe)if(se.start){var t=++fe;setTimeout(function(){t==fe&&!pe&&v()&&oe!=(oe=n.outerWidth())&&(pe++,x(),se.trigger("windowResize",he),pe--)},200)}else f()}function E(){H(),I()}function k(t){H(),O(t)}function O(t){v()&&(se.setEventData(ve),se.renderEvents(ve,t),se.trigger("eventAfterAllRender"))}function H(){se.triggerEventDestroy(),se.clearEvents(),se.clearEventData()}function R(){!r.lazyFetching||ue(se.visStart,se.visEnd)?I():O()}function I(){de(se.visStart,se.visEnd)}function _(t){ve=t,O()}function P(t){k(t)}function z(){ne.updateTitle(se.title)}function Y(){var t=new Date;t>=se.start&&se.end>t?ne.disableButton("today"):ne.enableButton("today")}function L(t,n,r){se.select(t,n,r===e?!0:r)}function W(){se&&se.unselect()}function j(){C(-1)}function q(){C(1)}function B(){s(ge,-1),C()}function U(){s(ge,1),C()}function V(){ge=new Date,C()}function J(t,e,n){t instanceof Date?ge=h(t):g(ge,t,e,n),C()}function $(t,n,r){t!==e&&s(ge,t),n!==e&&o(ge,n),r!==e&&l(ge,r),C()}function G(){return h(ge)}function K(){ae.css({width:"100%",height:ae.height(),overflow:"hidden"})}function Z(){ae.css({width:"",height:"",overflow:""})}function X(){return se}function Q(t,n){return n===e?r[t]:(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(r[t]=n,x()),e)}function te(t,n){return r[t]?r[t].apply(n||he,Array.prototype.slice.call(arguments,2)):e}var ee=this;ee.options=r,ee.render=u,ee.destroy=p,ee.refetchEvents=E,ee.reportEvents=_,ee.reportEventChange=P,ee.rerenderEvents=k,ee.changeView=y,ee.select=L,ee.unselect=W,ee.prev=j,ee.next=q,ee.prevYear=B,ee.nextYear=U,ee.today=V,ee.gotoDate=J,ee.incrementDate=$,ee.formatDate=function(t,e){return b(t,e,r)},ee.formatDates=function(t,e,n){return w(t,e,n,r)},ee.getDate=G,ee.getView=X,ee.option=Q,ee.trigger=te,i.call(ee,r,c);var ne,re,ae,ie,se,oe,le,ce,ue=ee.isFetchNeeded,de=ee.fetchEvents,he=n[0],fe=0,pe=0,ge=new Date,ve=[];g(ge,r.year,r.month,r.date),r.droppable&&t(document).bind("dragstart",function(e,n){var a=e.target,i=t(a);if(!i.parents(".fc").length){var s=r.dropAccept;(t.isFunction(s)?s.call(a,i):i.is(s))&&(ce=a,se.dragStart(ce,e,n))}}).bind("dragstop",function(t,e){ce&&(se.dragStop(ce,t,e),ce=null)})}function a(n,r){function a(){f=r.theme?"ui":"fc";var n=r.header;return n?p=t("<table class='fc-header' style='width:100%'/>").append(t("<tr/>").append(s("left")).append(s("center")).append(s("right"))):e}function i(){p.remove()}function s(e){var a=t("<td class='fc-header-"+e+"'/>"),i=r.header[e];return i&&t.each(i.split(" "),function(e){e>0&&a.append("<span class='fc-header-space'/>");var i;t.each(this.split(","),function(e,s){if("title"==s)a.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),i&&i.addClass(f+"-corner-right"),i=null;else{var o;if(n[s]?o=n[s]:Me[s]&&(o=function(){u.removeClass(f+"-state-hover"),n.changeView(s)}),o){var l=r.theme?Y(r.buttonIcons,s):null,c=Y(r.buttonText,s),u=t("<span class='fc-button fc-button-"+s+" "+f+"-state-default'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/></span>":c)+"</span>").click(function(){u.hasClass(f+"-state-disabled")||o()}).mousedown(function(){u.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){u.removeClass(f+"-state-down")}).hover(function(){u.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){u.removeClass(f+"-state-hover").removeClass(f+"-state-down")}).appendTo(a);W(u),i||u.addClass(f+"-corner-left"),i=u}}}),i&&i.addClass(f+"-corner-right")}),a}function o(t){p.find("h2").html(t)}function l(t){p.find("span.fc-button-"+t).addClass(f+"-state-active")}function c(t){p.find("span.fc-button-"+t).removeClass(f+"-state-active")}function u(t){p.find("span.fc-button-"+t).addClass(f+"-state-disabled")}function d(t){p.find("span.fc-button-"+t).removeClass(f+"-state-disabled")}var h=this;h.render=a,h.destroy=i,h.updateTitle=o,h.activateButton=l,h.deactivateButton=c,h.disableButton=u,h.enableButton=d;var f,p=t([])}function i(n,r){function a(t,e){return!x||x>t||e>M}function i(t,e){x=t,M=e,I=[];var n=++A,r=O.length;H=r;for(var a=0;r>a;a++)s(O[a],n)}function s(e,r){o(e,function(a){if(r==A){if(a){n.eventDataTransform&&(a=t.map(a,n.eventDataTransform)),e.eventDataTransform&&(a=t.map(a,e.eventDataTransform));for(var i=0;a.length>i;i++)a[i].source=e,b(a[i]);I=I.concat(a)}H--,H||E(I)}})}function o(r,a){var i,s,l=xe.sourceFetchers;for(i=0;l.length>i;i++){if(s=l[i](r,x,M,a),s===!0)return;if("object"==typeof s)return o(s,a),e}var c=r.events;if(c)t.isFunction(c)?(m(),c(h(x),h(M),function(t){a(t),y()})):t.isArray(c)?a(c):a();else{var u=r.url;if(u){var d,f=r.success,p=r.error,g=r.complete;d=t.isFunction(r.data)?r.data():r.data;var v=t.extend({},d||{}),b=U(r.startParam,n.startParam),w=U(r.endParam,n.endParam);b&&(v[b]=Math.round(+x/1e3)),w&&(v[w]=Math.round(+M/1e3)),m(),t.ajax(t.extend({},Fe,r,{data:v,success:function(e){e=e||[];var n=B(f,this,arguments);t.isArray(n)&&(e=n),a(e)},error:function(){B(p,this,arguments),a()},complete:function(){B(g,this,arguments),y()}}))}else a()}}function l(t){t=c(t),t&&(H++,s(t,A))}function c(n){return t.isFunction(n)||t.isArray(n)?n={events:n}:"string"==typeof n&&(n={url:n}),"object"==typeof n?(w(n),O.push(n),n):e}function u(e){O=t.grep(O,function(t){return!D(t,e)}),I=t.grep(I,function(t){return!D(t.source,e)}),E(I)}function d(t){var e,n,r=I.length,a=T().defaultEventEnd,i=t.start-t._start,s=t.end?t.end-(t._end||a(t)):0;for(e=0;r>e;e++)n=I[e],n._id==t._id&&n!=t&&(n.start=new Date(+n.start+i),n.end=t.end?n.end?new Date(+n.end+s):new Date(+a(n)+s):null,n.title=t.title,n.url=t.url,n.allDay=t.allDay,n.className=t.className,n.editable=t.editable,n.color=t.color,n.backgroundColor=t.backgroundColor,n.borderColor=t.borderColor,n.textColor=t.textColor,b(n));b(t),E(I)}function f(t,e){b(t),t.source||(e&&(k.events.push(t),t.source=k),I.push(t)),E(I)}function p(e){if(e){if(!t.isFunction(e)){var n=e+"";e=function(t){return t._id==n}}I=t.grep(I,e,!0);for(var r=0;O.length>r;r++)t.isArray(O[r].events)&&(O[r].events=t.grep(O[r].events,e,!0))}else{I=[];for(var r=0;O.length>r;r++)t.isArray(O[r].events)&&(O[r].events=[])}E(I)}function g(e){return t.isFunction(e)?t.grep(I,e):e?(e+="",t.grep(I,function(t){return t._id==e})):I}function m(){R++||F("loading",null,!0,T())}function y(){--R||F("loading",null,!1,T())}function b(t){var r=t.source||{},a=U(r.ignoreTimezone,n.ignoreTimezone);t._id=t._id||(t.id===e?"_fc"+Te++:t.id+""),t.date&&(t.start||(t.start=t.date),delete t.date),t._start=h(t.start=v(t.start,a)),t.end=v(t.end,a),t.end&&t.end<=t.start&&(t.end=null),t._end=t.end?h(t.end):null,t.allDay===e&&(t.allDay=U(r.allDayDefault,n.allDayDefault)),t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[]}function w(t){t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[];for(var e=xe.sourceNormalizers,n=0;e.length>n;n++)e[n](t)}function D(t,e){return t&&e&&C(t)==C(e)}function C(t){return("object"==typeof t?t.events||t.url:"")||t}var S=this;S.isFetchNeeded=a,S.fetchEvents=i,S.addEventSource=l,S.removeEventSource=u,S.updateEvent=d,S.renderEvent=f,S.removeEvents=p,S.clientEvents=g,S.normalizeEvent=b;for(var x,M,F=S.trigger,T=S.getView,E=S.reportEvents,k={events:[]},O=[k],A=0,H=0,R=0,I=[],N=0;r.length>N;N++)c(r[N])}function s(t,e,n){return t.setFullYear(t.getFullYear()+e),n||d(t),t}function o(t,e,n){if(+t){var r=t.getMonth()+e,a=h(t);for(a.setDate(1),a.setMonth(r),t.setMonth(r),n||d(t);t.getMonth()!=a.getMonth();)t.setDate(t.getDate()+(a>t?1:-1))}return t}function l(t,e,n){if(+t){var r=t.getDate()+e,a=h(t);a.setHours(9),a.setDate(r),t.setDate(r),n||d(t),c(t,a)}return t}function c(t,e){if(+t)for(;t.getDate()!=e.getDate();)t.setTime(+t+(e>t?1:-1)*Oe)}function u(t,e){return t.setMinutes(t.getMinutes()+e),t}function d(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}function h(t,e){return e?d(new Date(+t)):new Date(+t)}function f(){var t,e=0;do t=new Date(1970,e++,1);while(t.getHours());return t}function p(t,e){return Math.round((h(t,!0)-h(e,!0))/ke)}function g(t,n,r,a){n!==e&&n!=t.getFullYear()&&(t.setDate(1),t.setMonth(0),t.setFullYear(n)),r!==e&&r!=t.getMonth()&&(t.setDate(1),t.setMonth(r)),a!==e&&t.setDate(a)}function v(t,n){return"object"==typeof t?t:"number"==typeof t?new Date(1e3*t):"string"==typeof t?t.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(t)):(n===e&&(n=!0),m(t,n)||(t?new Date(t):null)):null}function m(t,e){var n=t.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var r=new Date(n[1],0,1);if(e||!n[13]){var a=new Date(n[1],0,1,9,0);n[3]&&(r.setMonth(n[3]-1),a.setMonth(n[3]-1)),n[5]&&(r.setDate(n[5]),a.setDate(n[5])),c(r,a),n[7]&&r.setHours(n[7]),n[8]&&r.setMinutes(n[8]),n[10]&&r.setSeconds(n[10]),n[12]&&r.setMilliseconds(1e3*Number("0."+n[12])),c(r,a)}else if(r.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),r.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?1e3*Number("0."+n[12]):0),n[14]){var i=60*Number(n[16])+(n[18]?Number(n[18]):0);i*="-"==n[15]?1:-1,r=new Date(+r+6e4*i)}return r}function y(t){if("number"==typeof t)return 60*t;if("object"==typeof t)return 60*t.getHours()+t.getMinutes();var e=t.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(e){var n=parseInt(e[1],10);return e[3]&&(n%=12,"p"==e[3].toLowerCase().charAt(0)&&(n+=12)),60*n+(e[2]?parseInt(e[2],10):0)}}function b(t,e,n){return w(t,null,e,n)}function w(t,e,n,r){r=r||Ce;var a,i,s,o,l=t,c=e,u=n.length,d="";for(a=0;u>a;a++)if(i=n.charAt(a),"'"==i){for(s=a+1;u>s;s++)if("'"==n.charAt(s)){l&&(d+=s==a+1?"'":n.substring(a+1,s),a=s);break}}else if("("==i){for(s=a+1;u>s;s++)if(")"==n.charAt(s)){var h=b(l,n.substring(a+1,s),r);parseInt(h.replace(/\D/,""),10)&&(d+=h),a=s;break}}else if("["==i){for(s=a+1;u>s;s++)if("]"==n.charAt(s)){var f=n.substring(a+1,s),h=b(l,f,r);h!=b(c,f,r)&&(d+=h),a=s;break}}else if("{"==i)l=e,c=t;else if("}"==i)l=t,c=e;else{for(s=u;s>a;s--)if(o=He[n.substring(a,s)]){l&&(d+=o(l,r)),a=s-1;break}s==a&&l&&(d+=i)}return d}function D(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1}function C(t){return t.end?S(t.end,t.allDay):l(h(t.start),1)}function S(t,e){return t=h(t),e||t.getHours()||t.getMinutes()?l(t,1):d(t)}function x(n,r,a){n.unbind("mouseover").mouseover(function(n){for(var i,s,o,l=n.target;l!=this;)i=l,l=l.parentNode;(s=i._fci)!==e&&(i._fci=e,o=r[s],a(o.event,o.element,o),t(n.target).trigger(n)),n.stopPropagation()})}function M(e,n,r){for(var a,i=0;e.length>i;i++)a=t(e[i]),a.width(Math.max(0,n-T(a,r)))}function F(e,n,r){for(var a,i=0;e.length>i;i++)a=t(e[i]),a.height(Math.max(0,n-A(a,r)))}function T(t,e){return E(t)+O(t)+(e?k(t):0)}function E(e){return(parseFloat(t.css(e[0],"paddingLeft",!0))||0)+(parseFloat(t.css(e[0],"paddingRight",!0))||0)}function k(e){return(parseFloat(t.css(e[0],"marginLeft",!0))||0)+(parseFloat(t.css(e[0],"marginRight",!0))||0)}function O(e){return(parseFloat(t.css(e[0],"borderLeftWidth",!0))||0)+(parseFloat(t.css(e[0],"borderRightWidth",!0))||0)}function A(t,e){return H(t)+I(t)+(e?R(t):0)}function H(e){return(parseFloat(t.css(e[0],"paddingTop",!0))||0)+(parseFloat(t.css(e[0],"paddingBottom",!0))||0)}function R(e){return(parseFloat(t.css(e[0],"marginTop",!0))||0)+(parseFloat(t.css(e[0],"marginBottom",!0))||0)}function I(e){return(parseFloat(t.css(e[0],"borderTopWidth",!0))||0)+(parseFloat(t.css(e[0],"borderBottomWidth",!0))||0)}function N(){}function _(t,e){return t-e}function P(t){return Math.max.apply(Math,t)}function z(t){return(10>t?"0":"")+t}function Y(t,n){if(t[n]!==e)return t[n];for(var r,a=n.split(/(?=[A-Z])/),i=a.length-1;i>=0;i--)if(r=t[a[i].toLowerCase()],r!==e)return r;return t[""]}function L(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function W(t){t.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function j(t){t.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function q(t,e){var n=t.source||{},r=t.color,a=n.color,i=e("eventColor"),s=t.backgroundColor||r||n.backgroundColor||a||e("eventBackgroundColor")||i,o=t.borderColor||r||n.borderColor||a||e("eventBorderColor")||i,l=t.textColor||n.textColor||e("eventTextColor"),c=[];return s&&c.push("background-color:"+s),o&&c.push("border-color:"+o),l&&c.push("color:"+l),c.join(";")}function B(e,n,r){if(t.isFunction(e)&&(e=[e]),e){var a,i;for(a=0;e.length>a;a++)i=e[a].apply(n,r)||i;return i}}function U(){for(var t=0;arguments.length>t;t++)if(arguments[t]!==e)return arguments[t]}function V(t,e){function n(t,e){e&&(o(t,e),t.setDate(1));var n=a("firstDay"),d=h(t,!0);d.setDate(1);var f=o(h(d),1),g=h(d);l(g,-((g.getDay()-n+7)%7)),s(g);var v=h(f);l(v,(7-v.getDay()+n)%7),s(v,-1,!0);var m=c(),y=Math.round(p(v,g)/7);"fixed"==a("weekMode")&&(l(v,7*(6-y)),y=6),r.title=u(d,a("titleFormat")),r.start=d,r.end=f,r.visStart=g,r.visEnd=v,i(y,m,!0)
}var r=this;r.render=n,G.call(r,t,e,"month");var a=r.opt,i=r.renderBasic,s=r.skipHiddenDays,c=r.getCellsPerWeek,u=e.formatDate}function J(t,e){function n(t,e){e&&l(t,7*e);var n=l(h(t),-((t.getDay()-a("firstDay")+7)%7)),u=l(h(n),7),d=h(n);s(d);var f=h(u);s(f,-1,!0);var p=o();r.start=n,r.end=u,r.visStart=d,r.visEnd=f,r.title=c(d,l(h(f),-1),a("titleFormat")),i(1,p,!1)}var r=this;r.render=n,G.call(r,t,e,"basicWeek");var a=r.opt,i=r.renderBasic,s=r.skipHiddenDays,o=r.getCellsPerWeek,c=e.formatDates}function $(t,e){function n(t,e){e&&l(t,e),s(t,0>e?-1:1);var n=h(t,!0),c=l(h(n),1);r.title=o(t,a("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=c,i(1,1,!1)}var r=this;r.render=n,G.call(r,t,e,"basicDay");var a=r.opt,i=r.renderBasic,s=r.skipHiddenDays,o=e.formatDate}function G(e,n,r){function a(t,e,n){ee=t,ne=e,re=n,i(),q||s(),o()}function i(){le=pe("theme")?"ui":"fc",ce=pe("columnFormat"),ue=pe("weekNumbers"),he=pe("weekNumberTitle"),fe="iso"!=pe("weekNumberCalculation")?"w":"W"}function s(){G=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(e)}function o(){var n=c();P&&P.remove(),P=t(n).appendTo(e),z=P.find("thead"),Y=z.find(".fc-day-header"),q=P.find("tbody"),B=q.find("tr"),U=q.find(".fc-day"),V=B.find("td:first-child"),J=B.eq(0).find(".fc-day > div"),$=B.eq(0).find(".fc-day-content > div"),j(z.add(z.find("tr"))),j(B),B.eq(0).addClass("fc-first"),B.filter(":last").addClass("fc-last"),U.each(function(e,n){var r=xe(Math.floor(e/ne),e%ne);ge("dayRender",_,r,t(n))}),y(U)}function c(){var t="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+u()+f()+"</table>";return t}function u(){var t,e,n=le+"-widget-header",r="";for(r+="<thead><tr>",ue&&(r+="<th class='fc-week-number "+n+"'>"+L(he)+"</th>"),t=0;ne>t;t++)e=xe(0,t),r+="<th class='fc-day-header fc-"+Ee[e.getDay()]+" "+n+"'>"+L(Te(e,ce))+"</th>";return r+="</tr></thead>"}function f(){var t,e,n,r=le+"-widget-content",a="";for(a+="<tbody>",t=0;ee>t;t++){for(a+="<tr class='fc-week'>",ue&&(n=xe(t,0),a+="<td class='fc-week-number "+r+"'><div>"+L(Te(n,fe))+"</div></td>"),e=0;ne>e;e++)n=xe(t,e),a+=p(n);a+="</tr>"}return a+="</tbody>"}function p(t){var e=le+"-widget-content",n=_.start.getMonth(),r=d(new Date),a="",i=["fc-day","fc-"+Ee[t.getDay()],e];return t.getMonth()!=n&&i.push("fc-other-month"),+t==+r?i.push("fc-today",le+"-state-highlight"):r>t?i.push("fc-past"):i.push("fc-future"),a+="<td class='"+i.join(" ")+"' data-date='"+Te(t,"yyyy-MM-dd")+"'><div>",re&&(a+="<div class='fc-day-number'>"+t.getDate()+"</div>"),a+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function g(e){X=e;var n,r,a,i=X-z.height();"variable"==pe("weekMode")?n=r=Math.floor(i/(1==ee?2:6)):(n=Math.floor(i/ee),r=i-n*(ee-1)),V.each(function(e,i){ee>e&&(a=t(i),a.find("> div").css("min-height",(e==ee-1?r:n)-A(a)))})}function v(t){Z=t,se.clear(),oe.clear(),te=0,ue&&(te=z.find("th.fc-week-number").outerWidth()),Q=Math.floor((Z-te)/ne),M(Y.slice(0,-1),Q)}function y(t){t.click(b).mousedown(Se)}function b(e){if(!pe("selectable")){var n=m(t(this).data("date"));ge("dayClick",this,n,!0,e)}}function w(t,e,n){n&&ae.build();for(var r=Fe(t,e),a=0;r.length>a;a++){var i=r[a];y(D(i.row,i.leftCol,i.row,i.rightCol))}}function D(t,n,r,a){var i=ae.rect(t,n,r,a,e);return we(i,e)}function C(t){return h(t)}function S(t,e){w(t,l(h(e),1),!0)}function x(){Ce()}function F(t,e,n){var r=Me(t),a=U[r.row*ne+r.col];ge("dayClick",a,t,e,n)}function T(t,e){ie.start(function(t){Ce(),t&&D(t.row,t.col,t.row,t.col)},e)}function E(t,e,n){var r=ie.stop();if(Ce(),r){var a=xe(r);ge("drop",t,a,!0,e,n)}}function k(t){return h(t.start)}function O(t){return se.left(t)}function H(t){return se.right(t)}function R(t){return oe.left(t)}function I(t){return oe.right(t)}function N(t){return B.eq(t)}var _=this;_.renderBasic=a,_.setHeight=g,_.setWidth=v,_.renderDayOverlay=w,_.defaultSelectionEnd=C,_.renderSelection=S,_.clearSelection=x,_.reportDayClick=F,_.dragStart=T,_.dragStop=E,_.defaultEventEnd=k,_.getHoverListener=function(){return ie},_.colLeft=O,_.colRight=H,_.colContentLeft=R,_.colContentRight=I,_.getIsCellAllDay=function(){return!0},_.allDayRow=N,_.getRowCnt=function(){return ee},_.getColCnt=function(){return ne},_.getColWidth=function(){return Q},_.getDaySegmentContainer=function(){return G},de.call(_,e,n,r),me.call(_),ve.call(_),K.call(_);var P,z,Y,q,B,U,V,J,$,G,Z,X,Q,te,ee,ne,re,ae,ie,se,oe,le,ce,ue,he,fe,pe=_.opt,ge=_.trigger,we=_.renderOverlay,Ce=_.clearOverlays,Se=_.daySelectionMousedown,xe=_.cellToDate,Me=_.dateToCell,Fe=_.rangeToSegments,Te=n.formatDate;W(e.addClass("fc-grid")),ae=new ye(function(e,n){var r,a,i;Y.each(function(e,s){r=t(s),a=r.offset().left,e&&(i[1]=a),i=[a],n[e]=i}),i[1]=a+r.outerWidth(),B.each(function(n,s){ee>n&&(r=t(s),a=r.offset().top,n&&(i[1]=a),i=[a],e[n]=i)}),i[1]=a+r.outerHeight()}),ie=new be(ae),se=new De(function(t){return J.eq(t)}),oe=new De(function(t){return $.eq(t)})}function K(){function t(t,e){n.renderDayEvents(t,e)}function e(){n.getDaySegmentContainer().empty()}var n=this;n.renderEvents=t,n.clearEvents=e,he.call(n)}function Z(t,e){function n(t,e){e&&l(t,7*e);var n=l(h(t),-((t.getDay()-a("firstDay")+7)%7)),u=l(h(n),7),d=h(n);s(d);var f=h(u);s(f,-1,!0);var p=o();r.title=c(d,l(h(f),-1),a("titleFormat")),r.start=n,r.end=u,r.visStart=d,r.visEnd=f,i(p)}var r=this;r.render=n,Q.call(r,t,e,"agendaWeek");var a=r.opt,i=r.renderAgenda,s=r.skipHiddenDays,o=r.getCellsPerWeek,c=e.formatDates}function X(t,e){function n(t,e){e&&l(t,e),s(t,0>e?-1:1);var n=h(t,!0),c=l(h(n),1);r.title=o(t,a("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=c,i(1)}var r=this;r.render=n,Q.call(r,t,e,"agendaDay");var a=r.opt,i=r.renderAgenda,s=r.skipHiddenDays,o=e.formatDate}function Q(n,r,a){function i(t){Ie=t,s(),Q?c():o()}function s(){Le=$e("theme")?"ui":"fc",We=$e("isRTL"),je=y($e("minTime")),qe=y($e("maxTime")),Be=$e("columnFormat"),Ue=$e("weekNumbers"),Ve=$e("weekNumberTitle"),Je="iso"!=$e("weekNumberCalculation")?"w":"W",Ae=$e("snapMinutes")||$e("slotMinutes")}function o(){var e,r,a,i,s,o=Le+"-widget-header",l=Le+"-widget-content",d=0==$e("slotMinutes")%15;for(c(),ce=t("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),$e("allDaySlot")?(ue=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ce),e="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+o+" fc-agenda-axis'>"+$e("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+o+" fc-agenda-gutter'>&nbsp;</th></tr></table>",he=t(e).appendTo(ce),fe=he.find("tr"),C(fe.find("td")),ce.append("<div class='fc-agenda-divider "+o+"'><div class='fc-agenda-divider-inner'/></div>")):ue=t([]),pe=t("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ce),ge=t("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(pe),we=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ge),e="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",r=f(),i=u(h(r),qe),u(r,je),Ne=0,a=0;i>r;a++)s=r.getMinutes(),e+="<tr class='fc-slot"+a+" "+(s?"fc-minor":"")+"'><th class='fc-agenda-axis "+o+"'>"+(d&&s?"&nbsp;":sn(r,$e("axisFormat")))+"</th><td class='"+l+"'><div style='position:relative'>&nbsp;</div></td></tr>",u(r,$e("slotMinutes")),Ne++;e+="</tbody></table>",Ce=t(e).appendTo(ge),S(Ce.find("td"))}function c(){var e=p();Q&&Q.remove(),Q=t(e).appendTo(n),ee=Q.find("thead"),ne=ee.find("th").slice(1,-1),re=Q.find("tbody"),ae=re.find("td").slice(0,-1),ie=ae.find("> div"),se=ae.find(".fc-day-content > div"),oe=ae.eq(0),le=ie.eq(0),j(ee.add(ee.find("tr"))),j(re.add(re.find("tr")))}function p(){var t="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+g()+v()+"</table>";return t}function g(){var t,e,n,r=Le+"-widget-header",a="";for(a+="<thead><tr>",Ue?(t=nn(0,0),e=sn(t,Je),We?e+=Ve:e=Ve+e,a+="<th class='fc-agenda-axis fc-week-number "+r+"'>"+L(e)+"</th>"):a+="<th class='fc-agenda-axis "+r+"'>&nbsp;</th>",n=0;Ie>n;n++)t=nn(0,n),a+="<th class='fc-"+Ee[t.getDay()]+" fc-col"+n+" "+r+"'>"+L(sn(t,Be))+"</th>";return a+="<th class='fc-agenda-gutter "+r+"'>&nbsp;</th></tr></thead>"}function v(){var t,e,n,r,a,i=Le+"-widget-header",s=Le+"-widget-content",o=d(new Date),l="";for(l+="<tbody><tr><th class='fc-agenda-axis "+i+"'>&nbsp;</th>",n="",e=0;Ie>e;e++)t=nn(0,e),a=["fc-col"+e,"fc-"+Ee[t.getDay()],s],+t==+o?a.push(Le+"-state-highlight","fc-today"):o>t?a.push("fc-past"):a.push("fc-future"),r="<td class='"+a.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",n+=r;return l+=n,l+="<td class='fc-agenda-gutter "+s+"'>&nbsp;</td></tr></tbody>"}function m(t){t===e&&(t=Me),Me=t,on={};var n=re.position().top,r=pe.position().top,a=Math.min(t-n,Ce.height()+r+1);le.height(a-A(oe)),ce.css("top",n),pe.height(a-r-1),Oe=Ce.find("tr:first").height()+1,He=$e("slotMinutes")/Ae,Re=Oe/He}function b(e){xe=e,ze.clear(),Ye.clear();var n=ee.find("th:first");he&&(n=n.add(he.find("th:first"))),n=n.add(Ce.find("th:first")),Fe=0,M(n.width("").each(function(e,n){Fe=Math.max(Fe,t(n).outerWidth())}),Fe);var r=Q.find(".fc-agenda-gutter");he&&(r=r.add(he.find("th.fc-agenda-gutter")));var a=pe[0].clientWidth;ke=pe.width()-a,ke?(M(r,ke),r.show().prev().removeClass("fc-last")):r.hide().prev().addClass("fc-last"),Te=Math.floor((a-Fe)/Ie),M(ne.slice(0,-1),Te)}function w(){function t(){pe.scrollTop(r)}var e=f(),n=h(e);n.setHours($e("firstHour"));var r=z(e,n)+1;t(),setTimeout(t,0)}function D(){w()}function C(t){t.click(x).mousedown(tn)}function S(t){t.click(x).mousedown($)}function x(t){if(!$e("selectable")){var e=Math.min(Ie-1,Math.floor((t.pageX-Q.offset().left-Fe)/Te)),n=nn(0,e),r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){var a=parseInt(r[1])*$e("slotMinutes"),i=Math.floor(a/60);n.setHours(i),n.setMinutes(a%60+je),Ge("dayClick",ae[e],n,!1,t)}else Ge("dayClick",ae[e],n,!0,t)}}function T(t,e,n){n&&_e.build();for(var r=an(t,e),a=0;r.length>a;a++){var i=r[a];C(E(i.row,i.leftCol,i.row,i.rightCol))}}function E(t,e,n,r){var a=_e.rect(t,e,n,r,ce);return Ke(a,ce)}function k(t,e){for(var n=0;Ie>n;n++){var r=nn(0,n),a=l(h(r),1),i=new Date(Math.max(r,t)),s=new Date(Math.min(a,e));if(s>i){var o=_e.rect(0,n,0,n,ge),c=z(r,i),u=z(r,s);o.top=c,o.height=u-c,S(Ke(o,ge))}}}function O(t){return ze.left(t)}function H(t){return Ye.left(t)}function R(t){return ze.right(t)}function I(t){return Ye.right(t)}function N(t){return $e("allDaySlot")&&!t.row}function P(t){var e=nn(0,t.col),n=t.row;return $e("allDaySlot")&&n--,n>=0&&u(e,je+n*Ae),e}function z(t,n){if(t=h(t,!0),u(h(t),je)>n)return 0;if(n>=u(h(t),qe))return Ce.height();var r=$e("slotMinutes"),a=60*n.getHours()+n.getMinutes()-je,i=Math.floor(a/r),s=on[i];return s===e&&(s=on[i]=Ce.find("tr").eq(i).find("td div")[0].offsetTop),Math.max(0,Math.round(s-1+Oe*(a%r/r)))}function Y(){return fe}function q(t){var e=h(t.start);return t.allDay?e:u(e,$e("defaultEventMinutes"))}function B(t,e){return e?h(t):u(h(t),$e("slotMinutes"))}function U(t,e,n){n?$e("allDaySlot")&&T(t,l(h(e),1),!0):V(t,e)}function V(e,n){var r=$e("selectHelper");if(_e.build(),r){var a=rn(e).col;if(a>=0&&Ie>a){var i=_e.rect(0,a,0,a,ge),s=z(e,e),o=z(e,n);if(o>s){if(i.top=s,i.height=o-s,i.left+=2,i.width-=5,t.isFunction(r)){var l=r(e,n);l&&(i.position="absolute",Se=t(l).css(i).appendTo(ge))}else i.isStart=!0,i.isEnd=!0,Se=t(en({title:"",start:e,end:n,className:["fc-select-helper"],editable:!1},i)),Se.css("opacity",$e("dragOpacity"));Se&&(S(Se),ge.append(Se),M(Se,i.width,!0),F(Se,i.height,!0))}}}else k(e,n)}function J(){Ze(),Se&&(Se.remove(),Se=null)}function $(e){if(1==e.which&&$e("selectable")){Qe(e);var n;Pe.start(function(t,e){if(J(),t&&t.col==e.col&&!N(t)){var r=P(e),a=P(t);n=[r,u(h(r),Ae),a,u(h(a),Ae)].sort(_),V(n[0],n[3])}else n=null},e),t(document).one("mouseup",function(t){Pe.stop(),n&&(+n[0]==+n[1]&&G(n[0],!1,t),Xe(n[0],n[3],!1,t))})}}function G(t,e,n){Ge("dayClick",ae[rn(t).col],t,e,n)}function K(t,e){Pe.start(function(t){if(Ze(),t)if(N(t))E(t.row,t.col,t.row,t.col);else{var e=P(t),n=u(h(e),$e("defaultEventMinutes"));k(e,n)}},e)}function Z(t,e,n){var r=Pe.stop();Ze(),r&&Ge("drop",t,P(r),N(r),e,n)}var X=this;X.renderAgenda=i,X.setWidth=b,X.setHeight=m,X.afterRender=D,X.defaultEventEnd=q,X.timePosition=z,X.getIsCellAllDay=N,X.allDayRow=Y,X.getCoordinateGrid=function(){return _e},X.getHoverListener=function(){return Pe},X.colLeft=O,X.colRight=R,X.colContentLeft=H,X.colContentRight=I,X.getDaySegmentContainer=function(){return ue},X.getSlotSegmentContainer=function(){return we},X.getMinMinute=function(){return je},X.getMaxMinute=function(){return qe},X.getSlotContainer=function(){return ge},X.getRowCnt=function(){return 1},X.getColCnt=function(){return Ie},X.getColWidth=function(){return Te},X.getSnapHeight=function(){return Re},X.getSnapMinutes=function(){return Ae},X.defaultSelectionEnd=B,X.renderDayOverlay=T,X.renderSelection=U,X.clearSelection=J,X.reportDayClick=G,X.dragStart=K,X.dragStop=Z,de.call(X,n,r,a),me.call(X),ve.call(X),te.call(X);var Q,ee,ne,re,ae,ie,se,oe,le,ce,ue,he,fe,pe,ge,we,Ce,Se,xe,Me,Fe,Te,ke,Oe,Ae,He,Re,Ie,Ne,_e,Pe,ze,Ye,Le,We,je,qe,Be,Ue,Ve,Je,$e=X.opt,Ge=X.trigger,Ke=X.renderOverlay,Ze=X.clearOverlays,Xe=X.reportSelection,Qe=X.unselect,tn=X.daySelectionMousedown,en=X.slotSegHtml,nn=X.cellToDate,rn=X.dateToCell,an=X.rangeToSegments,sn=r.formatDate,on={};W(n.addClass("fc-agenda")),_e=new ye(function(e,n){function r(t){return Math.max(l,Math.min(c,t))}var a,i,s;ne.each(function(e,r){a=t(r),i=a.offset().left,e&&(s[1]=i),s=[i],n[e]=s}),s[1]=i+a.outerWidth(),$e("allDaySlot")&&(a=fe,i=a.offset().top,e[0]=[i,i+a.outerHeight()]);for(var o=ge.offset().top,l=pe.offset().top,c=l+pe.outerHeight(),u=0;Ne*He>u;u++)e.push([r(o+Re*u),r(o+Re*(u+1))])}),Pe=new be(_e),ze=new De(function(t){return ie.eq(t)}),Ye=new De(function(t){return se.eq(t)})}function te(){function n(t,e){var n,r=t.length,i=[],s=[];for(n=0;r>n;n++)t[n].allDay?i.push(t[n]):s.push(t[n]);y("allDaySlot")&&(te(i,e),E()),o(a(s),e)}function r(){k().empty(),O().empty()}function a(e){var n,r,a,o,l,c=W(),d=I(),f=R(),p=t.map(e,s),g=[];for(r=0;c>r;r++)for(n=Y(0,r),u(n,d),l=i(e,p,n,u(h(n),f-d)),l=ee(l),a=0;l.length>a;a++)o=l[a],o.col=r,g.push(o);return g}function i(t,e,n,r){var a,i,s,o,l,c,u,d,f=[],p=t.length;for(a=0;p>a;a++)i=t[a],s=i.start,o=e[a],o>n&&r>s&&(n>s?(l=h(n),u=!1):(l=s,u=!0),o>r?(c=h(r),d=!1):(c=o,d=!0),f.push({event:i,start:l,end:c,isStart:u,isEnd:d}));return f.sort(ue)}function s(t){return t.end?h(t.end):u(h(t.start),y("defaultEventMinutes"))}function o(n,r){var a,i,s,o,l,u,h,f,p,g,v,m,w,D,C,S,M=n.length,F="",E=O(),k=y("isRTL");for(a=0;M>a;a++)i=n[a],s=i.event,o=N(i.start,i.start),l=N(i.start,i.end),u=P(i.col),h=z(i.col),f=h-u,h-=.025*f,f=h-u,p=f*(i.forwardCoord-i.backwardCoord),y("slotEventOverlap")&&(p=Math.max(2*(p-10),p)),k?(v=h-i.backwardCoord*f,g=v-p):(g=u+i.backwardCoord*f,v=g+p),g=Math.max(g,u),v=Math.min(v,h),p=v-g,i.top=o,i.left=g,i.outerWidth=p,i.outerHeight=l-o,F+=c(s,i);for(E[0].innerHTML=F,m=E.children(),a=0;M>a;a++)i=n[a],s=i.event,w=t(m[a]),D=b("eventRender",s,s,w),D===!1?w.remove():(D&&D!==!0&&(w.remove(),w=t(D).css({position:"absolute",top:i.top,left:i.left}).appendTo(E)),i.element=w,s._id===r?d(s,w,i):w[0]._fci=a,J(s,w));for(x(E,n,d),a=0;M>a;a++)i=n[a],(w=i.element)&&(i.vsides=A(w,!0),i.hsides=T(w,!0),C=w.find(".fc-event-title"),C.length&&(i.contentTop=C[0].offsetTop));for(a=0;M>a;a++)i=n[a],(w=i.element)&&(w[0].style.width=Math.max(0,i.outerWidth-i.hsides)+"px",S=Math.max(0,i.outerHeight-i.vsides),w[0].style.height=S+"px",s=i.event,i.contentTop!==e&&10>S-i.contentTop&&(w.find("div.fc-event-time").text(re(s.start,y("timeFormat"))+" - "+s.title),w.find("div.fc-event-title").remove()),b("eventAfterRender",s,s,w))}function c(t,e){var n="<",r=t.url,a=q(t,y),i=["fc-event","fc-event-vert"];return w(t)&&i.push("fc-event-draggable"),e.isStart&&i.push("fc-event-start"),e.isEnd&&i.push("fc-event-end"),i=i.concat(t.className),t.source&&(i=i.concat(t.source.className||[])),n+=r?"a href='"+L(t.url)+"'":"div",n+=" class='"+i.join(" ")+"' style='position:absolute;top:"+e.top+"px;left:"+e.left+"px;"+a+"'><div class='fc-event-inner'><div class='fc-event-time'>"+L(ae(t.start,t.end,y("timeFormat")))+"</div><div class='fc-event-title'>"+L(t.title||"")+"</div></div><div class='fc-event-bg'></div>",e.isEnd&&D(t)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(r?"a":"div")+">"}function d(t,e,n){var r=e.find("div.fc-event-time");w(t)&&g(t,e,r),n.isEnd&&D(t)&&v(t,e,r),M(t,e)}function f(t,e,n){function r(){c||(e.width(a).height("").draggable("option","grid",null),c=!0)}var a,i,s,o=n.isStart,c=!0,u=H(),d=j(),f=B(),g=U(),v=I();e.draggable({opacity:y("dragOpacity","month"),revertDuration:y("dragRevertDuration"),start:function(n,v){b("eventDragStart",e,t,n,v),G(t,e),a=e.width(),u.start(function(n,a){if(Q(),n){i=!1;var u=Y(0,a.col),v=Y(0,n.col);s=p(v,u),n.row?o?c&&(e.width(d-10),F(e,f*Math.round((t.end?(t.end-t.start)/Ae:y("defaultEventMinutes"))/g)),e.draggable("option","grid",[d,1]),c=!1):i=!0:(X(l(h(t.start),s),l(C(t),s)),r()),i=i||c&&!s}else r(),i=!0;e.draggable("option","revert",i)},n,"drag")},stop:function(n,a){if(u.stop(),Q(),b("eventDragStop",e,t,n,a),i)r(),e.css("filter",""),$(t,e);else{var o=0;c||(o=Math.round((e.offset().top-V().offset().top)/f)*g+v-(60*t.start.getHours()+t.start.getMinutes())),K(this,t,s,o,c,n,a)}}})}function g(t,e,n){function r(){Q(),o&&(d?(n.hide(),e.draggable("option","grid",null),X(l(h(t.start),w),l(C(t),w))):(a(D),n.css("display",""),e.draggable("option","grid",[F,T])))}function a(e){var r,a=u(h(t.start),e);t.end&&(r=u(h(t.end),e)),n.text(ae(a,r,y("timeFormat")))}var i,s,o,c,d,f,g,v,w,D,S,x=m.getCoordinateGrid(),M=W(),F=j(),T=B(),E=U();e.draggable({scroll:!1,grid:[F,T],axis:1==M?"y":!1,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(n,r){b("eventDragStart",e,t,n,r),G(t,e),x.build(),i=e.position(),s=x.cell(n.pageX,n.pageY),o=c=!0,d=f=_(s),g=v=0,w=0,D=S=0},drag:function(t,n){var a=x.cell(t.pageX,t.pageY);if(o=!!a){if(d=_(a),g=Math.round((n.position.left-i.left)/F),g!=v){var l=Y(0,s.col),u=s.col+g;u=Math.max(0,u),u=Math.min(M-1,u);var h=Y(0,u);w=p(h,l)}d||(D=Math.round((n.position.top-i.top)/T)*E)}(o!=c||d!=f||g!=v||D!=S)&&(r(),c=o,f=d,v=g,S=D),e.draggable("option","revert",!o)},stop:function(n,a){Q(),b("eventDragStop",e,t,n,a),o&&(d||w||D)?K(this,t,w,d?0:D,d,n,a):(o=!0,d=!1,g=0,w=0,D=0,r(),e.css("filter",""),e.css(i),$(t,e))}})}function v(t,e,n){var r,a,i=B(),s=U();e.resizable({handles:{s:".ui-resizable-handle"},grid:i,start:function(n,i){r=a=0,G(t,e),b("eventResizeStart",this,t,n,i)},resize:function(o,l){r=Math.round((Math.max(i,e.height())-l.originalSize.height)/i),r!=a&&(n.text(ae(t.start,r||t.end?u(S(t),s*r):null,y("timeFormat"))),a=r)},stop:function(n,a){b("eventResizeStop",this,t,n,a),r?Z(this,t,0,s*r,n,a):$(t,e)}})}var m=this;m.renderEvents=n,m.clearEvents=r,m.slotSegHtml=c,he.call(m);var y=m.opt,b=m.trigger,w=m.isEventDraggable,D=m.isEventResizable,S=m.eventEnd,M=m.eventElementHandlers,E=m.setHeight,k=m.getDaySegmentContainer,O=m.getSlotSegmentContainer,H=m.getHoverListener,R=m.getMaxMinute,I=m.getMinMinute,N=m.timePosition,_=m.getIsCellAllDay,P=m.colContentLeft,z=m.colContentRight,Y=m.cellToDate,W=m.getColCnt,j=m.getColWidth,B=m.getSnapHeight,U=m.getSnapMinutes,V=m.getSlotContainer,J=m.reportEventElement,$=m.showEvents,G=m.hideEvents,K=m.eventDrop,Z=m.eventResize,X=m.renderDayOverlay,Q=m.clearOverlays,te=m.renderDayEvents,ne=m.calendar,re=ne.formatDate,ae=ne.formatDates;m.draggableDayEvent=f}function ee(t){var e,n=ne(t),r=n[0];if(re(n),r){for(e=0;r.length>e;e++)ae(r[e]);for(e=0;r.length>e;e++)ie(r[e],0,0)}return se(n)}function ne(t){var e,n,r,a=[];for(e=0;t.length>e;e++){for(n=t[e],r=0;a.length>r&&oe(n,a[r]).length;r++);(a[r]||(a[r]=[])).push(n)}return a}function re(t){var e,n,r,a,i;for(e=0;t.length>e;e++)for(n=t[e],r=0;n.length>r;r++)for(a=n[r],a.forwardSegs=[],i=e+1;t.length>i;i++)oe(a,t[i],a.forwardSegs)}function ae(t){var n,r,a=t.forwardSegs,i=0;if(t.forwardPressure===e){for(n=0;a.length>n;n++)r=a[n],ae(r),i=Math.max(i,1+r.forwardPressure);t.forwardPressure=i}}function ie(t,n,r){var a,i=t.forwardSegs;if(t.forwardCoord===e)for(i.length?(i.sort(ce),ie(i[0],n+1,r),t.forwardCoord=i[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-r)/(n+1),a=0;i.length>a;a++)ie(i[a],0,t.forwardCoord)}function se(t){var e,n,r,a=[];for(e=0;t.length>e;e++)for(n=t[e],r=0;n.length>r;r++)a.push(n[r]);return a}function oe(t,e,n){n=n||[];for(var r=0;e.length>r;r++)le(t,e[r])&&n.push(e[r]);return n}function le(t,e){return t.end>e.start&&t.start<e.end}function ce(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||ue(t,e)}function ue(t,e){return t.start-e.start||e.end-e.start-(t.end-t.start)||(t.event.title||"").localeCompare(e.event.title)}function de(n,r,a){function i(e,n){var r=J[e];return t.isPlainObject(r)?Y(r,n||a):r}function s(t,e){return r.trigger.apply(r,[t,e||z].concat(Array.prototype.slice.call(arguments,2),[z]))}function o(t){var e=t.source||{};return U(t.startEditable,e.startEditable,i("eventStartEditable"),t.editable,e.editable,i("editable"))&&!i("disableDragging")}function c(t){var e=t.source||{};return U(t.durationEditable,e.durationEditable,i("eventDurationEditable"),t.editable,e.editable,i("editable"))&&!i("disableResizing")}function d(t){q={};var e,n,r=t.length;for(e=0;r>e;e++)n=t[e],q[n._id]?q[n._id].push(n):q[n._id]=[n]}function f(){q={},B={},V=[]}function g(t){return t.end?h(t.end):L(t)}function v(t,e){V.push({event:t,element:e}),B[t._id]?B[t._id].push(e):B[t._id]=[e]}function m(){t.each(V,function(t,e){z.trigger("eventDestroy",e.event,e.event,e.element)})}function y(t,n){n.click(function(r){return n.hasClass("ui-draggable-dragging")||n.hasClass("ui-resizable-resizing")?e:s("eventClick",this,t,r)}).hover(function(e){s("eventMouseover",this,t,e)},function(e){s("eventMouseout",this,t,e)})}function b(t,e){D(t,e,"show")}function w(t,e){D(t,e,"hide")}function D(t,e,n){var r,a=B[t._id],i=a.length;for(r=0;i>r;r++)e&&a[r][0]==e[0]||a[r][n]()}function C(t,e,n,r,a,i,o){var l=e.allDay,c=e._id;x(q[c],n,r,a),s("eventDrop",t,e,n,r,a,function(){x(q[c],-n,-r,l),j(c)},i,o),j(c)}function S(t,e,n,r,a,i){var o=e._id;M(q[o],n,r),s("eventResize",t,e,n,r,function(){M(q[o],-n,-r),j(o)},a,i),j(o)}function x(t,n,r,a){r=r||0;for(var i,s=t.length,o=0;s>o;o++)i=t[o],a!==e&&(i.allDay=a),u(l(i.start,n,!0),r),i.end&&(i.end=u(l(i.end,n,!0),r)),W(i,J)}function M(t,e,n){n=n||0;for(var r,a=t.length,i=0;a>i;i++)r=t[i],r.end=u(l(g(r),e,!0),n),W(r,J)}function F(t){return"object"==typeof t&&(t=t.getDay()),K[t]}function T(){return $}function E(t,e,n){for(e=e||1;K[(t.getDay()+(n?e:0)+7)%7];)l(t,e)}function k(){var t=O.apply(null,arguments),e=A(t),n=H(e);return n}function O(t,e){var n=z.getColCnt(),r=Q?-1:1,a=Q?n-1:0;"object"==typeof t&&(e=t.col,t=t.row);var i=t*n+(e*r+a);return i}function A(t){var e=z.visStart.getDay();return t+=Z[e],7*Math.floor(t/$)+X[(t%$+$)%$]-e}function H(t){var e=h(z.visStart);return l(e,t),e}function R(t){var e=I(t),n=N(e),r=_(n);return r}function I(t){return p(t,z.visStart)}function N(t){var e=z.visStart.getDay();return t+=e,Math.floor(t/7)*$+Z[(t%7+7)%7]-Z[e]}function _(t){var e=z.getColCnt(),n=Q?-1:1,r=Q?e-1:0,a=Math.floor(t/e),i=(t%e+e)%e*n+r;return{row:a,col:i}}function P(t,e){for(var n=z.getRowCnt(),r=z.getColCnt(),a=[],i=I(t),s=I(e),o=N(i),l=N(s)-1,c=0;n>c;c++){var u=c*r,d=u+r-1,h=Math.max(o,u),f=Math.min(l,d);if(f>=h){var p=_(h),g=_(f),v=[p.col,g.col].sort(),m=A(h)==i,y=A(f)+1==s;a.push({row:c,leftCol:v[0],rightCol:v[1],isStart:m,isEnd:y})}}return a}var z=this;z.element=n,z.calendar=r,z.name=a,z.opt=i,z.trigger=s,z.isEventDraggable=o,z.isEventResizable=c,z.setEventData=d,z.clearEventData=f,z.eventEnd=g,z.reportEventElement=v,z.triggerEventDestroy=m,z.eventElementHandlers=y,z.showEvents=b,z.hideEvents=w,z.eventDrop=C,z.eventResize=S;var L=z.defaultEventEnd,W=r.normalizeEvent,j=r.reportEventChange,q={},B={},V=[],J=r.options;z.isHiddenDay=F,z.skipHiddenDays=E,z.getCellsPerWeek=T,z.dateToCell=R,z.dateToDayOffset=I,z.dayOffsetToCellOffset=N,z.cellOffsetToCell=_,z.cellToDate=k,z.cellToCellOffset=O,z.cellOffsetToDayOffset=A,z.dayOffsetToDate=H,z.rangeToSegments=P;var $,G=i("hiddenDays")||[],K=[],Z=[],X=[],Q=i("isRTL");!function(){i("weekends")===!1&&G.push(0,6);for(var e=0,n=0;7>e;e++)Z[e]=n,K[e]=-1!=t.inArray(e,G),K[e]||(X[n]=e,n++);if($=n,!$)throw"invalid hiddenDays"}()}function he(){function e(t,e){var n=r(t,!1,!0);pe(n,function(t,e){H(t.event,e)}),b(n,e),pe(n,function(t,e){E("eventAfterRender",t.event,t.event,e)})}function n(t,e,n){var a=r([t],!0,!1),i=[];return pe(a,function(t,r){t.row===e&&r.css("top",n),i.push(r[0])}),i}function r(e,n,r){var i,l,c=G(),h=n?t("<div/>"):c,f=a(e);return s(f),i=o(f),h[0].innerHTML=i,l=h.children(),n&&c.append(l),u(f,l),pe(f,function(t,e){t.hsides=T(e,!0)}),pe(f,function(t,e){e.width(Math.max(0,t.outerWidth-t.hsides))}),pe(f,function(t,e){t.outerHeight=e.outerHeight(!0)}),d(f,r),f}function a(t){for(var e=[],n=0;t.length>n;n++){var r=i(t[n]);e.push.apply(e,r)}return e}function i(t){for(var e=t.start,n=C(t),r=ee(e,n),a=0;r.length>a;a++)r[a].event=t;return r}function s(t){for(var e=F("isRTL"),n=0;t.length>n;n++){var r=t[n],a=(e?r.isEnd:r.isStart)?J:U,i=(e?r.isStart:r.isEnd)?$:V,s=a(r.leftCol),o=i(r.rightCol);r.left=s,r.outerWidth=o-s}}function o(t){for(var e="",n=0;t.length>n;n++)e+=c(t[n]);return e}function c(t){var e="",n=F("isRTL"),r=t.event,a=r.url,i=["fc-event","fc-event-hori"];k(r)&&i.push("fc-event-draggable"),t.isStart&&i.push("fc-event-start"),t.isEnd&&i.push("fc-event-end"),i=i.concat(r.className),r.source&&(i=i.concat(r.source.className||[]));var s=q(r,F);return e+=a?"<a href='"+L(a)+"'":"<div",e+=" class='"+i.join(" ")+"' style='position:absolute;left:"+t.left+"px;"+s+"'><div class='fc-event-inner'>",!r.allDay&&t.isStart&&(e+="<span class='fc-event-time'>"+L(K(r.start,r.end,F("timeFormat")))+"</span>"),e+="<span class='fc-event-title'>"+L(r.title||"")+"</span></div>",t.isEnd&&O(r)&&(e+="<div class='ui-resizable-handle ui-resizable-"+(n?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),e+="</"+(a?"a":"div")+">"}function u(e,n){for(var r=0;e.length>r;r++){var a=e[r],i=a.event,s=n.eq(r),o=E("eventRender",i,i,s);o===!1?s.remove():(o&&o!==!0&&(o=t(o).css({position:"absolute",left:a.left}),s.replaceWith(o),s=o),a.element=s)}}function d(t,e){var n=f(t),r=y(),a=[];if(e)for(var i=0;r.length>i;i++)r[i].height(n[i]);for(var i=0;r.length>i;i++)a.push(r[i].position().top);pe(t,function(t,e){e.css("top",a[t.row]+t.top)})}function f(t){for(var e=Y(),n=j(),r=[],a=g(t),i=0;e>i;i++){for(var s=a[i],o=[],l=0;n>l;l++)o.push(0);for(var c=0;s.length>c;c++){var u=s[c];u.top=P(o.slice(u.leftCol,u.rightCol+1));for(var l=u.leftCol;u.rightCol>=l;l++)o[l]=u.top+u.outerHeight}r.push(P(o))}return r}function g(t){var e,n,r,a=Y(),i=[];for(e=0;t.length>e;e++)n=t[e],r=n.row,n.element&&(i[r]?i[r].push(n):i[r]=[n]);for(r=0;a>r;r++)i[r]=v(i[r]||[]);return i}function v(t){for(var e=[],n=m(t),r=0;n.length>r;r++)e.push.apply(e,n[r]);return e}function m(t){t.sort(ge);for(var e=[],n=0;t.length>n;n++){for(var r=t[n],a=0;e.length>a&&fe(r,e[a]);a++);e[a]?e[a].push(r):e[a]=[r]}return e}function y(){var t,e=Y(),n=[];for(t=0;e>t;t++)n[t]=B(t).find("div.fc-day-content > div");return n}function b(t,e){var n=G();pe(t,function(t,n,r){var a=t.event;a._id===e?w(a,n,t):n[0]._fci=r}),x(n,t,w)}function w(t,e,n){k(t)&&M.draggableDayEvent(t,e,n),n.isEnd&&O(t)&&M.resizableDayEvent(t,e,n),R(t,e)}function D(t,e){var n,r=te();e.draggable({delay:50,opacity:F("dragOpacity"),revertDuration:F("dragRevertDuration"),start:function(a,i){E("eventDragStart",e,t,a,i),N(t,e),r.start(function(r,a,i,s){if(e.draggable("option","revert",!r||!i&&!s),X(),r){var o=ne(a),c=ne(r);n=p(c,o),Z(l(h(t.start),n),l(C(t),n))}else n=0},a,"drag")},stop:function(a,i){r.stop(),X(),E("eventDragStop",e,t,a,i),n?_(this,t,n,0,t.allDay,a,i):(e.css("filter",""),I(t,e))}})}function S(e,r,a){var i=F("isRTL"),s=i?"w":"e",o=r.find(".ui-resizable-"+s),c=!1;W(r),r.mousedown(function(t){t.preventDefault()}).click(function(t){c&&(t.preventDefault(),t.stopImmediatePropagation())}),o.mousedown(function(i){function o(n){E("eventResizeStop",this,e,n),t("body").css("cursor",""),u.stop(),X(),d&&z(this,e,d,0,n),setTimeout(function(){c=!1},0)}if(1==i.which){c=!0;var u=te();Y(),j();var d,h,f=r.css("top"),p=t.extend({},e),g=se(ie(e.start));Q(),t("body").css("cursor",s+"-resize").one("mouseup",o),E("eventResizeStart",this,e,i),u.start(function(r,i){if(r){var o=re(i),c=re(r);if(c=Math.max(c,g),d=ae(c)-ae(o)){p.end=l(A(e),d,!0);var u=h;h=n(p,a.row,f),h=t(h),h.find("*").css("cursor",s+"-resize"),u&&u.remove(),N(e)}else h&&(I(e),h.remove(),h=null);X(),Z(e.start,l(C(e),d))}},i)}})}var M=this;M.renderDayEvents=e,M.draggableDayEvent=D,M.resizableDayEvent=S;var F=M.opt,E=M.trigger,k=M.isEventDraggable,O=M.isEventResizable,A=M.eventEnd,H=M.reportEventElement,R=M.eventElementHandlers,I=M.showEvents,N=M.hideEvents,_=M.eventDrop,z=M.eventResize,Y=M.getRowCnt,j=M.getColCnt;M.getColWidth;var B=M.allDayRow,U=M.colLeft,V=M.colRight,J=M.colContentLeft,$=M.colContentRight;M.dateToCell;var G=M.getDaySegmentContainer,K=M.calendar.formatDates,Z=M.renderDayOverlay,X=M.clearOverlays,Q=M.clearSelection,te=M.getHoverListener,ee=M.rangeToSegments,ne=M.cellToDate,re=M.cellToCellOffset,ae=M.cellOffsetToDayOffset,ie=M.dateToDayOffset,se=M.dayOffsetToCellOffset}function fe(t,e){for(var n=0;e.length>n;n++){var r=e[n];if(r.leftCol<=t.rightCol&&r.rightCol>=t.leftCol)return!0}return!1}function pe(t,e){for(var n=0;t.length>n;n++){var r=t[n],a=r.element;a&&e(r,a,n)}}function ge(t,e){return e.rightCol-e.leftCol-(t.rightCol-t.leftCol)||e.event.allDay-t.event.allDay||t.event.start-e.event.start||(t.event.title||"").localeCompare(e.event.title)}function ve(){function e(t,e,a){n(),e||(e=l(t,a)),c(t,e,a),r(t,e,a)}function n(t){d&&(d=!1,u(),o("unselect",null,t))}function r(t,e,n,r){d=!0,o("select",null,t,e,n,r)}function a(e){var a=i.cellToDate,o=i.getIsCellAllDay,l=i.getHoverListener(),d=i.reportDayClick;if(1==e.which&&s("selectable")){n(e);var h;l.start(function(t,e){u(),t&&o(t)?(h=[a(e),a(t)].sort(_),c(h[0],h[1],!0)):h=null},e),t(document).one("mouseup",function(t){l.stop(),h&&(+h[0]==+h[1]&&d(h[0],!0,t),r(h[0],h[1],!0,t))})}}var i=this;i.select=e,i.unselect=n,i.reportSelection=r,i.daySelectionMousedown=a;var s=i.opt,o=i.trigger,l=i.defaultSelectionEnd,c=i.renderSelection,u=i.clearSelection,d=!1;s("selectable")&&s("unselectAuto")&&t(document).mousedown(function(e){var r=s("unselectCancel");r&&t(e.target).parents(r).length||n(e)})}function me(){function e(e,n){var r=i.shift();return r||(r=t("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),r[0].parentNode!=n[0]&&r.appendTo(n),a.push(r.css(e).show()),r}function n(){for(var t;t=a.shift();)i.push(t.hide().unbind())}var r=this;r.renderOverlay=e,r.clearOverlays=n;var a=[],i=[]}function ye(t){var e,n,r=this;r.build=function(){e=[],n=[],t(e,n)},r.cell=function(t,r){var a,i=e.length,s=n.length,o=-1,l=-1;for(a=0;i>a;a++)if(r>=e[a][0]&&e[a][1]>r){o=a;break}for(a=0;s>a;a++)if(t>=n[a][0]&&n[a][1]>t){l=a;break}return o>=0&&l>=0?{row:o,col:l}:null},r.rect=function(t,r,a,i,s){var o=s.offset();return{top:e[t][0]-o.top,left:n[r][0]-o.left,width:n[i][1]-n[r][0],height:e[a][1]-e[t][0]}}}function be(e){function n(t){we(t);var n=e.cell(t.pageX,t.pageY);(!n!=!s||n&&(n.row!=s.row||n.col!=s.col))&&(n?(i||(i=n),a(n,i,n.row-i.row,n.col-i.col)):a(n,i),s=n)}var r,a,i,s,o=this;o.start=function(o,l,c){a=o,i=s=null,e.build(),n(l),r=c||"mousemove",t(document).bind(r,n)},o.stop=function(){return t(document).unbind(r,n),s}}function we(t){t.pageX===e&&(t.pageX=t.originalEvent.pageX,t.pageY=t.originalEvent.pageY)}function De(t){function n(e){return a[e]=a[e]||t(e)}var r=this,a={},i={},s={};r.left=function(t){return i[t]=i[t]===e?n(t).position().left:i[t]},r.right=function(t){return s[t]=s[t]===e?r.left(t)+n(t).width():s[t]},r.clear=function(){a={},i={},s={}}}var Ce={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},Se={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},xe=t.fullCalendar={version:"1.6.4"},Me=xe.views={};
t.fn.fullCalendar=function(n){if("string"==typeof n){var a,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=t.data(this,"fullCalendar");if(r&&t.isFunction(r[n])){var s=r[n].apply(r,i);a===e&&(a=s),"destroy"==n&&t.removeData(this,"fullCalendar")}}),a!==e?a:this}n=n||{};var s=n.eventSources||[];return delete n.eventSources,n.events&&(s.push(n.events),delete n.events),n=t.extend(!0,{},Ce,n.isRTL||n.isRTL===e&&Ce.isRTL?Se:{},n),this.each(function(e,a){var i=t(a),o=new r(i,n,s);i.data("fullCalendar",o),o.render()}),this},xe.sourceNormalizers=[],xe.sourceFetchers=[];var Fe={dataType:"json",cache:!1},Te=1;xe.addDays=l,xe.cloneDate=h,xe.parseDate=v,xe.parseISO8601=m,xe.parseTime=y,xe.formatDate=b,xe.formatDates=w;var Ee=["sun","mon","tue","wed","thu","fri","sat"],ke=864e5,Oe=36e5,Ae=6e4,He={s:function(t){return t.getSeconds()},ss:function(t){return z(t.getSeconds())},m:function(t){return t.getMinutes()},mm:function(t){return z(t.getMinutes())},h:function(t){return t.getHours()%12||12},hh:function(t){return z(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return z(t.getHours())},d:function(t){return t.getDate()},dd:function(t){return z(t.getDate())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return z(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},yy:function(t){return(t.getFullYear()+"").substring(2)},yyyy:function(t){return t.getFullYear()},t:function(t){return 12>t.getHours()?"a":"p"},tt:function(t){return 12>t.getHours()?"am":"pm"},T:function(t){return 12>t.getHours()?"A":"P"},TT:function(t){return 12>t.getHours()?"AM":"PM"},u:function(t){return b(t,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(t){var e=t.getDate();return e>10&&20>e?"th":["st","nd","rd"][e%10-1]||"th"},w:function(t,e){return e.weekNumberCalculation(t)},W:function(t){return D(t)}};xe.dateFormatters=He,xe.applyAll=B,Me.month=V,Me.basicWeek=J,Me.basicDay=$,n({weekMode:"fixed"}),Me.agendaWeek=Z,Me.agendaDay=X,n({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})}(jQuery),function(t){function e(e,n,o){var l=e.success,c=t.extend({},e.data||{},{"start-min":r(n,"u"),"start-max":r(o,"u"),singleevents:!0,"max-results":9999}),u=e.currentTimezone;return u&&(c.ctz=u=u.replace(" ","_")),t.extend({},e,{url:e.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:c,startParam:!1,endParam:!1,success:function(e){var n=[];e.feed.entry&&t.each(e.feed.entry,function(e,r){var s,o=r.gd$when[0].startTime,l=a(o,!0),c=a(r.gd$when[0].endTime,!0),d=-1==o.indexOf("T");t.each(r.link,function(t,e){"text/html"==e.type&&(s=e.href,u&&(s+=(-1==s.indexOf("?")?"?":"&")+"ctz="+u))}),d&&i(c,-1),n.push({id:r.gCal$uid.value,title:r.title.$t,url:s,start:l,end:c,allDay:d,location:r.gd$where[0].valueString,description:r.content.$t})});var r=[n].concat(Array.prototype.slice.call(arguments,1)),o=s(l,this,r);return t.isArray(o)?o:n}})}var n=t.fullCalendar,r=n.formatDate,a=n.parseISO8601,i=n.addDays,s=n.applyAll;n.sourceNormalizers.push(function(t){("gcal"==t.dataType||void 0===t.dataType&&(t.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//))&&(t.dataType="gcal",void 0===t.editable&&(t.editable=!1))}),n.sourceFetchers.push(function(t,n,r){return"gcal"==t.dataType?e(t,n,r):void 0}),n.gcalFeed=function(e,n){return t.extend({},n,{url:e,dataType:"gcal"})}}(jQuery),function(t){if(!t.ionSound){var e,n,r,a,i={},s={},o=!1,l=function(e){var a,o;-1!==e.indexOf(":")?(a=e.split(":")[0],o=e.split(":")[1]):a=e,s[a]=new Audio,n=s[a].canPlayType("audio/mp3"),r="probably"===n||"maybe"===n?i.path+a+".mp3":i.path+a+".wav",t(s[a]).prop("src",r),s[a].load(),s[a].preload="auto",s[a].volume=o||i.volume},c=function(t){var e,n,r,a;if(-1!==t.indexOf(":")?(n=t.split(":")[0],r=t.split(":")[1]):n=t,e=s[n],"object"==typeof e&&null!==e)if(r&&(e.volume=r),i.multiPlay||o){if(i.multiPlay)if(e.ended)e.play();else{try{e.currentTime=0}catch(l){}e.play()}}else e.play(),o=!0,a=setInterval(function(){e.ended&&(clearInterval(a),o=!1)},250)},u=function(t){var e=s[t];if("object"==typeof e&&null!==e){e.pause();try{e.currentTime=0}catch(n){}}},d=function(t){var e=s[t];if("object"==typeof e&&null!==e){try{s[t].src=""}catch(n){}s[t]=null}};t.ionSound=function(n){if(i=t.extend({sounds:["water_droplet"],path:"static/sounds/",multiPlay:!0,volume:"0.5"},n),e=i.sounds.length,"function"==typeof Audio||"object"==typeof Audio)for(a=0;e>a;a+=1)l(i.sounds[a]);t.ionSound.play=function(t){c(t)},t.ionSound.stop=function(t){u(t)},t.ionSound.kill=function(t){d(t)}},t.ionSound.destroy=function(){for(a=0;e>a;a+=1)s[i.sounds[a]]=null;e=0,t.ionSound.play=function(){},t.ionSound.stop=function(){},t.ionSound.kill=function(){}}}}(jQuery),function(t){function e(t){return this.burning=null,this.settings=t,this}var n={a:.3,k:.05,w:10,wind:1,strength:1,diffusion:1,flames:[{x:0,hsla:[58,96,89,1],y:0,blur:.1},{x:0,hsla:[51,98,76,1],y:.02,blur:.15},{x:0,hsla:[36,100,60,1],y:.04,blur:.2},{x:0,hsla:[28,91,49,1],y:.08,blur:.25},{x:0,hsla:[19,94,41,1],y:.15,blur:.3},{x:0,hsla:[15,75,34,1],y:.2,blur:.4},{x:0,hsla:[14,66,16,1],y:.5,blur:.5}]};t.fn.burn=function(r,a){var i;if(!1===r)return(i=this.data("_burn"))&&i.off(),this;if("object"==typeof r)a=r;else if("string"==typeof r)return(i=this.data("_burn"))&&void 0!==n[r]?void 0!==a?("title"==r&&i.content.html(a),i.settings[r]=a,!0):i.settings[r]:!1;return a=t.extend({},n,a||{}),this.each(function(){var n=t.extend(!0,{},a),n=new e(n);n.elem=t(this),n.ignite(),n.elem.data("_burn",n)})},e.prototype={ignite:function(){var t=this;return t.burning?t.burning:(t.oldShadow=t.elem.css("text-shadow"),function e(){t.timer=window.requestAnimationFrame(e),t.burn()}(),void 0)},wave:function(t,e,n){var r=this.settings;return n*r.a*Math.sin(r.k*t-r.w*e)},burn:function(){var e,n=this,r=this.settings;e=t.map(r.flames,function(t){var e=-t.y,a=Math.sqrt(Math.random());return t.x=n.wave(t.y,Date.now()/1e3,a),(t.x+r.wind)*t.y*r.strength*r.diffusion+"em "+e*r.strength*r.diffusion+"em "+t.blur*r.strength*r.diffusion+"em hsla("+t.hsla[0]+", "+t.hsla[1]+"%, "+t.hsla[2]+"%, "+t.hsla[3]+")"}),n.elem.css("text-shadow",e.join(", "))},off:function(){window.cancelAnimationFrame(this.timer),this.timer=null,this.elem.css("text-shadow",this.oldShadow)}}}(jQuery),function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),a=window.setTimeout(function(){e(n+r)},r);return t=n+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),function(t){t.fn.datetimepicker=function(e){var n={i18n:{ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeek:["Вск","Пн","Вт","Ср","Чт","Пт","Сб"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So.","Mo","Di","Mi","Do","Fr","Sa."]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",step:60,closeOnDateSelect:0,closeOnWithoutClick:!0,timepicker:!0,datepicker:!0,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,inline:!1,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,timeHeightInTimePicker:25,timepickerScrollbar:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0},r=t.isPlainObject(e)||!e?t.extend({},n,e):t.extend({},n),a=function(e){var n=t('<div class="xdsoft_datetimepicker"></div>'),a=t('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),i=t('<div class="xdsoft_datepicker active"></div>'),s=t('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_label xdsoft_month"></div><div class="xdsoft_label xdsoft_year"></div><button type="button" class="xdsoft_next"></button></div>'),o=t('<div class="xdsoft_calendar"></div>'),l=t('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),c=l.find(".xdsoft_time_box").eq(0),u=t('<div class="xdsoft_time_variant"></div>'),d=t('<div class="xdsoft_scrollbar"></div>'),h=t('<div class="xdsoft_scroller"></div>');n.setOptions=function(a){r=t.extend({},r,a),r.inline&&(n.addClass("xdsoft_inline"),e.after(n).hide()),(r.open||r.opened||r.inline)&&e.trigger("open.xdsoft"),r.inverseButton&&(r.next="xdsoft_prev",r.prev="xdsoft_next"),!r.datepicker&&r.timepicker&&i.removeClass("active"),r.datepicker&&!r.timepicker&&l.removeClass("active"),r.value&&e&&e.val&&e.val(r.value),r.dayOfWeekStart=isNaN(r.dayOfWeekStart)||parseInt(r.dayOfWeekStart)<0||parseInt(r.dayOfWeekStart)>6?0:parseInt(r.dayOfWeekStart),r.timepickerScrollbar||d.hide(),r.dayOfWeekStartPrev=0==r.dayOfWeekStart?6:r.dayOfWeekStart-1},n.data("options",r),n.on("mousedown",function(t){t.stopPropagation()}),d.append(h),l.find(".xdsoft_time_box").append(d),function(){var e=0;h.on("mousedown",function(r){var a=r.pageY,i=parseInt(h.css("margin-top")),s=d[0].offsetHeight;t("body").addClass("xdsoft_noselect"),t(window).on("mouseup",function(){t(window).off("mouseup",arguments.callee),t(window).off("mousemove",e),t("body").removeClass("xdsoft_noselect")}).on("mousemove",e=function(t){var e=t.pageY-a+i;0>e&&(e=0),e+h[0].offsetHeight>s&&(e=s-h[0].offsetHeight),h.css("margin-top",e),n.trigger("scroll.scrollbar",[e])})}),n.on("scroll.timebox",function(t,e){if(r.timepickerScrollbar){var n=d.height()-h[0].offsetHeight,a=c[0].offsetHeight,i=u[0].offsetHeight,s=e/(i-a);h.css("margin-top",n*s)}}).on("open.xdsoft",function(){if(r.timepickerScrollbar){var t=c[0].offsetHeight;height=u[0].offsetHeight,percent=t/height,sh=percent*d[0].offsetHeight,percent>1?h.hide():(h.show(),h.css("height",parseInt(sh>10?sh:10)))}})}(),n.on("scroll.scrollbar",function(t,e){var n=d[0].offsetHeight-h[0].offsetHeight,r=e/n;pheight=c[0].offsetHeight,height=u[0].offsetHeight,u.css("marginTop",-parseInt((height-pheight)*r))}),l.find(".xdsoft_time_box").append(u),n.append(i).append(l),r.withoutCopyright!==!0&&n.append(a),i.append(s).append(o),t("body").append(n);var f=function(){var t=this;t.now=function(){return new Date},t.currentTime=this.now(),t.isValidDate=function(t){return"[object Date]"!==Object.prototype.toString.call(t)?!1:!isNaN(t.getTime())},t.setCurrentTime=function(e){t.currentTime="string"==typeof e?t.strtodatetime(e):t.isValidDate(e)?e:t.now(),n.trigger("change.xdsoft")},t.getCurrentTime=function(){return t.currentTime},t.nextMonth=function(){var e=t.currentTime.getMonth()+1;return 12==e&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),e=0),t.currentTime.setMonth(e),r.onChangeMonth&&r.onChangeMonth.call&&r.onChangeMonth.call(n,n.data("xdsoft_datetime").currentTime,n.data("input")),n.trigger("change.xdsoft"),e},t.prevMonth=function(){var e=t.currentTime.getMonth()-1;return-1==e&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),e=11),t.currentTime.setMonth(e),r.onChangeMonth&&r.onChangeMonth.call&&r.onChangeMonth.call(n,n.data("xdsoft_datetime").currentTime,n.data("input")),n.trigger("change.xdsoft"),e},this.strtodatetime=function(e){var n=e?Date.parseDate(e,r.format):new Date;return t.isValidDate(n)||(n=new Date),n},this.strtodate=function(e){var n=e?Date.parseDate(e,r.formatDate):new Date;return t.isValidDate(n)||(n=new Date),n},this.strtotime=function(e){var n=e?Date.parseDate(e,r.formatTime):new Date;return t.isValidDate(n)||(n=new Date),n},this.str=function(){return this.currentTime.dateFormat(r.format)}};s.find(".xdsoft_prev,.xdsoft_next").mousedown(function(){var e=t(this),a=0,i=!1;!function(t){n.data("xdsoft_datetime").currentTime.getMonth();e.hasClass(r.next)?n.data("xdsoft_datetime").nextMonth():e.hasClass(r.prev)&&n.data("xdsoft_datetime").prevMonth(),!i&&(a=setTimeout(arguments.callee,t?t:100))}(500),t(window).on("mouseup",function(){clearTimeout(a),i=!0,t(this).off("mouseup",arguments.callee)})}),l.find(".xdsoft_prev,.xdsoft_next").mousedown(function(){var e=t(this),a=0,i=!1,s=110;!function(t){var o=u.parent()[0].offsetHeight,l=u[0].offsetHeight,c=Math.abs(parseInt(u.css("marginTop")));e.hasClass(r.next)&&l-o-r.timeHeightInTimePicker>=c?u.css("marginTop","-"+(c+r.timeHeightInTimePicker)+"px"):e.hasClass(r.prev)&&c-r.timeHeightInTimePicker>=0&&u.css("marginTop","-"+(c-r.timeHeightInTimePicker)+"px"),n.trigger("scroll.timebox",[Math.abs(parseInt(u.css("marginTop")))]),s=s>10?10:s-10,!i&&(a=setTimeout(arguments.callee,t?t:s))}(500),t(window).on("mouseup",function(){clearTimeout(a),i=!0,t(this).off("mouseup",arguments.callee)})}),n.on("change.xdsoft",function(){for(var e=t(this).data("xdsoft_datetime"),n="",a=new Date(e.currentTime.getFullYear(),e.currentTime.getMonth(),1);a.getDay()!=r.dayOfWeekStart;)a.setDate(a.getDate()-1);var i=0,l=new Date;n+="<table><thead><tr>";for(var c=0;7>c;c++)n+="<th>"+r.i18n[r.lang].dayOfWeek[c+r.dayOfWeekStart>6?0:c+r.dayOfWeekStart]+"</th>";for(n+="</tr></thead>",n+="<tbody><tr>";i<e.currentTime.getDaysInMonth()||a.getDay()!=r.dayOfWeekStart||e.currentTime.getMonth()==a.getMonth();)i++,n+='<td data-date="'+a.getDate()+'" data-month="'+a.getMonth()+'" data-year="'+a.getFullYear()+'" class="'+(r.maxDate!==!1&&Math.round(e.strtodate(r.maxDate).getTime()/864e5)<Math.round(a.getTime()/864e5)||r.minDate!==!1&&Math.round(e.strtodate(r.minDate).getTime()/864e5)>Math.round(a.getTime()/864e5)?"xdsoft_disabled ":" ")+(e.currentTime.getMonth()!=a.getMonth()?" xdsoft_other_month ":" ")+(e.currentTime.dateFormat("d.m.Y")==a.dateFormat("d.m.Y")?" xdsoft_current ":" ")+(l.dateFormat("d.m.Y")==a.dateFormat("d.m.Y")?" xdsoft_today ":" ")+'"><div>'+a.getDate()+"</div></td>",a.getDay()==r.dayOfWeekStartPrev&&(n+="</tr>"),a.setDate(a.getDate()+1);n+="</tbody></table>",o.html(n),s.find(".xdsoft_label").eq(0).text(r.i18n[r.lang].months[e.currentTime.getMonth()]),s.find(".xdsoft_label").eq(1).text(e.currentTime.getFullYear());var d="",h="",f="",p=function(t,n){var a=new Date;a.setHours(t),t=parseInt(a.getHours()),a.setMinutes(n),n=parseInt(a.getMinutes()),d+='<div class="'+(r.maxTime!==!1&&e.strtotime(r.maxTime).getTime()<a.getTime()||r.minTime!==!1&&e.strtotime(r.minTime).getTime()>a.getTime()?"xdsoft_disabled ":" ")+(parseInt(e.currentTime.getHours())==parseInt(t)&&parseInt(e.currentTime.getMinutes()/r.step)*r.step==parseInt(n)?" xdsoft_current ":"")+(parseInt(l.getHours())==parseInt(t)&&parseInt(l.getMinutes())==parseInt(n)?" xdsoft_today ":"")+'" data-hour="'+t+'" data-minute="'+n+'">'+a.dateFormat(r.formatTime)+"</div>"};if(r.allowTimes&&t.isArray(r.allowTimes)&&r.allowTimes.length)for(var i=0;i<r.allowTimes.length;i++)h=e.strtotime(r.allowTimes[i]).getHours(),f=e.strtotime(r.allowTimes[i]).getMinutes(),p(h,f);else for(var i=0;i<(r.hours12?12:24);i++)for(var c=0;60>c;c+=r.step)h=(10>i?"0":"")+i,f=(10>c?"0":"")+c,p(h,f);u.html(d)}),n.on("open.xdsoft",function(){if(u.find(".xdsoft_current").length){var t=u.parent()[0].offsetHeight,e=u[0].offsetHeight,n=u.find(".xdsoft_current").index()*r.timeHeightInTimePicker;n>e-t&&(n=e-t),u.css("marginTop","-"+parseInt(n)+"px")}}),o.on("mousedown","td",function(){if(t(this).hasClass("xdsoft_disabled"))return!1;var a=n.data("xdsoft_datetime").currentTime;a.setFullYear(t(this).data("year")),a.setMonth(t(this).data("month")),a.setDate(t(this).data("date")),n.trigger("select.xdsoft",[a]),e.val(n.data("xdsoft_datetime").str()),r.closeOnDateSelect!==!0&&(0!==r.closeOnDateSelect||r.timepicker)||r.inline||n.close(),r.onSelectDate&&r.onSelectDate.call&&r.onSelectDate.call(n,n.data("xdsoft_datetime").currentTime,n.data("input")),n.trigger("change.xdsoft"),n.trigger("changedatetime.xdsoft")}),u.on("mousedown","div",function(){if(t(this).hasClass("xdsoft_disabled"))return!1;var e=n.data("xdsoft_datetime").currentTime;e.setHours(t(this).data("hour")),e.setMinutes(t(this).data("minute")),n.trigger("select.xdsoft",[e]),n.data("input").val(n.data("xdsoft_datetime").str()),!r.inline&&n.close(),r.onSelectTime&&r.onSelectTime.call&&r.onSelectTime.call(n,n.data("xdsoft_datetime").currentTime,n.data("input")),n.trigger("change.xdsoft"),n.trigger("changedatetime.xdsoft")}),n.mousewheel&&i.mousewheel(function(t,e){return r.scrollMonth?(0>e?n.data("xdsoft_datetime").nextMonth():n.data("xdsoft_datetime").prevMonth(),!1):!0}),n.mousewheel&&l.mousewheel(function(t,e){if(!r.scrollTime)return!0;var a=u.parent()[0].offsetHeight,i=u[0].offsetHeight,s=Math.abs(parseInt(u.css("marginTop"))),o=!0;return 0>e&&i-a-r.timeHeightInTimePicker>=s?(u.css("marginTop","-"+(s+r.timeHeightInTimePicker)+"px"),o=!1):e>0&&s-r.timeHeightInTimePicker>=0&&(u.css("marginTop","-"+(s-r.timeHeightInTimePicker)+"px"),o=!1),n.trigger("scroll.timebox",[Math.abs(parseInt(u.css("marginTop")))]),o}),n.on("changedatetime.xdsoft",function(){r.onChangeDateTime&&r.onChangeDateTime.call&&r.onChangeDateTime.call(n,n.data("xdsoft_datetime").currentTime,n.data("input"))});var p=0;e.mousewheel&&e.mousewheel(function(t,a,s,o){return r.scrollInput?!r.datepicker&&r.timepicker?(p=u.find(".xdsoft_current").length?u.find(".xdsoft_current").eq(0).index():0,p+a>=0&&p+a<u.children().length&&(p+=a),u.children().eq(p).length&&u.children().eq(p).trigger("mousedown"),!1):r.datepicker&&!r.timepicker?(i.trigger(t,[a,s,o]),e.val&&e.val(n.data("xdsoft_datetime").str()),n.trigger("changedatetime.xdsoft"),!1):void 0:!0}),n.open=function(){var e=!0;if(r.onShow&&r.onShow.call&&(e=r.onShow.call(n,n.data("xdsoft_datetime").currentTime,n.data("input"))),e!==!1){var a=function(){var e=n.data("input").offset(),r=e.top+n.data("input")[0].offsetHeight;r+n[0].offsetHeight>t("body").height()&&(r=e.top-n[0].offsetHeight),n.css({left:e.left,top:r})};n.show(),a(),t(window).on("resize.xdsoft",a),r.closeOnWithoutClick&&t(window).on("mousedown.xdsoft keydown.xdsoft",function(){n.close(),t(this).off("mousedown",arguments.callee)}),n.trigger("open.xdsoft")}},n.close=function(){var t=!0;r.onClose&&r.onClose.call&&(t=r.onClose.call(n,n.data("xdsoft_datetime").currentTime,n.data("input"))),t===!1||r.opened||r.inline||n.hide()},n.data("input",e);var g=new f,v=0;n.data("xdsoft_datetime",g),n.setOptions(r),g.setCurrentTime(r.value?r.value:e&&e.val&&e.val()?e.val():new Date),e.data("xdsoft_datetimepicker",n).on("enter.xdsoft keyup.xdsoft mousedown.xdsoft open.xdsoft",function(){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||(clearTimeout(v),v=setTimeout(function(){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||(g.setCurrentTime(e&&e.val&&e.val()?e.val():new Date),n.open())},100))})},i=function(e){var n=e.data("xdsoft_datetimepicker");if(n){var a=n.data("xdsoft_datetime");delete a,n.remove(),delete n,e.data("xdsoft_datetimepicker",null),e.off("enter.xdsoft keyup.xdsoft mousedown.xdsoft open.xdsoft"),t(window).off("resize.xdsoft"),t(window).off("mousedown.xdsoft keydown.xdsoft"),e.unmousewheel&&e.unmousewheel(),delete r}};return this.each(function(){var n;if(n=t(this).data("xdsoft_datetimepicker")){if("string"===t.type(e))switch(e){case"show":n.open();break;case"hide":n.close();break;case"destroy":i(t(this))}else t(this).data("xdsoft_datetimepicker").setOptions(r);return 0}"string"!==t.type(e)&&a(t(this))})}}(jQuery),/*
 * Copyright (C) 2004 Baron Schwartz <baron at sequent dot org>
 *
 * This program is free software; you can redistribute it and/or modify it
 * under the terms of the GNU Lesser General Public License as published by the
 * Free Software Foundation, version 2.1.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public License for more
 * details.
 */
Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(t){null==Date.formatFunctions[t]&&Date.createNewFormat(t);var e=Date.formatFunctions[t];return this[e]()},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var code="Date.prototype."+funcName+" = function(){return ",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;eval(code.substring(0,code.length-3)+";}")},Date.getFormatCode=function(t){switch(t){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(t)+"' + "}},Date.parseDate=function(t,e){null==Date.parseFunctions[e]&&Date.createParser(e);var n=Date.parseFunctions[e];return Date[n](t)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input){\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$"),eval(code)},Date.formatCodeToRegex=function(t,e){switch(t){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+e+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:0,c:null,s:"(?:\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+e+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+e+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+e+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+e+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+e+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+e+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+e+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+e+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+e+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+e+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(t)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(this.getTimezoneOffset()/60),2,"0")+String.leftPad(this.getTimezoneOffset()%60,2,"0")},Date.prototype.getDayOfYear=function(){var t=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var e=0;e<this.getMonth();++e)t+=Date.daysInMonth[e];return t+this.getDate()-1},Date.prototype.getWeekOfYear=function(){var t=this.getDayOfYear()+(4-this.getDay()),e=new Date(this.getFullYear(),0,1),n=7-e.getDay()+4;return document.write(n),String.leftPad((t-n)/7+1,2,"0")},Date.prototype.isLeapYear=function(){var t=this.getFullYear();return 0==(3&t)&&(t%100||t%400==0&&t)},Date.prototype.getFirstDayOfMonth=function(){var t=(this.getDay()-(this.getDate()-1))%7;return 0>t?t+7:t},Date.prototype.getLastDayOfMonth=function(){var t=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>t?t+7:t},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(t){return t.replace(/('|\\)/g,"\\$1")},String.leftPad=function(t,e,n){var r=new String(t);for(null==n&&(n=" ");r.length<e;)r=n+r;return r},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"},/*
 * Copyright (c) 2013 Brandon Aaron (http://brandonaaron.net)
 *
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.1.3
 *
 * Requires: 1.2.2+
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var a,i=e||window.event,s=[].slice.call(arguments,1),o=0,l=0,c=0,u=0,d=0;return e=t.event.fix(i),e.type="mousewheel",i.wheelDelta&&(o=i.wheelDelta),i.detail&&(o=-1*i.detail),i.deltaY&&(c=-1*i.deltaY,o=c),i.deltaX&&(l=i.deltaX,o=-1*l),void 0!==i.wheelDeltaY&&(c=i.wheelDeltaY),void 0!==i.wheelDeltaX&&(l=-1*i.wheelDeltaX),u=Math.abs(o),(!n||n>u)&&(n=u),d=Math.max(Math.abs(c),Math.abs(l)),(!r||r>d)&&(r=d),a=o>0?"floor":"ceil",o=Math[a](o/n),l=Math[a](l/r),c=Math[a](c/r),s.unshift(e,o,l,c),(t.event.dispatch||t.event.handle).apply(this,s)}var n,r,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(t.event.fixHooks)for(var s=a.length;s;)t.event.fixHooks[a[--s]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),function(t){var e={en:{days:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],sep:"-",format:"YYYY-MM-DD hh:mm",prevMonth:"Previous month",nextMonth:"Next month",today:"Today"},ja:{days:["日","月","火","水","木","金","土"],months:["01","02","03","04","05","06","07","08","09","10","11","12"],sep:"/",format:"YYYY/MM/DD hh:mm"},ru:{days:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],format:"DD.MM.YYYY hh:mm"},br:{days:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],format:"DD/MM/YYYY hh:mm"},pt:{days:["dom","seg","ter","qua","qui","sex","sáb"],months:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},cn:{days:["日","一","二","三","四","五","六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},de:{days:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Jan","Feb","März","Apr","Mai","Juni","Juli","Aug","Sept","Okt","Nov","Dez"],format:"DD.MM.YYYY hh:mm"},sv:{days:["Sö","Må","Ti","On","To","Fr","Lö"],months:["Jan","Feb","Mar","Apr","Maj","Juni","Juli","Aug","Sept","Okt","Nov","Dec"]},id:{days:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],months:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"]},it:{days:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],months:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],format:"DD/MM/YYYY hh:mm"},tr:{days:["Pz","Pzt","Sal","Çar","Per","Cu","Cts"],months:["Ock","Şub","Mar","Nis","May","Haz","Tem","Agu","Eyl","Ekm","Kas","Arlk"]},es:{days:["dom","lun","mar","miér","jue","vié","sáb"],months:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],format:"DD/MM/YYYY hh:mm"},ko:{days:["일","월","화","수","목","금","토"],months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},nl:{days:["zo","ma","di","wo","do","vr","za"],months:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],format:"DD-MM-YYYY hh:mm"},cz:{days:["Ne","Po","Út","St","Čt","Pá","So"],months:["Led","Úno","Bře","Dub","Kvě","Čer","Čvc","Srp","Zář","Říj","Lis","Pro"],format:"DD.MM.YYYY hh:mm"},fr:{days:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],format:"DD-MM-YYYY hh:mm"}},n=[],r=[],a=-1,i=function(e){return t(e).closest(".datepicker")},s=function(e){var n=i(e);return null!=n.data("inputObjectId")?t(r[n.data("inputObjectId")]):null},o=function(t){var e=i(t),n=new Date;b(e,{isAnim:!0,isOutputToInputObject:!0},n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes())},l=function(t){var e=i(t),n=g(e),r=new Date(n.getFullYear(),n.getMonth(),0).getDate();r<n.getDate()&&n.setDate(r),b(e,{isAnim:!0,isOutputToInputObject:!0},n.getFullYear(),n.getMonth()-1,n.getDate(),n.getHours(),n.getMinutes());var a=new Date,s=a.getFullYear()==n.getFullYear(),o=s&&a.getMonth()==n.getMonth();o&&e.data("futureOnly")||(r<n.getDate()&&n.setDate(r),b(e,{isAnim:!0,isOutputToInputObject:!0},n.getFullYear(),n.getMonth()-1,n.getDate(),n.getHours(),n.getMinutes()))},c=function(t){var e=i(t),n=g(e),r=new Date(n.getFullYear(),n.getMonth()+1,0).getDate();r<n.getDate()&&n.setDate(r),b(e,{isAnim:!0,isOutputToInputObject:!0},n.getFullYear(),n.getMonth()+1,n.getDate(),n.getHours(),n.getMinutes())},u=function(t,e,n){return"default"==t&&(t=y(e,"format"),n&&(t=t.substring(0,t.search(" ")))),t},d=function(t){if(99>t){var e=new Date;return parseInt(t)+parseInt(e.getFullYear().toString().substr(0,2)+"00")}return t},h=function(t,e){if(null!=e){var n=e.replace(/(-|\/)/g,"[-/]").replace(/YYYY/gi,"(\\d{2,4})").replace(/(YY|MM|DD|hh|mm)/g,"(\\d{1,2})").replace(/(M|D|h|m)/g,"(\\d{1,2})"),r=new RegExp(n),a=r.exec(t);if(null!=a){for(var i=new Array,s="",o="",n=e;null!=n&&0<n.length;){var l=n.substring(0,1);n=n.substring(1,n.length),o!=l&&(/(YYYY|YY|MM|DD|mm|dd|M|D|h|m)/.test(s)?(i.push(s),s=""):s=""),s+=l,o=l}""!=s&&/(YYYY|YY|MM|DD|mm|dd|M|D|h|m)/.test(s)&&i.push(s);for(var c=new Date,u=!1,h=0;h<i.length&&!(a.length<h);h++){var f=i[h],p=a[h+1];"YYYY"==f?(c.setFullYear(d(p)),u=!0):"YY"==f?(c.setYear(p),u=!0):"MM"==f||"M"==f?(c.setMonth(parseInt(p)-1),u=!0):"DD"==f||"D"==f?(c.setDate(p),u=!0):"hh"==f||"h"==f?(c.setHours(p),u=!0):("mm"==f||"m"==f)&&(c.setMinutes(p),u=!0)}if(1==u&&0==isNaN(c)&&0==isNaN(c.getDate()))return c}}var r=/^(\d{2,4})[-\/](\d{1,2})[-\/](\d{1,2}) (\d{1,2}):(\d{1,2})$/,a=r.exec(t);return null!==a?(a[1]=d(a[1]),c=new Date(a[1],a[2]-1,a[3],a[4],a[5])):(r=/^(\d{2,4})[-\/](\d{1,2})[-\/](\d{1,2})$/,a=r.exec(t),null!==a&&(a[1]=d(a[1]),c=new Date(a[1],a[2]-1,a[3]))),0==isNaN(c)&&0==isNaN(c.getDate())?c:!1},f=function(t,e){null==t&&(t=new Date);var n=t.getFullYear(),r=t.getMonth()+1,a=t.getDate(),i=t.getHours(),s=t.getMinutes(),e=e.replace(/YYYY/gi,n).replace(/YY/g,n-2e3).replace(/MM/g,v(r)).replace(/M/g,r).replace(/DD/g,v(a)).replace(/D/g,a).replace(/hh/g,v(i)).replace(/h/g,i).replace(/mm/g,v(s)).replace(/m/g,s);return e},p=function(t){var e=s(t);if(null!=e){var n=g(t),r=t.data("locale"),a=u(t.data("dateFormat"),r,t.data("dateOnly"));e.val(f(n,a))}},g=function(t){var e=i(t);return e.data("pickedDate")},v=function(t){return t=("0"+t).slice(-2)},m=function(t,e,n){b(t,e,n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes())},y=function(t,n){return"undefined"!=typeof e[t][n]?e[t][n]:e.en[n]},b=function(n,r,s,u,d,h,f){var m=new Date;m=null!=h?new Date(s,u,d,h,f,0):null!=s?new Date(s,u,d):new Date;var w=n.data("todayButton"),D=r.isAnim;0==n.data("timelistScroll")&&(D=!1);var C=r.isAnim;0==n.data("animation")&&(C=!1);var S=n.data("futureOnly"),x=r.isOutputToInputObject,M=n.data("minuteInterval"),F=n.data("firstDayOfWeek"),T=n.data("locale");e.hasOwnProperty(T)||(T="en");var E=new Date,k=new Date(m.getFullYear(),m.getMonth(),1).getDay()-F,O=new Date(m.getFullYear(),m.getMonth()+1,0).getDate(),A=new Date(m.getFullYear(),m.getMonth(),0).getDate(),H=new Date(m.getFullYear(),m.getMonth(),0),R=new Date(m.getFullYear(),m.getMonth()+2,0),I=E.getFullYear()==m.getFullYear(),N=I&&E.getMonth()==m.getMonth(),_=N&&E.getDate()==m.getDate(),P=n.children(".datepicker_header"),z=(n.children(".datepicker_inner_container"),n.children(".datepicker_inner_container").children(".datepicker_calendar")),Y=z.children(".datepicker_table"),L=n.children(".datepicker_inner_container").children(".datepicker_timelist"),W="",j=g(n);null!=j&&(j.getMonth()!=m.getMonth()||j.getDate()!=m.getDate()?W="calendar":(j.getHours()!=m.getHours()||j.getMinutes()!=m.getMinutes())&&(0==m.getMinutes()||m.getMinutes()%M==0)&&(W="timelist")),t(n).data("pickedDate",m),1==C&&("calendar"==W?(z.stop().queue([]),z.fadeTo("fast",.8)):"timelist"==W&&(L.stop().queue([]),L.fadeTo("fast",.8)));var q=L.scrollTop(),B=-1;if(P.children().remove(),!S||!N){var U=t("<a>");U.text("<"),U.prop("alt",y(T,"prevMonth")),U.prop("title",y(T,"prevMonth")),U.click(function(){l(n)})}var V=t("<span>");V.text(m.getFullYear()+" "+y(T,"sep")+" "+y(T,"months")[m.getMonth()]);var J=t("<a>");if(J.text(">"),J.prop("alt",y(T,"nextMonth")),J.prop("title",y(T,"nextMonth")),J.click(function(){c(n)}),w){var $=t("<a/>");$.html(decodeURIComponent("%3c%3fxml%20version%3d%221%2e0%22%20encoding%3d%22UTF%2d8%22%20standalone%3d%22no%22%3f%3e%3csvg%20%20xmlns%3adc%3d%22http%3a%2f%2fpurl%2eorg%2fdc%2felements%2f1%2e1%2f%22%20%20xmlns%3acc%3d%22http%3a%2f%2fcreativecommons%2eorg%2fns%23%22%20xmlns%3ardf%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f1999%2f02%2f22%2drdf%2dsyntax%2dns%23%22%20%20xmlns%3asvg%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f2000%2fsvg%22%20xmlns%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f2000%2fsvg%22%20%20version%3d%221%2e1%22%20%20width%3d%22100%25%22%20%20height%3d%22100%25%22%20viewBox%3d%220%200%2010%2010%22%3e%3cg%20transform%3d%22translate%28%2d5%2e5772299%2c%2d26%2e54581%29%22%3e%3cpath%20d%3d%22m%2014%2e149807%2c31%2e130932%20c%200%2c%2d0%2e01241%200%2c%2d0%2e02481%20%2d0%2e0062%2c%2d0%2e03721%20L%2010%2e57723%2c28%2e153784%207%2e0108528%2c31%2e093719%20c%200%2c0%2e01241%20%2d0%2e0062%2c0%2e02481%20%2d0%2e0062%2c0%2e03721%20l%200%2c2%2e97715%20c%200%2c0%2e217084%200%2e1798696%2c0%2e396953%200%2e3969534%2c0%2e396953%20l%202%2e3817196%2c0%200%2c%2d2%2e38172%201%2e5878132%2c0%200%2c2%2e38172%202%2e381719%2c0%20c%200%2e217084%2c0%200%2e396953%2c%2d0%2e179869%200%2e396953%2c%2d0%2e396953%20l%200%2c%2d2%2e97715%20m%201%2e383134%2c%2d0%2e427964%20c%200%2e06823%2c%2d0%2e08063%200%2e05582%2c%2d0%2e210882%20%2d0%2e02481%2c%2d0%2e279108%20l%20%2d1%2e358324%2c%2d1%2e128837%200%2c%2d2%2e530576%20c%200%2c%2d0%2e111643%20%2d0%2e08683%2c%2d0%2e198477%20%2d0%2e198477%2c%2d0%2e198477%20l%20%2d1%2e190859%2c0%20c%20%2d0%2e111643%2c0%20%2d0%2e198477%2c0%2e08683%20%2d0%2e198477%2c0%2e198477%20l%200%2c1%2e209467%20%2d1%2e513384%2c%2d1%2e265289%20c%20%2d0%2e2605%2c%2d0%2e217083%20%2d0%2e682264%2c%2d0%2e217083%20%2d0%2e942764%2c0%20L%205%2e6463253%2c30%2e42386%20c%20%2d0%2e080631%2c0%2e06823%20%2d0%2e093036%2c0%2e198476%20%2d0%2e024809%2c0%2e279108%20l%200%2e3845485%2c0%2e458976%20c%200%2e031012%2c0%2e03721%200%2e080631%2c0%2e06203%200%2e1302503%2c0%2e06823%200%2e055821%2c0%2e0062%200%2e1054407%2c%2d0%2e01241%200%2e1488574%2c%2d0%2e04342%20l%204%2e2920565%2c%2d3%2e578782%204%2e292058%2c3%2e578782%20c%200%2e03721%2c0%2e03101%200%2e08063%2c0%2e04342%200%2e13025%2c0%2e04342%200%2e0062%2c0%200%2e01241%2c0%200%2e01861%2c0%200%2e04962%2c%2d0%2e0062%200%2e09924%2c%2d0%2e03101%200%2e130251%2c%2d0%2e06823%20l%200%2e384549%2c%2d0%2e458976%22%20%2f%3e%3c%2fg%3e%3c%2fsvg%3e")),$.addClass("icon-home"),$.prop("alt",y(T,"today")),$.prop("title",y(T,"today")),$.click(function(){o(n)}),P.append($)}P.append(U),P.append(V),P.append(J),Y.children().remove();var G=t("<tr>");Y.append(G);for(var K=7+F,Z=y(T,"days"),X=0;7>X;X++){var Q=t("<th>");Q.text(Z[(X+K)%7]),G.append(Q)}var te=7*Math.ceil((k+O)/7),X=0;0>k&&(X=-7);for(;te>X;X++){var ee=X+1-k,ne=N&&ee<E.getDate();X%7==0&&(G=t("<tr>"),Y.append(G));var Q=t("<td>");Q.data("day",ee),G.append(Q),k>X?(Q.text(A+ee),Q.addClass("day_another_month"),Q.data("dateStr",H.getFullYear()+"/"+(H.getMonth()+1)+"/"+(A+ee))):k+O>X?(Q.text(ee),Q.data("dateStr",m.getFullYear()+"/"+(m.getMonth()+1)+"/"+ee)):(Q.text(ee-O),Q.addClass("day_another_month"),Q.data("dateStr",R.getFullYear()+"/"+(R.getMonth()+1)+"/"+(ee-O))),(X+K)%7==0?Q.addClass("wday_sun"):(X+K)%7==6&&Q.addClass("wday_sat"),ee==m.getDate()&&Q.addClass("active"),N&&ee==E.getDate()&&Q.addClass("today"),S&&ne?Q.addClass("day_in_past"):(Q.click(function(){t(this).hasClass("hover")&&t(this).removeClass("hover"),t(this).addClass("active");var e=i(t(this)),n=new Date(t(this).data("dateStr")),r=g(e);b(e,{isAnim:!1,isOutputToInputObject:!0},n.getFullYear(),n.getMonth(),n.getDate(),r.getHours(),r.getMinutes()),1==e.data("dateOnly")&&0==e.data("isInline")&&e.data("closeOnSelected")&&(a=-1,e.hide())}),Q.hover(function(){t(this).hasClass("active")||t(this).addClass("hover")},function(){t(this).hasClass("hover")&&t(this).removeClass("hover")}))}if(1==n.data("dateOnly"))L.css("display","none");else{L.children().remove(),L.css("height",z.innerHeight()-10+"px");for(var h=0;24>h;h++)for(var f=0;60>f;f+=M){var re=t("<div>"),ae=h<E.getHours()||h==E.getHours()&&f<E.getMinutes(),ne=_&&ae;re.addClass("timelist_item"),re.text(v(h)+":"+v(f)),re.data("hour",h),re.data("min",f),L.append(re),h==m.getHours()&&f==m.getMinutes()&&(re.addClass("active"),B=re.offset().top),S&&ne?re.addClass("time_in_past"):(re.click(function(){t(this).hasClass("hover")&&t(this).removeClass("hover"),t(this).addClass("active");var e=i(t(this)),n=g(e),r=t(this).data("hour"),s=t(this).data("min");b(e,{isAnim:!1,isOutputToInputObject:!0},n.getFullYear(),n.getMonth(),n.getDate(),r,s),0==e.data("isInline")&&e.data("closeOnSelected")&&(a=-1,e.hide())}),re.hover(function(){t(this).hasClass("active")||t(this).addClass("hover")},function(){t(this).hasClass("hover")&&t(this).removeClass("hover")}))}1==D?L.scrollTop(B-L.offset().top):L.scrollTop(q)}1==C&&("calendar"==W?z.fadeTo("fast",1):"timelist"==W&&L.fadeTo("fast",1)),1==x&&p(n)},w=function(e,r){var s=t("<div>");if(s.addClass("datepicker"),e.append(s),r.current){var o=u(r.dateFormat,r.locale,r.dateOnly),d=h(r.current,o);r.current=d?d:new Date}else r.current=new Date;null!=r.inputObjectId&&s.data("inputObjectId",r.inputObjectId),s.data("dateOnly",r.dateOnly),s.data("pickerId",n.length),s.data("dateFormat",r.dateFormat),s.data("locale",r.locale),s.data("firstDayOfWeek",r.firstDayOfWeek),s.data("animation",r.animation),s.data("closeOnSelected",r.closeOnSelected),s.data("timelistScroll",r.timelistScroll),s.data("calendarMouseScroll",r.calendarMouseScroll),s.data("todayButton",r.todayButton),s.data("futureOnly",r.futureOnly),s.data("state",0),5<=r.minuteInterval&&r.minuteInterval<=30?s.data("minuteInterval",r.minuteInterval):s.data("minuteInterval",30);var f=t("<div>");f.addClass("datepicker_header"),s.append(f);var p=t("<div>");p.addClass("datepicker_inner_container"),s.append(p);var g=t("<div>");g.addClass("datepicker_calendar");var v=t("<table>");v.addClass("datepicker_table"),g.append(v),p.append(g);var y=t("<div>");y.addClass("datepicker_timelist"),p.append(y),s.hover(function(){a=t(this).data("pickerId")},function(){a=-1}),r.calendarMouseScroll&&(window.sidebar?g.bind("DOMMouseScroll",function(e){var n=i(t(this)),r=e.originalEvent.detail;return r>0?c(n):l(n),!1}):g.bind("mousewheel",function(e){var n=i(t(this));return e.originalEvent.wheelDelta/120>0?l(n):c(n),!1})),n.push(s),m(s,{isAnim:!0,isOutputToInputObject:r.autodateOnStart},r.current)},D=function(){return{current:null,dateFormat:"default",locale:"en",animation:!0,minuteInterval:30,firstDayOfWeek:0,closeOnSelected:!1,timelistScroll:!0,calendarMouseScroll:!0,todayButton:!0,dateOnly:!1,futureOnly:!1,autodateOnStart:!0}};t.fn.dtpicker=function(e){var n=(new Date,D());n.inputObjectId=void 0;var r=t.extend(n,e);return this.each(function(){w(t(this),r)})},t.fn.appendDtpicker=function(e){var i=(new Date,D());i.inline=!1;var s=t.extend(i,e);return this.each(function(){var e=this,i=r.length;r.push(e),s.inputObjectId=i;null!=t(e).val()&&""!=t(e).val()&&(s.current=t(e).val());var o=t("<div>");0==s.inline&&o.css("position","absolute"),o.insertAfter(e);var l=n.length,c=t(o).dtpicker(s),d=c.children(".datepicker");t(e).data("pickerId",l),t(e).keyup(function(){var e=t(this),r=t(n[e.data("pickerId")]);if(null!=e.val()&&(null==e.data("beforeVal")||null!=e.data("beforeVal")&&e.data("beforeVal")!=e.val())){var a=u(r.data("dateFormat"),r.data("locale"),r.data("dateOnly")),i=h(e.val(),a);i&&m(r,{isAnim:!0,isOutputToInputObject:!1},i)}e.data("beforeVal",e.val())}),t(e).change(function(){t(this).trigger("keyup")}),1==s.inline?d.data("isInline",!0):(d.data("isInline",!1),c.css({zIndex:100}),d.css("width","auto"),d.hide(),t(e).click(function(){var r=t(this),i=t(n[r.data("pickerId")]);a=r.data("pickerId"),i.show();var s=t(e).parent().css("position");"relative"===s||"absolute"===s?i.parent().css("top",r.outerHeight()+2+"px"):(i.parent().css("top",r.position().top+r.outerHeight()+2+"px"),i.parent().css("left",r.position().left+"px"))}))})},t(function(){t("body").click(function(){for(var e=0;e<n.length;e++){var r=t(n[e]);a!=e&&null!=r.data("inputObjectId")&&0==r.data("isInline")&&r.hide()}})})}(jQuery),/*!
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 Jörn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."),void 0;var n=t.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new t.validator(e,this[0]),t.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){n.settings.submitHandler&&(n.submitButton=e.target),t(e.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(e){function r(){var r;return n.settings.submitHandler?(n.submitButton&&(r=t("<input type='hidden'/>").attr("name",n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,e),n.submitButton&&r.remove(),!1):!0}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,r()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):r():(n.focusInvalid(),!1)})),n)},valid:function(){if(t(this[0]).is("form"))return this.validate().form();var e=!0,n=t(this[0].form).validate();return this.each(function(){e=e&&n.element(this)}),e},removeAttrs:function(e){var n={},r=this;return t.each(e.split(/\s/),function(t,e){n[e]=r.attr(e),r.removeAttr(e)}),n},rules:function(e,n){var r=this[0];if(e){var a=t.data(r.form,"validator").settings,i=a.rules,s=t.validator.staticRules(r);switch(e){case"add":t.extend(s,t.validator.normalizeRule(n)),delete s.messages,i[r.name]=s,n.messages&&(a.messages[r.name]=t.extend(a.messages[r.name],n.messages));break;case"remove":if(!n)return delete i[r.name],s;var o={};return t.each(n.split(/\s/),function(t,e){o[e]=s[e],delete s[e]}),o}}var l=t.validator.normalizeRules(t.extend({},t.validator.classRules(r),t.validator.attributeRules(r),t.validator.dataRules(r),t.validator.staticRules(r)),r);if(l.required){var c=l.required;delete l.required,l=t.extend({required:c},l)}return l}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,n){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=n,this.init()},t.validator.format=function(e,n){return 1===arguments.length?function(){var n=t.makeArray(arguments);return n.unshift(e),t.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=t.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t.each(n,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return n})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,n,r){"radio"===e.type?this.findByName(e.name).addClass(n).removeClass(r):t(e).addClass(n).removeClass(r)},unhighlight:function(e,n,r){"radio"===e.type?this.findByName(e.name).removeClass(n).addClass(r):t(e).removeClass(n).addClass(r)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var n=t.data(this[0].form,"validator"),r="on"+e.type.replace(/^validate/,"");n.settings[r]&&n.settings[r].call(n,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n=this.groups={};t.each(this.settings.groups,function(e,r){"string"==typeof r&&(r=r.split(/\s/)),t.each(r,function(t,r){n[r]=e})});var r=this.settings.rules;t.each(r,function(e,n){r[e]=t.validator.normalizeRule(n)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){e=this.validationTargetFor(this.clean(e)),this.lastElement=e,this.prepareElement(e),this.currentElements=t(e);var n=this.check(e)!==!1;return n?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var n in e)this.errorList.push({message:e[n],element:this.findByName(n)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0;for(var n in t)e++;return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,n={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!e.objectLength(t(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.replace(" ",".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var n=t(e).attr("type"),r=t(e).val();return"radio"===n||"checkbox"===n?t("input[name='"+t(e).attr("name")+"']:checked").val():"string"==typeof r?r.replace(/\r/g,""):r},check:function(e){e=this.validationTargetFor(this.clean(e));var n,r=t(e).rules(),a=!1,i=this.elementValue(e);for(var s in r){var o={method:s,parameters:r[s]};try{if(n=t.validator.methods[s].call(this,i,e,o.parameters),"dependency-mismatch"===n){a=!0;continue}if(a=!1,"pending"===n)return this.toHide=this.toHide.not(this.errorsFor(e)),void 0;if(!n)return this.formatAndAdd(e,o),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+o.method+"' method.",l),l}}return a?void 0:(this.objectLength(r)&&this.successList.push(e),!0)},customDataMessage:function(e,n){return t(e).data("msg-"+n.toLowerCase())||e.attributes&&t(e).attr("data-msg-"+n.toLowerCase())},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,n){return this.findDefined(this.customMessage(e.name,n),this.customDataMessage(e,n),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[n],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,n){var r=this.defaultMessage(e,n.method),a=/\$?\{(\d+)\}/g;"function"==typeof r?r=r.call(this,n.parameters,e):a.test(r)&&(r=t.validator.format(r.replace(a,"{$1}"),n.parameters)),this.errorList.push({message:r,element:e}),this.errorMap[e.name]=r,this.submitted[e.name]=r},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e;for(t=0;this.errorList[t];t++){var n=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,n){var r=this.errorsFor(e);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(n)):(r=t("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,t(e)):r.insertAfter(e))),!n&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,e)),this.toShow=this.toShow.add(r)},errorsFor:function(e){var n=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")===n})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,n){switch(n.nodeName.toLowerCase()){case"select":return t("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,n){return!!t(e,n.form).length},"function":function(t,e){return t(e)}},optional:function(e){var n=this.elementValue(e);return!t.validator.methods.required.call(this,n,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,n){e.constructor===String?this.classRuleSettings[e]=n:t.extend(this.classRuleSettings,e)},classRules:function(e){var n={},r=t(e).attr("class");return r&&t.each(r.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(n,t.validator.classRuleSettings[this])}),n},attributeRules:function(e){var n={},r=t(e),a=r[0].getAttribute("type");for(var i in t.validator.methods){var s;"required"===i?(s=r.get(0).getAttribute(i),""===s&&(s=!0),s=!!s):s=r.attr(i),/min|max/.test(i)&&(null===a||/number|range|text/.test(a))&&(s=Number(s)),s?n[i]=s:a===i&&"range"!==a&&(n[i]=!0)}return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(e){var n,r,a={},i=t(e);for(n in t.validator.methods)r=i.data("rule-"+n.toLowerCase()),void 0!==r&&(a[n]=r);return a},staticRules:function(e){var n={},r=t.data(e.form,"validator");return r.settings.rules&&(n=t.validator.normalizeRule(r.settings.rules[e.name])||{}),n},normalizeRules:function(e,n){return t.each(e,function(r,a){if(a===!1)return delete e[r],void 0;if(a.param||a.depends){var i=!0;switch(typeof a.depends){case"string":i=!!t(a.depends,n.form).length;break;case"function":i=a.depends.call(n,n)}i?e[r]=void 0!==a.param?a.param:!0:delete e[r]}}),t.each(e,function(r,a){e[r]=t.isFunction(a)?a(n):a}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var n;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(n=e[this].split(/[\s,]+/),e[this]=[Number(n[0]),Number(n[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var n={};t.each(e.split(/\s/),function(){n[this]=!0}),e=n}return e},addMethod:function(e,n,r){t.validator.methods[e]=n,t.validator.messages[e]=void 0!==r?r:t.validator.messages[e],n.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,n,r){if(!this.depend(r,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var a=t(n).val();return a&&a.length>0}return this.checkable(n)?this.getLength(e,n)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var n=0,r=0,a=!1;t=t.replace(/\D/g,"");for(var i=t.length-1;i>=0;i--){var s=t.charAt(i);r=parseInt(s,10),a&&(r*=2)>9&&(r-=9),n+=r,a=!a}return n%10===0},minlength:function(e,n,r){var a=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||a>=r},maxlength:function(e,n,r){var a=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||r>=a},rangelength:function(e,n,r){var a=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||a>=r[0]&&a<=r[1]},min:function(t,e,n){return this.optional(e)||t>=n},max:function(t,e,n){return this.optional(e)||n>=t},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},equalTo:function(e,n,r){var a=t(r);return this.settings.onfocusout&&a.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(n).valid()}),e===a.val()},remote:function(e,n,r){if(this.optional(n))return"dependency-mismatch";var a=this.previousValue(n);if(this.settings.messages[n.name]||(this.settings.messages[n.name]={}),a.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=a.message,r="string"==typeof r&&{url:r}||r,a.old===e)return a.valid;a.old=e;var i=this;this.startRequest(n);var s={};return s[n.name]=e,t.ajax(t.extend(!0,{url:r,mode:"abort",port:"validate"+n.name,dataType:"json",data:s,success:function(r){i.settings.messages[n.name].remote=a.originalMessage;var s=r===!0||"true"===r;if(s){var o=i.formSubmitted;i.prepareElement(n),i.formSubmitted=o,i.successList.push(n),delete i.invalid[n.name],i.showErrors()}else{var l={},c=r||i.defaultMessage(n,"remote");l[n.name]=a.message=t.isFunction(c)?c(e):c,i.invalid[n.name]=!0,i.showErrors(l)}a.valid=s,i.stopRequest(n,s)}},r)),"pending"}}}),t.format=t.validator.format}(jQuery),function(t){var e={};if(t.ajaxPrefilter)t.ajaxPrefilter(function(t,n,r){var a=t.port;"abort"===t.mode&&(e[a]&&e[a].abort(),e[a]=r)});else{var n=t.ajax;t.ajax=function(r){var a=("mode"in r?r:t.ajaxSettings).mode,i=("port"in r?r:t.ajaxSettings).port;return"abort"===a?(e[i]&&e[i].abort(),e[i]=n.apply(this,arguments),e[i]):n.apply(this,arguments)}}}(jQuery),function(t){t.extend(t.fn,{validateDelegate:function(e,n,r){return this.bind(n,function(n){var a=t(n.target);return a.is(e)?r.apply(a,arguments):void 0})}})}(jQuery),function(){}.call(this),function(){}.call(this),function(){jQuery(function(){var t;return $("#schedule_location_id").parent().hide(),t=$("#schedule_location_id").html(),$("#schedule_company_id").change(function(){var e,n,r;return e=$("#schedule_company_id option:selected").text(),n=e.replace(/([ #;&,.+*~\':"!^$[\]()=>|\/@])/g,"\\$1"),r=$(t).filter("optgroup[label='"+n+"']").html(),r?($("#schedule_location_id").html(r),$("#schedule_location_id").parent().show()):($("#schedule_location_id").empty(),$("#schedule_location_id").parent().hide())})})}.call(this),/*
Copyright 2012 Igor Vaynberg

Version: 3.4.5 Timestamp: Mon Nov  4 08:22:42 PST 2013

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

    http://www.apache.org/licenses/LICENSE-2.0
    http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the
Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
the specific language governing permissions and limitations under the Apache License and the GPL License.
*/
function(t){"undefined"==typeof t.fn.each2&&t.extend(t.fn,{each2:function(e){for(var n=t([0]),r=-1,a=this.length;++r<a&&(n.context=n[0]=this[r])&&e.call(n[0],r,n)!==!1;);return this}})}(jQuery),function(t,e){"use strict";function n(t){var e,n,r,a;if(!t||t.length<1)return t;for(e="",n=0,r=t.length;r>n;n++)a=t.charAt(n),e+=Y[a]||a;return e}function r(t,e){for(var n=0,r=e.length;r>n;n+=1)if(i(t,e[n]))return n;return-1}function a(){var e=t(z);e.appendTo("body");var n={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),n}function i(t,n){return t===n?!0:t===e||n===e?!1:null===t||null===n?!1:t.constructor===String?t+""==n+"":n.constructor===String?n+""==t+"":!1}function s(e,n){var r,a,i;if(null===e||e.length<1)return[];for(r=e.split(n),a=0,i=r.length;i>a;a+=1)r[a]=t.trim(r[a]);return r}function o(t){return t.outerWidth(!1)-t.width()}function l(n){var r="keyup-change-value";n.on("keydown",function(){t.data(n,r)===e&&t.data(n,r,n.val())}),n.on("keyup",function(){var a=t.data(n,r);a!==e&&n.val()!==a&&(t.removeData(n,r),n.trigger("keyup-change"))})}function c(n){n.on("mousemove",function(n){var r=P;(r===e||r.x!==n.pageX||r.y!==n.pageY)&&t(n.target).trigger("mousemove-filtered",n)})}function u(t,n,r){r=r||e;var a;return function(){var e=arguments;window.clearTimeout(a),a=window.setTimeout(function(){n.apply(r,e)},t)}}function d(t){var e,n=!1;return function(){return n===!1&&(e=t(),n=!0),e}}function h(t,e){var n=u(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){r(t.target,e.get())>=0&&n(t)})}function f(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,n=t[0],r=t.val().length;t.focus(),t.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(r,r):n.createTextRange&&(e=n.createTextRange(),e.collapse(!1),e.select()))},0)}function p(e){e=t(e)[0];var n=0,r=0;if("selectionStart"in e)n=e.selectionStart,r=e.selectionEnd-n;else if("selection"in document){e.focus();var a=document.selection.createRange();r=document.selection.createRange().text.length,a.moveStart("character",-e.value.length),n=a.text.length-r}return{offset:n,length:r}}function g(t){t.preventDefault(),t.stopPropagation()}function v(t){t.preventDefault(),t.stopImmediatePropagation()}function m(e){if(!I){var n=e[0].currentStyle||window.getComputedStyle(e[0],null);I=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),I.attr("class","select2-sizer"),t("body").append(I)}return I.text(e.val()),I.width()}function y(e,n,r){var a,i,s=[];a=e.attr("class"),a&&(a=""+a,t(a.split(" ")).each2(function(){0===this.indexOf("select2-")&&s.push(this)})),a=n.attr("class"),a&&(a=""+a,t(a.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(i=r(this),i&&s.push(i))})),e.attr("class",s.join(" "))}function b(t,e,r,a){var i=n(t.toUpperCase()).indexOf(n(e.toUpperCase())),s=e.length;return 0>i?(r.push(a(t)),void 0):(r.push(a(t.substring(0,i))),r.push("<span class='select2-match'>"),r.push(a(t.substring(i,i+s))),r.push("</span>"),r.push(a(t.substring(i+s,t.length))),void 0)}function w(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function D(n){var r,a=null,i=n.quietMillis||100,s=n.url,o=this;return function(l){window.clearTimeout(r),r=window.setTimeout(function(){var r=n.data,i=s,c=n.transport||t.fn.select2.ajaxDefaults.transport,u={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||e,dataType:n.dataType||"json"},d=t.extend({},t.fn.select2.ajaxDefaults.params,u);r=r?r.call(o,l.term,l.page,l.context):null,i="function"==typeof i?i.call(o,l.term,l.page,l.context):i,a&&a.abort(),n.params&&(t.isFunction(n.params)?t.extend(d,n.params.call(o)):t.extend(d,n.params)),t.extend(d,{url:i,dataType:n.dataType,data:r,success:function(t){var e=n.results(t,l.page);l.callback(e)}}),a=c.call(o,d)},i)}}function C(e){var n,r,a=e,i=function(t){return""+t.text};t.isArray(a)&&(r=a,a={results:r}),t.isFunction(a)===!1&&(r=a,a=function(){return r});var s=a();return s.text&&(i=s.text,t.isFunction(i)||(n=s.text,i=function(t){return t[n]})),function(e){var n,r=e.term,s={results:[]};return""===r?(e.callback(a()),void 0):(n=function(a,s){var o,l;if(a=a[0],a.children){o={};for(l in a)a.hasOwnProperty(l)&&(o[l]=a[l]);o.children=[],t(a.children).each2(function(t,e){n(e,o.children)}),(o.children.length||e.matcher(r,i(o),a))&&s.push(o)}else e.matcher(r,i(a),a)&&s.push(a)},t(a().results).each2(function(t,e){n(e,s.results)}),e.callback(s),void 0)}}function S(n){var r=t.isFunction(n);return function(a){var i=a.term,s={results:[]};t(r?n():n).each(function(){var t=this.text!==e,n=t?this.text:this;(""===i||a.matcher(i,n))&&s.results.push(t?this:{id:this,text:this})}),a.callback(s)}}function x(e,n){if(t.isFunction(e))return!0;if(!e)return!1;throw new Error(n+" must be a function or a falsy value")}function M(e){return t.isFunction(e)?e():e}function F(e){var n=0;return t.each(e,function(t,e){e.children?n+=F(e.children):n++}),n}function T(t,n,r,a){var s,o,l,c,u,d=t,h=!1;if(!a.createSearchChoice||!a.tokenSeparators||a.tokenSeparators.length<1)return e;for(;;){for(o=-1,l=0,c=a.tokenSeparators.length;c>l&&(u=a.tokenSeparators[l],o=t.indexOf(u),!(o>=0));l++);if(0>o)break;if(s=t.substring(0,o),t=t.substring(o+u.length),s.length>0&&(s=a.createSearchChoice.call(this,s,n),s!==e&&null!==s&&a.id(s)!==e&&null!==a.id(s))){for(h=!1,l=0,c=n.length;c>l;l++)if(i(a.id(s),a.id(n[l]))){h=!0;break}h||r(s)}}return d!==t?t:void 0}function E(e,n){var r=function(){};return r.prototype=new e,r.prototype.constructor=r,r.prototype.parent=e.prototype,r.prototype=t.extend(r.prototype,n),r}if(window.Select2===e){var k,O,A,H,R,I,N,_,P={x:0,y:0},k={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case k.LEFT:case k.RIGHT:case k.UP:case k.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case k.SHIFT:case k.CTRL:case k.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},z="<div class='select2-measure-scrollbar'></div>",Y={"Ⓐ":"A",Ａ:"A",À:"A",Á:"A",Â:"A",Ầ:"A",Ấ:"A",Ẫ:"A",Ẩ:"A",Ã:"A",Ā:"A",Ă:"A",Ằ:"A",Ắ:"A",Ẵ:"A",Ẳ:"A",Ȧ:"A",Ǡ:"A",Ä:"A",Ǟ:"A",Ả:"A",Å:"A",Ǻ:"A",Ǎ:"A",Ȁ:"A",Ȃ:"A",Ạ:"A",Ậ:"A",Ặ:"A",Ḁ:"A",Ą:"A",Ⱥ:"A",Ɐ:"A",Ꜳ:"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE",Ꜵ:"AO",Ꜷ:"AU",Ꜹ:"AV",Ꜻ:"AV",Ꜽ:"AY","Ⓑ":"B",Ｂ:"B",Ḃ:"B",Ḅ:"B",Ḇ:"B",Ƀ:"B",Ƃ:"B",Ɓ:"B","Ⓒ":"C",Ｃ:"C",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",Ç:"C",Ḉ:"C",Ƈ:"C",Ȼ:"C",Ꜿ:"C","Ⓓ":"D",Ｄ:"D",Ḋ:"D",Ď:"D",Ḍ:"D",Ḑ:"D",Ḓ:"D",Ḏ:"D",Đ:"D",Ƌ:"D",Ɗ:"D",Ɖ:"D",Ꝺ:"D",Ǳ:"DZ",Ǆ:"DZ",ǲ:"Dz",ǅ:"Dz","Ⓔ":"E",Ｅ:"E",È:"E",É:"E",Ê:"E",Ề:"E",Ế:"E",Ễ:"E",Ể:"E",Ẽ:"E",Ē:"E",Ḕ:"E",Ḗ:"E",Ĕ:"E",Ė:"E",Ë:"E",Ẻ:"E",Ě:"E",Ȅ:"E",Ȇ:"E",Ẹ:"E",Ệ:"E",Ȩ:"E",Ḝ:"E",Ę:"E",Ḙ:"E",Ḛ:"E",Ɛ:"E",Ǝ:"E","Ⓕ":"F",Ｆ:"F",Ḟ:"F",Ƒ:"F",Ꝼ:"F","Ⓖ":"G",Ｇ:"G",Ǵ:"G",Ĝ:"G",Ḡ:"G",Ğ:"G",Ġ:"G",Ǧ:"G",Ģ:"G",Ǥ:"G",Ɠ:"G","Ꞡ":"G",Ᵹ:"G",Ꝿ:"G","Ⓗ":"H",Ｈ:"H",Ĥ:"H",Ḣ:"H",Ḧ:"H",Ȟ:"H",Ḥ:"H",Ḩ:"H",Ḫ:"H",Ħ:"H",Ⱨ:"H",Ⱶ:"H","Ɥ":"H","Ⓘ":"I",Ｉ:"I",Ì:"I",Í:"I",Î:"I",Ĩ:"I",Ī:"I",Ĭ:"I",İ:"I",Ï:"I",Ḯ:"I",Ỉ:"I",Ǐ:"I",Ȉ:"I",Ȋ:"I",Ị:"I",Į:"I",Ḭ:"I",Ɨ:"I","Ⓙ":"J",Ｊ:"J",Ĵ:"J",Ɉ:"J","Ⓚ":"K",Ｋ:"K",Ḱ:"K",Ǩ:"K",Ḳ:"K",Ķ:"K",Ḵ:"K",Ƙ:"K",Ⱪ:"K",Ꝁ:"K",Ꝃ:"K",Ꝅ:"K","Ꞣ":"K","Ⓛ":"L",Ｌ:"L",Ŀ:"L",Ĺ:"L",Ľ:"L",Ḷ:"L",Ḹ:"L",Ļ:"L",Ḽ:"L",Ḻ:"L",Ł:"L",Ƚ:"L",Ɫ:"L",Ⱡ:"L",Ꝉ:"L",Ꝇ:"L",Ꞁ:"L",Ǉ:"LJ",ǈ:"Lj","Ⓜ":"M",Ｍ:"M",Ḿ:"M",Ṁ:"M",Ṃ:"M",Ɱ:"M",Ɯ:"M","Ⓝ":"N",Ｎ:"N",Ǹ:"N",Ń:"N",Ñ:"N",Ṅ:"N",Ň:"N",Ṇ:"N",Ņ:"N",Ṋ:"N",Ṉ:"N",Ƞ:"N",Ɲ:"N","Ꞑ":"N","Ꞥ":"N",Ǌ:"NJ",ǋ:"Nj","Ⓞ":"O",Ｏ:"O",Ò:"O",Ó:"O",Ô:"O",Ồ:"O",Ố:"O",Ỗ:"O",Ổ:"O",Õ:"O",Ṍ:"O",Ȭ:"O",Ṏ:"O",Ō:"O",Ṑ:"O",Ṓ:"O",Ŏ:"O",Ȯ:"O",Ȱ:"O",Ö:"O",Ȫ:"O",Ỏ:"O",Ő:"O",Ǒ:"O",Ȍ:"O",Ȏ:"O",Ơ:"O",Ờ:"O",Ớ:"O",Ỡ:"O",Ở:"O",Ợ:"O",Ọ:"O",Ộ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Ɔ:"O",Ɵ:"O",Ꝋ:"O",Ꝍ:"O",Ƣ:"OI",Ꝏ:"OO",Ȣ:"OU","Ⓟ":"P",Ｐ:"P",Ṕ:"P",Ṗ:"P",Ƥ:"P",Ᵽ:"P",Ꝑ:"P",Ꝓ:"P",Ꝕ:"P","Ⓠ":"Q",Ｑ:"Q",Ꝗ:"Q",Ꝙ:"Q",Ɋ:"Q","Ⓡ":"R",Ｒ:"R",Ŕ:"R",Ṙ:"R",Ř:"R",Ȑ:"R",Ȓ:"R",Ṛ:"R",Ṝ:"R",Ŗ:"R",Ṟ:"R",Ɍ:"R",Ɽ:"R",Ꝛ:"R","Ꞧ":"R",Ꞃ:"R","Ⓢ":"S",Ｓ:"S",ẞ:"S",Ś:"S",Ṥ:"S",Ŝ:"S",Ṡ:"S",Š:"S",Ṧ:"S",Ṣ:"S",Ṩ:"S",Ș:"S",Ş:"S","Ȿ":"S","Ꞩ":"S",Ꞅ:"S","Ⓣ":"T",Ｔ:"T",Ṫ:"T",Ť:"T",Ṭ:"T",Ț:"T",Ţ:"T",Ṱ:"T",Ṯ:"T",Ŧ:"T",Ƭ:"T",Ʈ:"T",Ⱦ:"T",Ꞇ:"T",Ꜩ:"TZ","Ⓤ":"U",Ｕ:"U",Ù:"U",Ú:"U",Û:"U",Ũ:"U",Ṹ:"U",Ū:"U",Ṻ:"U",Ŭ:"U",Ü:"U",Ǜ:"U",Ǘ:"U",Ǖ:"U",Ǚ:"U",Ủ:"U",Ů:"U",Ű:"U",Ǔ:"U",Ȕ:"U",Ȗ:"U",Ư:"U",Ừ:"U",Ứ:"U",Ữ:"U",Ử:"U",Ự:"U",Ụ:"U",Ṳ:"U",Ų:"U",Ṷ:"U",Ṵ:"U",Ʉ:"U","Ⓥ":"V",Ｖ:"V",Ṽ:"V",Ṿ:"V",Ʋ:"V",Ꝟ:"V",Ʌ:"V",Ꝡ:"VY","Ⓦ":"W",Ｗ:"W",Ẁ:"W",Ẃ:"W",Ŵ:"W",Ẇ:"W",Ẅ:"W",Ẉ:"W",Ⱳ:"W","Ⓧ":"X",Ｘ:"X",Ẋ:"X",Ẍ:"X","Ⓨ":"Y",Ｙ:"Y",Ỳ:"Y",Ý:"Y",Ŷ:"Y",Ỹ:"Y",Ȳ:"Y",Ẏ:"Y",Ÿ:"Y",Ỷ:"Y",Ỵ:"Y",Ƴ:"Y",Ɏ:"Y",Ỿ:"Y","Ⓩ":"Z",Ｚ:"Z",Ź:"Z",Ẑ:"Z",Ż:"Z",Ž:"Z",Ẓ:"Z",Ẕ:"Z",Ƶ:"Z",Ȥ:"Z","Ɀ":"Z",Ⱬ:"Z",Ꝣ:"Z","ⓐ":"a",ａ:"a",ẚ:"a",à:"a",á:"a",â:"a",ầ:"a",ấ:"a",ẫ:"a",ẩ:"a",ã:"a",ā:"a",ă:"a",ằ:"a",ắ:"a",ẵ:"a",ẳ:"a",ȧ:"a",ǡ:"a",ä:"a",ǟ:"a",ả:"a",å:"a",ǻ:"a",ǎ:"a",ȁ:"a",ȃ:"a",ạ:"a",ậ:"a",ặ:"a",ḁ:"a",ą:"a",ⱥ:"a",ɐ:"a",ꜳ:"aa",æ:"ae",ǽ:"ae",ǣ:"ae",ꜵ:"ao",ꜷ:"au",ꜹ:"av",ꜻ:"av",ꜽ:"ay","ⓑ":"b",ｂ:"b",ḃ:"b",ḅ:"b",ḇ:"b",ƀ:"b",ƃ:"b",ɓ:"b","ⓒ":"c",ｃ:"c",ć:"c",ĉ:"c",ċ:"c",č:"c",ç:"c",ḉ:"c",ƈ:"c",ȼ:"c",ꜿ:"c",ↄ:"c","ⓓ":"d",ｄ:"d",ḋ:"d",ď:"d",ḍ:"d",ḑ:"d",ḓ:"d",ḏ:"d",đ:"d",ƌ:"d",ɖ:"d",ɗ:"d",ꝺ:"d",ǳ:"dz",ǆ:"dz","ⓔ":"e",ｅ:"e",è:"e",é:"e",ê:"e",ề:"e",ế:"e",ễ:"e",ể:"e",ẽ:"e",ē:"e",ḕ:"e",ḗ:"e",ĕ:"e",ė:"e",ë:"e",ẻ:"e",ě:"e",ȅ:"e",ȇ:"e",ẹ:"e",ệ:"e",ȩ:"e",ḝ:"e",ę:"e",ḙ:"e",ḛ:"e",ɇ:"e",ɛ:"e",ǝ:"e","ⓕ":"f",ｆ:"f",ḟ:"f",ƒ:"f",ꝼ:"f","ⓖ":"g",ｇ:"g",ǵ:"g",ĝ:"g",ḡ:"g",ğ:"g",ġ:"g",ǧ:"g",ģ:"g",ǥ:"g",ɠ:"g","ꞡ":"g",ᵹ:"g",ꝿ:"g","ⓗ":"h",ｈ:"h",ĥ:"h",ḣ:"h",ḧ:"h",ȟ:"h",ḥ:"h",ḩ:"h",ḫ:"h",ẖ:"h",ħ:"h",ⱨ:"h",ⱶ:"h",ɥ:"h",ƕ:"hv","ⓘ":"i",ｉ:"i",ì:"i",í:"i",î:"i",ĩ:"i",ī:"i",ĭ:"i",ï:"i",ḯ:"i",ỉ:"i",ǐ:"i",ȉ:"i",ȋ:"i",ị:"i",į:"i",ḭ:"i",ɨ:"i",ı:"i","ⓙ":"j",ｊ:"j",ĵ:"j",ǰ:"j",ɉ:"j","ⓚ":"k",ｋ:"k",ḱ:"k",ǩ:"k",ḳ:"k",ķ:"k",ḵ:"k",ƙ:"k",ⱪ:"k",ꝁ:"k",ꝃ:"k",ꝅ:"k","ꞣ":"k","ⓛ":"l",ｌ:"l",ŀ:"l",ĺ:"l",ľ:"l",ḷ:"l",ḹ:"l",ļ:"l",ḽ:"l",ḻ:"l",ſ:"l",ł:"l",ƚ:"l",ɫ:"l",ⱡ:"l",ꝉ:"l",ꞁ:"l",ꝇ:"l",ǉ:"lj","ⓜ":"m",ｍ:"m",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m",ɯ:"m","ⓝ":"n",ｎ:"n",ǹ:"n",ń:"n",ñ:"n",ṅ:"n",ň:"n",ṇ:"n",ņ:"n",ṋ:"n",ṉ:"n",ƞ:"n",ɲ:"n",ŉ:"n","ꞑ":"n","ꞥ":"n",ǌ:"nj","ⓞ":"o",ｏ:"o",ò:"o",ó:"o",ô:"o",ồ:"o",ố:"o",ỗ:"o",ổ:"o",õ:"o",ṍ:"o",ȭ:"o",ṏ:"o",ō:"o",ṑ:"o",ṓ:"o",ŏ:"o",ȯ:"o",ȱ:"o",ö:"o",ȫ:"o",ỏ:"o",ő:"o",ǒ:"o",ȍ:"o",ȏ:"o",ơ:"o",ờ:"o",ớ:"o",ỡ:"o",ở:"o",ợ:"o",ọ:"o",ộ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",ɔ:"o",ꝋ:"o",ꝍ:"o",ɵ:"o",ƣ:"oi",ȣ:"ou",ꝏ:"oo","ⓟ":"p",ｐ:"p",ṕ:"p",ṗ:"p",ƥ:"p",ᵽ:"p",ꝑ:"p",ꝓ:"p",ꝕ:"p","ⓠ":"q",ｑ:"q",ɋ:"q",ꝗ:"q",ꝙ:"q","ⓡ":"r",ｒ:"r",ŕ:"r",ṙ:"r",ř:"r",ȑ:"r",ȓ:"r",ṛ:"r",ṝ:"r",ŗ:"r",ṟ:"r",ɍ:"r",ɽ:"r",ꝛ:"r","ꞧ":"r",ꞃ:"r","ⓢ":"s",ｓ:"s",ß:"s",ś:"s",ṥ:"s",ŝ:"s",ṡ:"s",š:"s",ṧ:"s",ṣ:"s",ṩ:"s",ș:"s",ş:"s",ȿ:"s","ꞩ":"s",ꞅ:"s",ẛ:"s","ⓣ":"t",ｔ:"t",ṫ:"t",ẗ:"t",ť:"t",ṭ:"t",ț:"t",ţ:"t",ṱ:"t",ṯ:"t",ŧ:"t",ƭ:"t",ʈ:"t",ⱦ:"t",ꞇ:"t",ꜩ:"tz","ⓤ":"u",ｕ:"u",ù:"u",ú:"u",û:"u",ũ:"u",ṹ:"u",ū:"u",ṻ:"u",ŭ:"u",ü:"u",ǜ:"u",ǘ:"u",ǖ:"u",ǚ:"u",ủ:"u",ů:"u",ű:"u",ǔ:"u",ȕ:"u",ȗ:"u",ư:"u",ừ:"u",ứ:"u",ữ:"u",ử:"u",ự:"u",ụ:"u",ṳ:"u",ų:"u",ṷ:"u",ṵ:"u",ʉ:"u","ⓥ":"v",ｖ:"v",ṽ:"v",ṿ:"v",ʋ:"v",ꝟ:"v",ʌ:"v",ꝡ:"vy","ⓦ":"w",ｗ:"w",ẁ:"w",ẃ:"w",ŵ:"w",ẇ:"w",ẅ:"w",ẘ:"w",ẉ:"w",ⱳ:"w","ⓧ":"x",ｘ:"x",ẋ:"x",ẍ:"x","ⓨ":"y",ｙ:"y",ỳ:"y",ý:"y",ŷ:"y",ỹ:"y",ȳ:"y",ẏ:"y",ÿ:"y",ỷ:"y",ẙ:"y",ỵ:"y",ƴ:"y",ɏ:"y",ỿ:"y","ⓩ":"z",ｚ:"z",ź:"z",ẑ:"z",ż:"z",ž:"z",ẓ:"z",ẕ:"z",ƶ:"z",ȥ:"z",ɀ:"z",ⱬ:"z",ꝣ:"z"};N=t(document),R=function(){var t=1;return function(){return t++}}(),N.on("mousemove",function(t){P.x=t.pageX,P.y=t.pageY}),O=E(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(n){var r,i,s=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==e&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+R()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=d(function(){return n.element.closest("body")}),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(M(n.containerCss)),this.container.addClass(M(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",g),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(M(n.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",g),this.results=r=this.container.find(s),this.search=i=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",g),c(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",s,this.bind(this.highlightUnderEvent)),h(80,this.results),this.dropdown.on("scroll-debounced",s,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&r.mousewheel(function(t,e,n,a){var i=r.scrollTop();a>0&&0>=i-a?(r.scrollTop(0),g(t)):0>a&&r.get(0).scrollHeight-r.scrollTop()+a<=r.height()&&(r.scrollTop(r.get(0).scrollHeight-r.height()),g(t))}),l(i),i.on("keyup-change input paste",this.bind(this.updateResults)),i.on("focus",function(){i.addClass("select2-focused")}),i.on("blur",function(){i.removeClass("select2-focused")}),this.dropdown.on("mouseup",s,this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown",function(t){t.stopPropagation()}),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var o=n.element.prop("disabled");o===e&&(o=!1),this.enable(!o);var u=n.element.prop("readonly");u===e&&(u=!1),this.readonly(u),_=_||a(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=e},destroy:function(){var t=this.opts.element,n=t.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),n!==e&&(n.container.remove(),n.dropdown.remove(),t.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:i(t.attr("locked"),"locked")||i(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(n){var r,a,o,l,c=this;if(r=n.element,"select"===r.get(0).tagName.toLowerCase()&&(this.select=a=n.element),a&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=t.extend({},{populateResults:function(r,a,i){var s,o=this.opts.id;s=function(r,a,l){var u,d,h,f,p,g,v,m,y,b;for(r=n.sortResults(r,a,i),u=0,d=r.length;d>u;u+=1)h=r[u],p=h.disabled===!0,f=!p&&o(h)!==e,g=h.children&&h.children.length>0,v=t("<li></li>"),v.addClass("select2-results-dept-"+l),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),p&&v.addClass("select2-disabled"),g&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(h)),m=t(document.createElement("div")),m.addClass("select2-result-label"),b=n.formatResult(h,m,i,c.opts.escapeMarkup),b!==e&&m.html(b),v.append(m),g&&(y=t("<ul></ul>"),y.addClass("select2-result-sub"),s(h.children,y,l+1),v.append(y)),v.data("select2-data",h),a.append(v)},s(a,r,0)}},t.fn.select2.defaults,n),"function"!=typeof n.id&&(o=n.id,n.id=function(t){return t[o]}),t.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(a?(n.query=this.bind(function(t){var n,a,i,s={results:[],more:!1},o=t.term;i=function(e,n){var r;e.is("option")?t.matcher(o,e.text(),e)&&n.push(c.optionToData(e)):e.is("optgroup")&&(r=c.optionToData(e),e.children().each2(function(t,e){i(e,r.children)}),r.children.length>0&&n.push(r))},n=r.children(),this.getPlaceholder()!==e&&n.length>0&&(a=this.getPlaceholderOption(),a&&(n=n.not(a))),n.each2(function(t,e){i(e,s.results)}),t.callback(s)}),n.id=function(t){return t.id},n.formatResultCssClass=function(t){return t.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=D.call(n.element,n.ajax)):"data"in n?n.query=C(n.data):"tags"in n&&(n.query=S(n.tags),n.createSearchChoice===e&&(n.createSearchChoice=function(e){return{id:t.trim(e),text:t.trim(e)}}),n.initSelection===e&&(n.initSelection=function(e,r){var a=[];t(s(e.val(),n.separator)).each(function(){var e={id:this,text:this},r=n.tags;t.isFunction(r)&&(r=r()),t(r).each(function(){return i(this.id,e.id)?(e=this,!1):void 0}),a.push(e)}),r(a)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var t,n,r=this.opts.element;r.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),t=this.bind(function(){var t=r.prop("disabled");t===e&&(t=!1),this.enable(!t);var n=r.prop("readonly");n===e&&(n=!1),this.readonly(n),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(M(this.opts.containerCssClass)),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(M(this.opts.dropdownCssClass))}),r.on("propertychange.select2",t),this.mutationCallback===e&&(this.mutationCallback=function(e){e.forEach(t)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(this.mutationCallback),this.propertyObserver.observe(r.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var n=t.Event("select2-selecting",{val:this.id(e),object:e});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){return t===e&&(t=!1),this._readonly===t?!1:(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,n,r,a,i,s=this.dropdown,o=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=s.outerHeight(!1),d=t(window),h=d.width(),f=d.height(),p=d.scrollLeft()+h,g=d.scrollTop()+f,v=o.top+l,m=o.left,y=g>=v+u,b=o.top-u>=this.body().scrollTop(),w=s.outerWidth(!1),D=p>=m+w,C=s.hasClass("select2-drop-above");C?(n=!0,!b&&y&&(r=!0,n=!1)):(n=!1,!y&&b&&(r=!0,n=!0)),r&&(s.hide(),o=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=s.outerHeight(!1),p=d.scrollLeft()+h,g=d.scrollTop()+f,v=o.top+l,m=o.left,w=s.outerWidth(!1),D=p>=m+w,s.show()),this.opts.dropdownAutoWidth?(i=t(".select2-results",s)[0],s.addClass("select2-drop-auto-width"),s.css("width",""),w=s.outerWidth(!1)+(i.scrollHeight===i.clientHeight?0:_.width),w>c?c=w:w=c,D=p>=m+w):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(e=this.body().offset(),v-=e.top,m-=e.left),D||(m=o.left+c-w),a={left:m,width:c},n?(a.bottom=f-o.top,a.top="auto",this.container.addClass("select2-drop-above"),s.addClass("select2-drop-above")):(a.top=v,a.bottom="auto",this.container.removeClass("select2-drop-above"),s.removeClass("select2-drop-above")),a=t.extend(a,M(this.opts.dropdownCss)),s.css(a)},shouldOpen:function(){var e;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var e,n=this.containerId,r="scroll."+n,a="resize."+n,i="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),e=t("#select2-drop-mask"),0==e.length&&(e=t(document.createElement("div")),e.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),e.hide(),e.appendTo(this.body()),e.on("mousedown touchstart click",function(e){var n,r=t("#select2-drop");r.length>0&&(n=r.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close({focus:!0}),e.preventDefault(),e.stopPropagation())})),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var s=this;this.container.parents().add(window).each(function(){t(this).on(a+" "+r+" "+i,function(){s.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerId,n="scroll."+e,r="resize."+e,a="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(n).off(r).off(a)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return M(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var e,n,r,a,i,s,o,l=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return l.scrollTop(0),void 0;e=this.findHighlightableChoices().find(".select2-result-label"),r=t(e[n]),a=r.offset().top+r.outerHeight(!0),n===e.length-1&&(o=l.find("li.select2-more-results"),o.length>0&&(a=o.offset().top+o.outerHeight(!0))),i=l.offset().top+l.outerHeight(!0),a>i&&l.scrollTop(l.scrollTop()+(a-i)),s=r.offset().top-l.offset().top,0>s&&"none"!=r.css("display")&&l.scrollTop(l.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(e){for(var n=this.findHighlightableChoices(),r=this.highlight();r>-1&&r<n.length;){r+=e;var a=t(n[r]);if(a.hasClass("select2-result-selectable")&&!a.hasClass("select2-disabled")&&!a.hasClass("select2-selected")){this.highlight(r);break}}},highlight:function(e){var n,a,i=this.findHighlightableChoices();return 0===arguments.length?r(i.filter(".select2-highlighted")[0],i.get()):(e>=i.length&&(e=i.length-1),0>e&&(e=0),this.removeHighlight(),n=t(i[e]),n.addClass("select2-highlighted"),this.ensureHighlightVisible(),a=n.data("select2-data"),a&&this.opts.element.trigger({type:"select2-highlight",val:this.id(a),choice:a}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var n=t(e.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.findHighlightableChoices();this.highlight(r.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t,e=this.results,n=e.find("li.select2-more-results"),r=this.resultsPage+1,a=this,i=this.search.val(),s=this.context;0!==n.length&&(t=n.offset().top-e.offset().top-e.height(),t<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:i,page:r,context:s,matcher:this.opts.matcher,callback:this.bind(function(t){a.opened()&&(a.opts.populateResults.call(this,e,t.results,{term:i,page:r,context:s}),a.postprocessResults(t,!1,!1),t.more===!0?(n.detach().appendTo(e).text(a.opts.formatLoadMore(r+1)),window.setTimeout(function(){a.loadMoreIfNeeded()},10)):n.remove(),a.positionDropdown(),a.resultsPage=r,a.context=t.context,this.opts.element.trigger({type:"select2-loaded",items:t}))})})))},tokenize:function(){},updateResults:function(n){function r(){c.removeClass("select2-active"),h.positionDropdown()}function a(t){u.html(t),r()}var s,o,l,c=this.search,u=this.results,d=this.opts,h=this,f=c.val(),p=t.data(this.container,"select2-last-term");if((n===!0||!p||!i(f,p))&&(t.data(this.container,"select2-last-term",f),n===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var g=this.getMaximumSelectionSize();if(g>=1&&(s=this.data(),t.isArray(s)&&s.length>=g&&x(d.formatSelectionTooBig,"formatSelectionTooBig")))return a("<li class='select2-selection-limit'>"+d.formatSelectionTooBig(g)+"</li>"),void 0;if(c.val().length<d.minimumInputLength)return x(d.formatInputTooShort,"formatInputTooShort")?a("<li class='select2-no-results'>"+d.formatInputTooShort(c.val(),d.minimumInputLength)+"</li>"):a(""),n&&this.showSearch&&this.showSearch(!0),void 0;if(d.maximumInputLength&&c.val().length>d.maximumInputLength)return x(d.formatInputTooLong,"formatInputTooLong")?a("<li class='select2-no-results'>"+d.formatInputTooLong(c.val(),d.maximumInputLength)+"</li>"):a(""),void 0;d.formatSearching&&0===this.findHighlightableChoices().length&&a("<li class='select2-searching'>"+d.formatSearching()+"</li>"),c.addClass("select2-active"),this.removeHighlight(),o=this.tokenize(),o!=e&&null!=o&&c.val(o),this.resultsPage=1,d.query({element:d.element,term:c.val(),page:this.resultsPage,context:null,matcher:d.matcher,callback:this.bind(function(s){var o;if(l==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(this.context=s.context===e?null:s.context,this.opts.createSearchChoice&&""!==c.val()&&(o=this.opts.createSearchChoice.call(h,c.val(),s.results),o!==e&&null!==o&&h.id(o)!==e&&null!==h.id(o)&&0===t(s.results).filter(function(){return i(h.id(this),h.id(o))}).length&&s.results.unshift(o)),0===s.results.length&&x(d.formatNoMatches,"formatNoMatches"))return a("<li class='select2-no-results'>"+d.formatNoMatches(c.val())+"</li>"),void 0;u.empty(),h.opts.populateResults.call(this,u,s.results,{term:c.val(),page:this.resultsPage,context:null}),s.more===!0&&x(d.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(d.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(s,n),r(),this.opts.element.trigger({type:"select2-loaded",items:s})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(t){var e=this.highlight(),n=this.results.find(".select2-highlighted"),r=n.closest(".select2-result").data("select2-data");r?(this.highlight(e),this.onSelect(r,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var t=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&t||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.text()&&""===t.val())return t}},initContainerWidth:function(){function n(){var n,r,a,i,s,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==e)for(r=n.split(";"),i=0,s=r.length;s>i;i+=1)if(o=r[i].replace(/\s/g,""),a=o.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==a&&a.length>=1)return a[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var r=n.call(this);null!==r&&this.container.css("width",r)}}),A=E(O,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,r,a;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),n=this.search.get(0),n.createTextRange?(r=n.createTextRange(),r.collapse(!1),r.select()):n.setSelectionRange&&(a=this.search.val().length,n.setSelectionRange(a,a)),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(t){this.opened()&&(this.parent.close.apply(this,arguments),t=t||{focus:!0},this.focusser.removeAttr("disabled"),t.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){t("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var e,n=this.container,r=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+R()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){if(t.which===k.PAGE_UP||t.which===k.PAGE_DOWN)return g(t),void 0;
switch(t.which){case k.UP:case k.DOWN:return this.moveHighlight(t.which===k.UP?-1:1),g(t),void 0;case k.ENTER:return this.selectHighlighted(),g(t),void 0;case k.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case k.ESC:return this.cancel(t),g(t),void 0}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==k.TAB&&!k.isControl(t)&&!k.isFunctionKey(t)&&t.which!==k.ESC){if(this.opts.openOnEnter===!1&&t.which===k.ENTER)return g(t),void 0;if(t.which==k.DOWN||t.which==k.UP||t.which==k.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),g(t),void 0}return t.which==k.DELETE||t.which==k.BACKSPACE?(this.opts.allowClear&&this.clear(),g(t),void 0):void 0}})),l(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),v(t),this.close(),this.selection.focus())})),e.on("mousedown",this.bind(function(e){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),g(e)})),r.on("mousedown",this.bind(function(){this.search.focus()})),e.on("focus",this.bind(function(t){g(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var n=this.selection.data("select2-data");if(n){var r=t.Event("select2-clearing");if(this.opts.element.trigger(r),r.isDefaultPrevented())return;var a=this.getPlaceholderOption();this.opts.element.val(a?a.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()?(t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val():!1},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var r=t.find("option").filter(function(){return this.selected});e(n.optionToData(r))}:"data"in e&&(e.initSelection=e.initSelection||function(n,r){var a=n.val(),s=null;e.query({matcher:function(t,n,r){var o=i(a,e.id(r));return o&&(s=r),o},callback:t.isFunction(r)?function(){r(s)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,n){var r=0,a=this;if(this.findHighlightableChoices().each2(function(t,e){return i(a.id(e.data("select2-data")),a.opts.element.val())?(r=t,!1):void 0}),n!==!1&&(e===!0&&r>=0?this.highlight(r):this.highlight(0)),e===!0){var s=this.opts.minimumResultsForSearch;s>=0&&this.showSearch(F(t.results)>=s)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var n=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.close(),e&&e.noFocus||this.focusser.focus(),i(n,this.id(t))||this.triggerChange({added:t,removed:r})}},updateSelection:function(t){var n,r,a=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),a.empty(),null!==t&&(n=this.opts.formatSelection(t,a,this.opts.escapeMarkup)),n!==e&&a.append(n),r=this.opts.formatSelectionCssClass(t,a),r!==e&&a.addClass(r),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,n=!1,r=null,a=this,i=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(t,e){return r=a.optionToData(e),!1}),this.updateSelection(r),this.setPlaceholder(),n&&this.triggerChange({added:r,removed:i});else{if(!t&&0!==t)return this.clear(n),void 0;if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){a.opts.element.val(t?a.id(t):""),a.updateSelection(t),a.setPlaceholder(),n&&a.triggerChange({added:t,removed:i})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var n,r=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==e&&(n=null),n):(arguments.length>1&&(r=arguments[1]),t?(n=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),r&&this.triggerChange({added:t,removed:n})):this.clear(r),void 0)}}),H=E(O,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var r=[];t.find("option").filter(function(){return this.selected}).each2(function(t,e){r.push(n.optionToData(e))}),e(r)}:"data"in e&&(e.initSelection=e.initSelection||function(n,r){var a=s(n.val(),e.separator),o=[];e.query({matcher:function(n,r,s){var l=t.grep(a,function(t){return i(t,e.id(s))}).length;return l&&o.push(s),l},callback:t.isFunction(r)?function(){for(var t=[],n=0;n<a.length;n++)for(var s=a[n],l=0;l<o.length;l++){var c=o[l];if(i(s,e.id(c))){t.push(c),o.splice(l,1);break}}r(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var e,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(n);var r=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){r.search[0].focus(),r.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+R()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var n=e.find(".select2-search-choice-focus"),r=n.prev(".select2-search-choice:not(.select2-locked)"),a=n.next(".select2-search-choice:not(.select2-locked)"),i=p(this.search);if(n.length&&(t.which==k.LEFT||t.which==k.RIGHT||t.which==k.BACKSPACE||t.which==k.DELETE||t.which==k.ENTER)){var s=n;return t.which==k.LEFT&&r.length?s=r:t.which==k.RIGHT?s=a.length?a:null:t.which===k.BACKSPACE?(this.unselect(n.first()),this.search.width(10),s=r.length?r:a):t.which==k.DELETE?(this.unselect(n.first()),this.search.width(10),s=a.length?a:null):t.which==k.ENTER&&(s=null),this.selectChoice(s),g(t),s&&s.length||this.open(),void 0}if((t.which===k.BACKSPACE&&1==this.keydowns||t.which==k.LEFT)&&0==i.offset&&!i.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),g(t),void 0;if(this.selectChoice(null),this.opened())switch(t.which){case k.UP:case k.DOWN:return this.moveHighlight(t.which===k.UP?-1:1),g(t),void 0;case k.ENTER:return this.selectHighlighted(),g(t),void 0;case k.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case k.ESC:return this.cancel(t),g(t),void 0}if(t.which!==k.TAB&&!k.isControl(t)&&!k.isFunctionKey(t)&&t.which!==k.BACKSPACE&&t.which!==k.ESC){if(t.which===k.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===k.PAGE_UP||t.which===k.PAGE_DOWN)&&g(t),t.which===k.ENTER&&g(t)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),n=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var n=[],a=[],i=this;t(e).each(function(){r(i.id(this),n)<0&&(n.push(i.id(this)),a.push(this))}),e=a,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){i.addSelectedChoice(this)}),i.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.triggerSelect(t)&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(t,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var r,a,i=!n.locked,s=t("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),o=t("<li class='select2-search-choice select2-locked'><div></div></li>"),l=i?s:o,c=this.id(n),u=this.getVal();r=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup),r!=e&&l.find("div").replaceWith("<div>"+r+"</div>"),a=this.opts.formatSelectionCssClass(n,l.find("div")),a!=e&&l.addClass(a),i&&l.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),g(e))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(e){var n,a,i=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(n=e.data("select2-data")){for(;(a=r(this.id(n),i))>=0;)i.splice(a,1),this.setVal(i),this.select&&this.postprocessResults();var s=t.Event("select2-removing");s.val=this.id(n),s.choice=n,this.opts.element.trigger(s),s.isDefaultPrevented()||(e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},postprocessResults:function(t,e,n){var a=this.getVal(),i=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),o=this;i.each2(function(t,e){var n=o.id(e.data("select2-data"));r(n,a)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&o.highlight(0),!this.opts.createSearchChoice&&!i.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&x(o.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+o.opts.formatNoMatches(o.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-o(this.search)},resizeSearch:function(){var t,e,n,r,a,i=o(this.search);t=m(this.search)+10,e=this.search.offset().left,n=this.selection.width(),r=this.selection.offset().left,a=n-(e-r)-i,t>a&&(a=n-i),40>a&&(a=n-i),0>=a&&(a=t),this.search.width(Math.floor(a))},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),s(t,this.opts.separator))},setVal:function(e){var n;this.select?this.select.val(e):(n=[],t(e).each(function(){r(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),n=0;n<e.length;n++)for(var r=0;r<t.length;r++)i(this.opts.id(e[n]),this.opts.id(t[r]))&&(e.splice(n,1),n>0&&n--,t.splice(r,1),r--);return{added:e,removed:t}},val:function(n,r){var a,i=this;if(0===arguments.length)return this.getVal();if(a=this.data(),a.length||(a=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),r&&this.triggerChange({added:this.data(),removed:a}),void 0;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),r&&this.triggerChange(this.buildChangeDetails(a,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var n=t.map(e,i.id);i.setVal(n),i.updateSelection(e),i.clearSearch(),r&&i.triggerChange(i.buildChangeDetails(a,i.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(n.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,n){var r,a,i=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(a=this.data(),e||(e=[]),r=t.map(e,function(t){return i.opts.id(t)}),this.setVal(r),this.updateSelection(e),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(a,this.data())),void 0)}}),t.fn.select2=function(){var n,a,i,s,o,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],d=["val","data"],h={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])n=0===l.length?{}:t.extend({},l[0]),n.element=t(this),"select"===n.element.get(0).tagName.toLowerCase()?o=n.element.prop("multiple"):(o=n.multiple||!1,"tags"in n&&(n.multiple=o=!0)),a=o?new H:new A,a.init(n);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(r(l[0],c)<0)throw"Unknown method: "+l[0];if(s=e,a=t(this).data("select2"),a===e)return;if(i=l[0],"container"===i?s=a.container:"dropdown"===i?s=a.dropdown:(h[i]&&(i=h[i]),s=a[i].apply(a,l.slice(1))),r(l[0],u)>=0||r(l[0],d)&&1==l.length)return!1}}),s===e?this:s},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,n,r){var a=[];return b(t.text,n.term,a,r),a.join("")},formatSelection:function(t,n,r){return t?r(t.text):e},sortResults:function(t){return t},formatResultCssClass:function(){return e},formatSelectionCssClass:function(){return e},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var n=e-t.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(t,e){var n=t.length-e;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return n(""+e).toUpperCase().indexOf(n(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:T,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return e}},t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:D,local:C,tags:S},util:{debounce:u,markMatch:b,escapeMarkup:w,stripDiacritics:n},"class":{"abstract":O,single:A,multi:H}}}}(jQuery),function(){}.call(this),function(){}.call(this);