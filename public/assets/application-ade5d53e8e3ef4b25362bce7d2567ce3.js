!function(){for(var e,t=document.location.search.slice(1).split("&"),n=t.length,a=document.getElementsByTagName("script"),r=a[a.length-1].src,i=0,s="1.9.0",o="http://code.jquery.com/jquery-git.js";n>i;i++)if(e=t[i].split("="),"jquery"===e[0]){s=e[1];break}"git"!=s&&(o=r.replace(/jquery\.js$/,"jquery-"+s+".js")),document.write("<script src='"+o+"'></script>")}(),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,a=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,a){var r=e.Event(n);return t.trigger(r,a),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(a){var r,i,s,o,l,c,u,d;if(n.fire(a,"ajax:before")){if(o=a.data("cross-domain"),l=o===t?null:o,c=a.data("with-credentials")||null,u=a.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,a.is("form")){r=a.attr("method"),i=a.attr("action"),s=a.serializeArray();var h=a.data("ujs:submit-button");h&&(s.push(h),a.data("ujs:submit-button",null))}else a.is(n.inputChangeSelector)?(r=a.data("method"),i=a.data("url"),s=a.serialize(),a.data("params")&&(s=s+"&"+a.data("params"))):a.is(n.buttonClickSelector)?(r=a.data("method")||"get",i=a.data("url"),s=a.serialize(),a.data("params")&&(s=s+"&"+a.data("params"))):(r=a.data("method"),i=n.href(a),s=a.data("params")||null);d={type:r||"GET",data:s,dataType:u,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(a,"ajax:beforeSend",[e,r])},success:function(e,t,n){a.trigger("ajax:success",[e,t,n])},complete:function(e,t){a.trigger("ajax:complete",[e,t])},error:function(e,t,n){a.trigger("ajax:error",[e,t,n])},crossDomain:l},c&&(d.xhrFields={withCredentials:c}),i&&(d.url=i);var f=n.ajax(d);return a.trigger("ajax:send",f),f}return!1},handleMethod:function(a){var r=n.href(a),i=a.data("method"),s=a.attr("target"),o=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+i+'" type="hidden" />';l!==t&&o!==t&&(u+='<input name="'+l+'" value="'+o+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,a=e.data("confirm"),r=!1;return a?(n.fire(e,"confirm")&&(r=n.confirm(a),t=n.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,n,a){var r,i,s=e(),o=n||"input,textarea",l=t.find(o);return l.each(function(){if(r=e(this),i=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!i==!a){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),s.length?s:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(a,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,a){e.crossDomain||n.CSRFProtection(a)}),a.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),a.delegate(n.linkClickSelector,"click.rails",function(a){var r=e(this),i=r.data("method"),s=r.data("params");if(!n.allowAction(r))return n.stopEverything(a);if(r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==t){if(!(!a.metaKey&&!a.ctrlKey||i&&"GET"!==i||s))return!0;var o=n.handleRemote(r);return o===!1?n.enableElement(r):o.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),a.delegate(n.buttonClickSelector,"click.rails",function(t){var a=e(this);return n.allowAction(a)?(n.handleRemote(a),!1):n.stopEverything(t)}),a.delegate(n.inputChangeSelector,"change.rails",function(t){var a=e(this);return n.allowAction(a)?(n.handleRemote(a),!1):n.stopEverything(t)}),a.delegate(n.formSubmitSelector,"submit.rails",function(a){var r=e(this),i=r.data("remote")!==t,s=n.blankInputs(r,n.requiredInputSelector),o=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(a);if(s&&r.attr("novalidate")==t&&n.fire(r,"ajax:aborted:required",[s]))return n.stopEverything(a);if(i){if(o){setTimeout(function(){n.disableFormElements(r)},13);var l=n.fire(r,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),a.delegate(n.formInputClickSelector,"click.rails",function(t){var a=e(this);if(!n.allowAction(a))return n.stopEverything(t);var r=a.attr("name"),i=r?{name:r,value:a.val()}:null;a.closest("form").data("ujs:submit-button",i)}),a.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),a.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)}))}(jQuery),function(){}.call(this),function(e,t){function n(t){e.extend(!0,Ct,t)}function a(n,a,c){function u(e){rt?v()&&(M(),S(e)):d()}function d(){it=a.theme?"ui":"fc",n.addClass("fc"),a.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),a.theme&&n.addClass("ui-widget"),rt=e("<div class='fc-content' style='position:relative'/>").prependTo(n),nt=new r(tt,a),at=nt.render(),at&&n.prepend(at),y(a.defaultView),a.handleWindowResize&&e(window).resize(T),m()||f()}function f(){setTimeout(function(){!st.start&&m()&&C()},0)}function p(){st&&(et("viewDestroy",st,st,st.element),st.triggerEventDestroy()),e(window).unbind("resize",T),nt.destroy(),rt.remove(),n.removeClass("fc fc-rtl ui-widget")}function v(){return n.is(":visible")}function m(){return e("body").is(":visible")}function y(e){st&&e==st.name||D(e)}function D(t){pt++,st&&(et("viewDestroy",st,st,st.element),j(),st.triggerEventDestroy(),K(),st.element.remove(),nt.deactivateButton(st.name)),nt.activateButton(t),st=new Mt[t](e("<div class='fc-view fc-view-"+t+"' style='position:relative'/>").appendTo(rt),tt),C(),Z(),pt--}function C(e){(!st.start||e||gt<st.start||gt>=st.end)&&v()&&S(e)}function S(e){pt++,st.start&&(et("viewDestroy",st,st,st.element),j(),A()),K(),st.render(gt,e||0),F(),Z(),(st.afterRender||N)(),_(),Y(),et("viewRender",st,st,st.element),st.trigger("viewDisplay",ht),pt--,R()}function x(){v()&&(j(),A(),M(),F(),O())}function M(){lt=a.contentHeight?a.contentHeight:a.height?a.height-(at?at.height():0)-H(rt):Math.round(rt.width()/Math.max(a.aspectRatio,.5))}function F(){lt===t&&M(),pt++,st.setHeight(lt),st.setWidth(rt.width()),pt--,ot=n.outerWidth()}function T(){if(!pt)if(st.start){var e=++ft;setTimeout(function(){e==ft&&!pt&&v()&&ot!=(ot=n.outerWidth())&&(pt++,x(),st.trigger("windowResize",ht),pt--)},200)}else f()}function E(){A(),I()}function k(e){A(),O(e)}function O(e){v()&&(st.setEventData(vt),st.renderEvents(vt,e),st.trigger("eventAfterAllRender"))}function A(){st.triggerEventDestroy(),st.clearEvents(),st.clearEventData()}function R(){!a.lazyFetching||ut(st.visStart,st.visEnd)?I():O()}function I(){dt(st.visStart,st.visEnd)}function P(e){vt=e,O()}function z(e){k(e)}function _(){nt.updateTitle(st.title)}function Y(){var e=new Date;e>=st.start&&e<st.end?nt.disableButton("today"):nt.enableButton("today")}function L(e,n,a){st.select(e,n,a===t?!0:a)}function j(){st&&st.unselect()}function W(){C(-1)}function q(){C(1)}function B(){s(gt,-1),C()}function U(){s(gt,1),C()}function V(){gt=new Date,C()}function J(e,t,n){e instanceof Date?gt=h(e):g(gt,e,t,n),C()}function $(e,n,a){e!==t&&s(gt,e),n!==t&&o(gt,n),a!==t&&l(gt,a),C()}function G(){return h(gt)}function K(){rt.css({width:"100%",height:rt.height(),overflow:"hidden"})}function Z(){rt.css({width:"",height:"",overflow:""})}function X(){return st}function Q(e,n){return n===t?a[e]:(("height"==e||"contentHeight"==e||"aspectRatio"==e)&&(a[e]=n,x()),void 0)}function et(e,t){return a[e]?a[e].apply(t||ht,Array.prototype.slice.call(arguments,2)):void 0}var tt=this;tt.options=a,tt.render=u,tt.destroy=p,tt.refetchEvents=E,tt.reportEvents=P,tt.reportEventChange=z,tt.rerenderEvents=k,tt.changeView=y,tt.select=L,tt.unselect=j,tt.prev=W,tt.next=q,tt.prevYear=B,tt.nextYear=U,tt.today=V,tt.gotoDate=J,tt.incrementDate=$,tt.formatDate=function(e,t){return b(e,t,a)},tt.formatDates=function(e,t,n){return w(e,t,n,a)},tt.getDate=G,tt.getView=X,tt.option=Q,tt.trigger=et,i.call(tt,a,c);var nt,at,rt,it,st,ot,lt,ct,ut=tt.isFetchNeeded,dt=tt.fetchEvents,ht=n[0],ft=0,pt=0,gt=new Date,vt=[];g(gt,a.year,a.month,a.date),a.droppable&&e(document).bind("dragstart",function(t,n){var r=t.target,i=e(r);if(!i.parents(".fc").length){var s=a.dropAccept;(e.isFunction(s)?s.call(r,i):i.is(s))&&(ct=r,st.dragStart(ct,t,n))}}).bind("dragstop",function(e,t){ct&&(st.dragStop(ct,e,t),ct=null)})}function r(t,n){function a(){h=n.theme?"ui":"fc";var t=n.header;return t?f=e("<table class='fc-header' style='width:100%'/>").append(e("<tr/>").append(i("left")).append(i("center")).append(i("right"))):void 0}function r(){f.remove()}function i(a){var r=e("<td class='fc-header-"+a+"'/>"),i=n.header[a];return i&&e.each(i.split(" "),function(a){a>0&&r.append("<span class='fc-header-space'/>");var i;e.each(this.split(","),function(a,s){if("title"==s)r.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),i&&i.addClass(h+"-corner-right"),i=null;else{var o;if(t[s]?o=t[s]:Mt[s]&&(o=function(){u.removeClass(h+"-state-hover"),t.changeView(s)}),o){var l=n.theme?Y(n.buttonIcons,s):null,c=Y(n.buttonText,s),u=e("<span class='fc-button fc-button-"+s+" "+h+"-state-default'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/></span>":c)+"</span>").click(function(){u.hasClass(h+"-state-disabled")||o()}).mousedown(function(){u.not("."+h+"-state-active").not("."+h+"-state-disabled").addClass(h+"-state-down")}).mouseup(function(){u.removeClass(h+"-state-down")}).hover(function(){u.not("."+h+"-state-active").not("."+h+"-state-disabled").addClass(h+"-state-hover")},function(){u.removeClass(h+"-state-hover").removeClass(h+"-state-down")}).appendTo(r);j(u),i||u.addClass(h+"-corner-left"),i=u}}}),i&&i.addClass(h+"-corner-right")}),r}function s(e){f.find("h2").html(e)}function o(e){f.find("span.fc-button-"+e).addClass(h+"-state-active")}function l(e){f.find("span.fc-button-"+e).removeClass(h+"-state-active")}function c(e){f.find("span.fc-button-"+e).addClass(h+"-state-disabled")}function u(e){f.find("span.fc-button-"+e).removeClass(h+"-state-disabled")}var d=this;d.render=a,d.destroy=r,d.updateTitle=s,d.activateButton=o,d.deactivateButton=l,d.disableButton=c,d.enableButton=u;var h,f=e([])}function i(n,a){function r(e,t){return!x||x>e||t>M}function i(e,t){x=e,M=t,I=[];var n=++H,a=O.length;A=a;for(var r=0;a>r;r++)s(O[r],n)}function s(t,a){o(t,function(r){if(a==H){if(r){n.eventDataTransform&&(r=e.map(r,n.eventDataTransform)),t.eventDataTransform&&(r=e.map(r,t.eventDataTransform));for(var i=0;i<r.length;i++)r[i].source=t,b(r[i]);I=I.concat(r)}A--,A||E(I)}})}function o(t,a){var r,i,s=xt.sourceFetchers;for(r=0;r<s.length;r++){if(i=s[r](t,x,M,a),i===!0)return;if("object"==typeof i)return o(i,a),void 0}var l=t.events;if(l)e.isFunction(l)?(m(),l(h(x),h(M),function(e){a(e),y()})):e.isArray(l)?a(l):a();else{var c=t.url;if(c){var u,d=t.success,f=t.error,p=t.complete;u=e.isFunction(t.data)?t.data():t.data;var g=e.extend({},u||{}),v=U(t.startParam,n.startParam),b=U(t.endParam,n.endParam);v&&(g[v]=Math.round(+x/1e3)),b&&(g[b]=Math.round(+M/1e3)),m(),e.ajax(e.extend({},Ft,t,{data:g,success:function(t){t=t||[];var n=B(d,this,arguments);e.isArray(n)&&(t=n),a(t)},error:function(){B(f,this,arguments),a()},complete:function(){B(p,this,arguments),y()}}))}else a()}}function l(e){e=c(e),e&&(A++,s(e,H))}function c(t){return e.isFunction(t)||e.isArray(t)?t={events:t}:"string"==typeof t&&(t={url:t}),"object"==typeof t?(w(t),O.push(t),t):void 0}function u(t){O=e.grep(O,function(e){return!D(e,t)}),I=e.grep(I,function(e){return!D(e.source,t)}),E(I)}function d(e){var t,n,a=I.length,r=T().defaultEventEnd,i=e.start-e._start,s=e.end?e.end-(e._end||r(e)):0;for(t=0;a>t;t++)n=I[t],n._id==e._id&&n!=e&&(n.start=new Date(+n.start+i),n.end=e.end?n.end?new Date(+n.end+s):new Date(+r(n)+s):null,n.title=e.title,n.url=e.url,n.allDay=e.allDay,n.className=e.className,n.editable=e.editable,n.color=e.color,n.backgroundColor=e.backgroundColor,n.borderColor=e.borderColor,n.textColor=e.textColor,b(n));b(e),E(I)}function f(e,t){b(e),e.source||(t&&(k.events.push(e),e.source=k),I.push(e)),E(I)}function p(t){if(t){if(!e.isFunction(t)){var n=t+"";t=function(e){return e._id==n}}I=e.grep(I,t,!0);for(var a=0;a<O.length;a++)e.isArray(O[a].events)&&(O[a].events=e.grep(O[a].events,t,!0))}else{I=[];for(var a=0;a<O.length;a++)e.isArray(O[a].events)&&(O[a].events=[])}E(I)}function g(t){return e.isFunction(t)?e.grep(I,t):t?(t+="",e.grep(I,function(e){return e._id==t})):I}function m(){R++||F("loading",null,!0,T())}function y(){--R||F("loading",null,!1,T())}function b(e){var a=e.source||{},r=U(a.ignoreTimezone,n.ignoreTimezone);e._id=e._id||(e.id===t?"_fc"+Tt++:e.id+""),e.date&&(e.start||(e.start=e.date),delete e.date),e._start=h(e.start=v(e.start,r)),e.end=v(e.end,r),e.end&&e.end<=e.start&&(e.end=null),e._end=e.end?h(e.end):null,e.allDay===t&&(e.allDay=U(a.allDayDefault,n.allDayDefault)),e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[]}function w(e){e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[];for(var t=xt.sourceNormalizers,n=0;n<t.length;n++)t[n](e)}function D(e,t){return e&&t&&C(e)==C(t)}function C(e){return("object"==typeof e?e.events||e.url:"")||e}var S=this;S.isFetchNeeded=r,S.fetchEvents=i,S.addEventSource=l,S.removeEventSource=u,S.updateEvent=d,S.renderEvent=f,S.removeEvents=p,S.clientEvents=g,S.normalizeEvent=b;for(var x,M,F=S.trigger,T=S.getView,E=S.reportEvents,k={events:[]},O=[k],H=0,A=0,R=0,I=[],N=0;N<a.length;N++)c(a[N])}function s(e,t,n){return e.setFullYear(e.getFullYear()+t),n||d(e),e}function o(e,t,n){if(+e){var a=e.getMonth()+t,r=h(e);for(r.setDate(1),r.setMonth(a),e.setMonth(a),n||d(e);e.getMonth()!=r.getMonth();)e.setDate(e.getDate()+(r>e?1:-1))}return e}function l(e,t,n){if(+e){var a=e.getDate()+t,r=h(e);r.setHours(9),r.setDate(a),e.setDate(a),n||d(e),c(e,r)}return e}function c(e,t){if(+e)for(;e.getDate()!=t.getDate();)e.setTime(+e+(t>e?1:-1)*Ot)}function u(e,t){return e.setMinutes(e.getMinutes()+t),e}function d(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function h(e,t){return t?d(new Date(+e)):new Date(+e)}function f(){var e,t=0;do e=new Date(1970,t++,1);while(e.getHours());return e}function p(e,t){return Math.round((h(e,!0)-h(t,!0))/kt)}function g(e,n,a,r){n!==t&&n!=e.getFullYear()&&(e.setDate(1),e.setMonth(0),e.setFullYear(n)),a!==t&&a!=e.getMonth()&&(e.setDate(1),e.setMonth(a)),r!==t&&e.setDate(r)}function v(e,n){return"object"==typeof e?e:"number"==typeof e?new Date(1e3*e):"string"==typeof e?e.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(e)):(n===t&&(n=!0),m(e,n)||(e?new Date(e):null)):null}function m(e,t){var n=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var a=new Date(n[1],0,1);if(t||!n[13]){var r=new Date(n[1],0,1,9,0);n[3]&&(a.setMonth(n[3]-1),r.setMonth(n[3]-1)),n[5]&&(a.setDate(n[5]),r.setDate(n[5])),c(a,r),n[7]&&a.setHours(n[7]),n[8]&&a.setMinutes(n[8]),n[10]&&a.setSeconds(n[10]),n[12]&&a.setMilliseconds(1e3*Number("0."+n[12])),c(a,r)}else if(a.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),a.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?1e3*Number("0."+n[12]):0),n[14]){var i=60*Number(n[16])+(n[18]?Number(n[18]):0);i*="-"==n[15]?1:-1,a=new Date(+a+60*i*1e3)}return a}function y(e){if("number"==typeof e)return 60*e;if("object"==typeof e)return 60*e.getHours()+e.getMinutes();var t=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(t){var n=parseInt(t[1],10);return t[3]&&(n%=12,"p"==t[3].toLowerCase().charAt(0)&&(n+=12)),60*n+(t[2]?parseInt(t[2],10):0)}}function b(e,t,n){return w(e,null,t,n)}function w(e,t,n,a){a=a||Ct;var r,i,s,o,l=e,c=t,u=n.length,d="";for(r=0;u>r;r++)if(i=n.charAt(r),"'"==i){for(s=r+1;u>s;s++)if("'"==n.charAt(s)){l&&(d+=s==r+1?"'":n.substring(r+1,s),r=s);break}}else if("("==i){for(s=r+1;u>s;s++)if(")"==n.charAt(s)){var h=b(l,n.substring(r+1,s),a);parseInt(h.replace(/\D/,""),10)&&(d+=h),r=s;break}}else if("["==i){for(s=r+1;u>s;s++)if("]"==n.charAt(s)){var f=n.substring(r+1,s),h=b(l,f,a);h!=b(c,f,a)&&(d+=h),r=s;break}}else if("{"==i)l=t,c=e;else if("}"==i)l=e,c=t;else{for(s=u;s>r;s--)if(o=At[n.substring(r,s)]){l&&(d+=o(l,a)),r=s-1;break}s==r&&l&&(d+=i)}return d}function D(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1}function C(e){return e.end?S(e.end,e.allDay):l(h(e.start),1)}function S(e,t){return e=h(e),t||e.getHours()||e.getMinutes()?l(e,1):d(e)}function x(n,a,r){n.unbind("mouseover").mouseover(function(n){for(var i,s,o,l=n.target;l!=this;)i=l,l=l.parentNode;(s=i._fci)!==t&&(i._fci=t,o=a[s],r(o.event,o.element,o),e(n.target).trigger(n)),n.stopPropagation()})}function M(t,n,a){for(var r,i=0;i<t.length;i++)r=e(t[i]),r.width(Math.max(0,n-T(r,a)))}function F(t,n,a){for(var r,i=0;i<t.length;i++)r=e(t[i]),r.height(Math.max(0,n-H(r,a)))}function T(e,t){return E(e)+O(e)+(t?k(e):0)}function E(t){return(parseFloat(e.css(t[0],"paddingLeft",!0))||0)+(parseFloat(e.css(t[0],"paddingRight",!0))||0)}function k(t){return(parseFloat(e.css(t[0],"marginLeft",!0))||0)+(parseFloat(e.css(t[0],"marginRight",!0))||0)}function O(t){return(parseFloat(e.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(e.css(t[0],"borderRightWidth",!0))||0)}function H(e,t){return A(e)+I(e)+(t?R(e):0)}function A(t){return(parseFloat(e.css(t[0],"paddingTop",!0))||0)+(parseFloat(e.css(t[0],"paddingBottom",!0))||0)}function R(t){return(parseFloat(e.css(t[0],"marginTop",!0))||0)+(parseFloat(e.css(t[0],"marginBottom",!0))||0)}function I(t){return(parseFloat(e.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(e.css(t[0],"borderBottomWidth",!0))||0)}function N(){}function P(e,t){return e-t}function z(e){return Math.max.apply(Math,e)}function _(e){return(10>e?"0":"")+e}function Y(e,n){if(e[n]!==t)return e[n];for(var a,r=n.split(/(?=[A-Z])/),i=r.length-1;i>=0;i--)if(a=e[r[i].toLowerCase()],a!==t)return a;return e[""]}function L(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function j(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function W(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function q(e,t){var n=e.source||{},a=e.color,r=n.color,i=t("eventColor"),s=e.backgroundColor||a||n.backgroundColor||r||t("eventBackgroundColor")||i,o=e.borderColor||a||n.borderColor||r||t("eventBorderColor")||i,l=e.textColor||n.textColor||t("eventTextColor"),c=[];return s&&c.push("background-color:"+s),o&&c.push("border-color:"+o),l&&c.push("color:"+l),c.join(";")}function B(t,n,a){if(e.isFunction(t)&&(t=[t]),t){var r,i;for(r=0;r<t.length;r++)i=t[r].apply(n,a)||i;return i}}function U(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==t)return arguments[e]}function V(e,t){function n(e,t){t&&(o(e,t),e.setDate(1));var n=r("firstDay"),d=h(e,!0);d.setDate(1);var f=o(h(d),1),g=h(d);l(g,-((g.getDay()-n+7)%7)),s(g);var v=h(f);l(v,(7-v.getDay()+n)%7),s(v,-1,!0);var m=c(),y=Math.round(p(v,g)/7);"fixed"==r("weekMode")&&(l(v,7*(6-y)),y=6),a.title=u(d,r("titleFormat")),a.start=d,a.end=f,a.visStart=g,a.visEnd=v,i(y,m,!0)}var a=this;a.render=n,G.call(a,e,t,"month");var r=a.opt,i=a.renderBasic,s=a.skipHiddenDays,c=a.getCellsPerWeek,u=t.formatDate}function J(e,t){function n(e,t){t&&l(e,7*t);var n=l(h(e),-((e.getDay()-r("firstDay")+7)%7)),u=l(h(n),7),d=h(n);s(d);var f=h(u);s(f,-1,!0);var p=o();a.start=n,a.end=u,a.visStart=d,a.visEnd=f,a.title=c(d,l(h(f),-1),r("titleFormat")),i(1,p,!1)}var a=this;a.render=n,G.call(a,e,t,"basicWeek");var r=a.opt,i=a.renderBasic,s=a.skipHiddenDays,o=a.getCellsPerWeek,c=t.formatDates}function $(e,t){function n(e,t){t&&l(e,t),s(e,0>t?-1:1);var n=h(e,!0),c=l(h(n),1);a.title=o(e,r("titleFormat")),a.start=a.visStart=n,a.end=a.visEnd=c,i(1,1,!1)}var a=this;a.render=n,G.call(a,e,t,"basicDay");var r=a.opt,i=a.renderBasic,s=a.skipHiddenDays,o=t.formatDate}function G(t,n,a){function r(e,t,n){tt=e,nt=t,at=n,i(),q||s(),o()}function i(){lt=pt("theme")?"ui":"fc",ct=pt("columnFormat"),ut=pt("weekNumbers"),ht=pt("weekNumberTitle"),ft="iso"!=pt("weekNumberCalculation")?"w":"W"}function s(){G=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function o(){var n=c();z&&z.remove(),z=e(n).appendTo(t),_=z.find("thead"),Y=_.find(".fc-day-header"),q=z.find("tbody"),B=q.find("tr"),U=q.find(".fc-day"),V=B.find("td:first-child"),J=B.eq(0).find(".fc-day > div"),$=B.eq(0).find(".fc-day-content > div"),W(_.add(_.find("tr"))),W(B),B.eq(0).addClass("fc-first"),B.filter(":last").addClass("fc-last"),U.each(function(t,n){var a=xt(Math.floor(t/nt),t%nt);gt("dayRender",P,a,e(n))}),y(U)}function c(){var e="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+u()+f()+"</table>";return e}function u(){var e,t,n=lt+"-widget-header",a="";for(a+="<thead><tr>",ut&&(a+="<th class='fc-week-number "+n+"'>"+L(ht)+"</th>"),e=0;nt>e;e++)t=xt(0,e),a+="<th class='fc-day-header fc-"+Et[t.getDay()]+" "+n+"'>"+L(Tt(t,ct))+"</th>";return a+="</tr></thead>"}function f(){var e,t,n,a=lt+"-widget-content",r="";for(r+="<tbody>",e=0;tt>e;e++){for(r+="<tr class='fc-week'>",ut&&(n=xt(e,0),r+="<td class='fc-week-number "+a+"'><div>"+L(Tt(n,ft))+"</div></td>"),t=0;nt>t;t++)n=xt(e,t),r+=p(n);r+="</tr>"}return r+="</tbody>"}function p(e){var t=lt+"-widget-content",n=P.start.getMonth(),a=d(new Date),r="",i=["fc-day","fc-"+Et[e.getDay()],t];return e.getMonth()!=n&&i.push("fc-other-month"),+e==+a?i.push("fc-today",lt+"-state-highlight"):a>e?i.push("fc-past"):i.push("fc-future"),r+="<td class='"+i.join(" ")+"' data-date='"+Tt(e,"yyyy-MM-dd")+"'><div>",at&&(r+="<div class='fc-day-number'>"+e.getDate()+"</div>"),r+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function g(t){X=t;var n,a,r,i=X-_.height();"variable"==pt("weekMode")?n=a=Math.floor(i/(1==tt?2:6)):(n=Math.floor(i/tt),a=i-n*(tt-1)),V.each(function(t,i){tt>t&&(r=e(i),r.find("> div").css("min-height",(t==tt-1?a:n)-H(r)))})}function v(e){Z=e,st.clear(),ot.clear(),et=0,ut&&(et=_.find("th.fc-week-number").outerWidth()),Q=Math.floor((Z-et)/nt),M(Y.slice(0,-1),Q)}function y(e){e.click(b).mousedown(St)}function b(t){if(!pt("selectable")){var n=m(e(this).data("date"));gt("dayClick",this,n,!0,t)}}function w(e,t,n){n&&rt.build();for(var a=Ft(e,t),r=0;r<a.length;r++){var i=a[r];y(D(i.row,i.leftCol,i.row,i.rightCol))}}function D(e,n,a,r){var i=rt.rect(e,n,a,r,t);return wt(i,t)}function C(e){return h(e)}function S(e,t){w(e,l(h(t),1),!0)}function x(){Ct()}function F(e,t,n){var a=Mt(e),r=U[a.row*nt+a.col];gt("dayClick",r,e,t,n)}function T(e,t){it.start(function(e){Ct(),e&&D(e.row,e.col,e.row,e.col)},t)}function E(e,t,n){var a=it.stop();if(Ct(),a){var r=xt(a);gt("drop",e,r,!0,t,n)}}function k(e){return h(e.start)}function O(e){return st.left(e)}function A(e){return st.right(e)}function R(e){return ot.left(e)}function I(e){return ot.right(e)}function N(e){return B.eq(e)}var P=this;P.renderBasic=r,P.setHeight=g,P.setWidth=v,P.renderDayOverlay=w,P.defaultSelectionEnd=C,P.renderSelection=S,P.clearSelection=x,P.reportDayClick=F,P.dragStart=T,P.dragStop=E,P.defaultEventEnd=k,P.getHoverListener=function(){return it},P.colLeft=O,P.colRight=A,P.colContentLeft=R,P.colContentRight=I,P.getIsCellAllDay=function(){return!0},P.allDayRow=N,P.getRowCnt=function(){return tt},P.getColCnt=function(){return nt},P.getColWidth=function(){return Q},P.getDaySegmentContainer=function(){return G},dt.call(P,t,n,a),mt.call(P),vt.call(P),K.call(P);var z,_,Y,q,B,U,V,J,$,G,Z,X,Q,et,tt,nt,at,rt,it,st,ot,lt,ct,ut,ht,ft,pt=P.opt,gt=P.trigger,wt=P.renderOverlay,Ct=P.clearOverlays,St=P.daySelectionMousedown,xt=P.cellToDate,Mt=P.dateToCell,Ft=P.rangeToSegments,Tt=n.formatDate;j(t.addClass("fc-grid")),rt=new yt(function(t,n){var a,r,i;Y.each(function(t,s){a=e(s),r=a.offset().left,t&&(i[1]=r),i=[r],n[t]=i}),i[1]=r+a.outerWidth(),B.each(function(n,s){tt>n&&(a=e(s),r=a.offset().top,n&&(i[1]=r),i=[r],t[n]=i)}),i[1]=r+a.outerHeight()}),it=new bt(rt),st=new Dt(function(e){return J.eq(e)}),ot=new Dt(function(e){return $.eq(e)})}function K(){function e(e,t){n.renderDayEvents(e,t)}function t(){n.getDaySegmentContainer().empty()}var n=this;n.renderEvents=e,n.clearEvents=t,ht.call(n)}function Z(e,t){function n(e,t){t&&l(e,7*t);var n=l(h(e),-((e.getDay()-r("firstDay")+7)%7)),u=l(h(n),7),d=h(n);s(d);var f=h(u);s(f,-1,!0);var p=o();a.title=c(d,l(h(f),-1),r("titleFormat")),a.start=n,a.end=u,a.visStart=d,a.visEnd=f,i(p)}var a=this;a.render=n,Q.call(a,e,t,"agendaWeek");var r=a.opt,i=a.renderAgenda,s=a.skipHiddenDays,o=a.getCellsPerWeek,c=t.formatDates}function X(e,t){function n(e,t){t&&l(e,t),s(e,0>t?-1:1);var n=h(e,!0),c=l(h(n),1);a.title=o(e,r("titleFormat")),a.start=a.visStart=n,a.end=a.visEnd=c,i(1)}var a=this;a.render=n,Q.call(a,e,t,"agendaDay");var r=a.opt,i=a.renderAgenda,s=a.skipHiddenDays,o=t.formatDate}function Q(n,a,r){function i(e){It=e,s(),Q?c():o()}function s(){Lt=$t("theme")?"ui":"fc",jt=$t("isRTL"),Wt=y($t("minTime")),qt=y($t("maxTime")),Bt=$t("columnFormat"),Ut=$t("weekNumbers"),Vt=$t("weekNumberTitle"),Jt="iso"!=$t("weekNumberCalculation")?"w":"W",Ht=$t("snapMinutes")||$t("slotMinutes")}function o(){var t,a,r,i,s,o=Lt+"-widget-header",l=Lt+"-widget-content",d=$t("slotMinutes")%15==0;for(c(),ct=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),$t("allDaySlot")?(ut=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ct),t="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+o+" fc-agenda-axis'>"+$t("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+o+" fc-agenda-gutter'>&nbsp;</th></tr></table>",ht=e(t).appendTo(ct),ft=ht.find("tr"),C(ft.find("td")),ct.append("<div class='fc-agenda-divider "+o+"'><div class='fc-agenda-divider-inner'/></div>")):ut=e([]),pt=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ct),gt=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(pt),wt=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(gt),t="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",a=f(),i=u(h(a),qt),u(a,Wt),Nt=0,r=0;i>a;r++)s=a.getMinutes(),t+="<tr class='fc-slot"+r+" "+(s?"fc-minor":"")+"'><th class='fc-agenda-axis "+o+"'>"+(d&&s?"&nbsp;":sn(a,$t("axisFormat")))+"</th><td class='"+l+"'><div style='position:relative'>&nbsp;</div></td></tr>",u(a,$t("slotMinutes")),Nt++;t+="</tbody></table>",Ct=e(t).appendTo(gt),S(Ct.find("td"))}function c(){var t=p();Q&&Q.remove(),Q=e(t).appendTo(n),tt=Q.find("thead"),nt=tt.find("th").slice(1,-1),at=Q.find("tbody"),rt=at.find("td").slice(0,-1),it=rt.find("> div"),st=rt.find(".fc-day-content > div"),ot=rt.eq(0),lt=it.eq(0),W(tt.add(tt.find("tr"))),W(at.add(at.find("tr")))}function p(){var e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+g()+v()+"</table>";return e}function g(){var e,t,n,a=Lt+"-widget-header",r="";for(r+="<thead><tr>",Ut?(e=nn(0,0),t=sn(e,Jt),jt?t+=Vt:t=Vt+t,r+="<th class='fc-agenda-axis fc-week-number "+a+"'>"+L(t)+"</th>"):r+="<th class='fc-agenda-axis "+a+"'>&nbsp;</th>",n=0;It>n;n++)e=nn(0,n),r+="<th class='fc-"+Et[e.getDay()]+" fc-col"+n+" "+a+"'>"+L(sn(e,Bt))+"</th>";return r+="<th class='fc-agenda-gutter "+a+"'>&nbsp;</th></tr></thead>"}function v(){var e,t,n,a,r,i=Lt+"-widget-header",s=Lt+"-widget-content",o=d(new Date),l="";for(l+="<tbody><tr><th class='fc-agenda-axis "+i+"'>&nbsp;</th>",n="",t=0;It>t;t++)e=nn(0,t),r=["fc-col"+t,"fc-"+Et[e.getDay()],s],+e==+o?r.push(Lt+"-state-highlight","fc-today"):o>e?r.push("fc-past"):r.push("fc-future"),a="<td class='"+r.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",n+=a;return l+=n,l+="<td class='fc-agenda-gutter "+s+"'>&nbsp;</td></tr></tbody>"}function m(e){e===t&&(e=Mt),Mt=e,on={};var n=at.position().top,a=pt.position().top,r=Math.min(e-n,Ct.height()+a+1);lt.height(r-H(ot)),ct.css("top",n),pt.height(r-a-1),Ot=Ct.find("tr:first").height()+1,At=$t("slotMinutes")/Ht,Rt=Ot/At}function b(t){xt=t,_t.clear(),Yt.clear();var n=tt.find("th:first");ht&&(n=n.add(ht.find("th:first"))),n=n.add(Ct.find("th:first")),Ft=0,M(n.width("").each(function(t,n){Ft=Math.max(Ft,e(n).outerWidth())}),Ft);var a=Q.find(".fc-agenda-gutter");ht&&(a=a.add(ht.find("th.fc-agenda-gutter")));var r=pt[0].clientWidth;kt=pt.width()-r,kt?(M(a,kt),a.show().prev().removeClass("fc-last")):a.hide().prev().addClass("fc-last"),Tt=Math.floor((r-Ft)/It),M(nt.slice(0,-1),Tt)}function w(){function e(){pt.scrollTop(a)}var t=f(),n=h(t);n.setHours($t("firstHour"));var a=_(t,n)+1;e(),setTimeout(e,0)}function D(){w()}function C(e){e.click(x).mousedown(en)}function S(e){e.click(x).mousedown($)}function x(e){if(!$t("selectable")){var t=Math.min(It-1,Math.floor((e.pageX-Q.offset().left-Ft)/Tt)),n=nn(0,t),a=this.parentNode.className.match(/fc-slot(\d+)/);if(a){var r=parseInt(a[1])*$t("slotMinutes"),i=Math.floor(r/60);n.setHours(i),n.setMinutes(r%60+Wt),Gt("dayClick",rt[t],n,!1,e)}else Gt("dayClick",rt[t],n,!0,e)}}function T(e,t,n){n&&Pt.build();for(var a=rn(e,t),r=0;r<a.length;r++){var i=a[r];C(E(i.row,i.leftCol,i.row,i.rightCol))}}function E(e,t,n,a){var r=Pt.rect(e,t,n,a,ct);return Kt(r,ct)}function k(e,t){for(var n=0;It>n;n++){var a=nn(0,n),r=l(h(a),1),i=new Date(Math.max(a,e)),s=new Date(Math.min(r,t));if(s>i){var o=Pt.rect(0,n,0,n,gt),c=_(a,i),u=_(a,s);o.top=c,o.height=u-c,S(Kt(o,gt))}}}function O(e){return _t.left(e)}function A(e){return Yt.left(e)}function R(e){return _t.right(e)}function I(e){return Yt.right(e)}function N(e){return $t("allDaySlot")&&!e.row}function z(e){var t=nn(0,e.col),n=e.row;return $t("allDaySlot")&&n--,n>=0&&u(t,Wt+n*Ht),t}function _(e,n){if(e=h(e,!0),n<u(h(e),Wt))return 0;if(n>=u(h(e),qt))return Ct.height();var a=$t("slotMinutes"),r=60*n.getHours()+n.getMinutes()-Wt,i=Math.floor(r/a),s=on[i];return s===t&&(s=on[i]=Ct.find("tr").eq(i).find("td div")[0].offsetTop),Math.max(0,Math.round(s-1+Ot*(r%a/a)))}function Y(){return ft}function q(e){var t=h(e.start);return e.allDay?t:u(t,$t("defaultEventMinutes"))}function B(e,t){return t?h(e):u(h(e),$t("slotMinutes"))}function U(e,t,n){n?$t("allDaySlot")&&T(e,l(h(t),1),!0):V(e,t)}function V(t,n){var a=$t("selectHelper");if(Pt.build(),a){var r=an(t).col;if(r>=0&&It>r){var i=Pt.rect(0,r,0,r,gt),s=_(t,t),o=_(t,n);
if(o>s){if(i.top=s,i.height=o-s,i.left+=2,i.width-=5,e.isFunction(a)){var l=a(t,n);l&&(i.position="absolute",St=e(l).css(i).appendTo(gt))}else i.isStart=!0,i.isEnd=!0,St=e(tn({title:"",start:t,end:n,className:["fc-select-helper"],editable:!1},i)),St.css("opacity",$t("dragOpacity"));St&&(S(St),gt.append(St),M(St,i.width,!0),F(St,i.height,!0))}}}else k(t,n)}function J(){Zt(),St&&(St.remove(),St=null)}function $(t){if(1==t.which&&$t("selectable")){Qt(t);var n;zt.start(function(e,t){if(J(),e&&e.col==t.col&&!N(e)){var a=z(t),r=z(e);n=[a,u(h(a),Ht),r,u(h(r),Ht)].sort(P),V(n[0],n[3])}else n=null},t),e(document).one("mouseup",function(e){zt.stop(),n&&(+n[0]==+n[1]&&G(n[0],!1,e),Xt(n[0],n[3],!1,e))})}}function G(e,t,n){Gt("dayClick",rt[an(e).col],e,t,n)}function K(e,t){zt.start(function(e){if(Zt(),e)if(N(e))E(e.row,e.col,e.row,e.col);else{var t=z(e),n=u(h(t),$t("defaultEventMinutes"));k(t,n)}},t)}function Z(e,t,n){var a=zt.stop();Zt(),a&&Gt("drop",e,z(a),N(a),t,n)}var X=this;X.renderAgenda=i,X.setWidth=b,X.setHeight=m,X.afterRender=D,X.defaultEventEnd=q,X.timePosition=_,X.getIsCellAllDay=N,X.allDayRow=Y,X.getCoordinateGrid=function(){return Pt},X.getHoverListener=function(){return zt},X.colLeft=O,X.colRight=R,X.colContentLeft=A,X.colContentRight=I,X.getDaySegmentContainer=function(){return ut},X.getSlotSegmentContainer=function(){return wt},X.getMinMinute=function(){return Wt},X.getMaxMinute=function(){return qt},X.getSlotContainer=function(){return gt},X.getRowCnt=function(){return 1},X.getColCnt=function(){return It},X.getColWidth=function(){return Tt},X.getSnapHeight=function(){return Rt},X.getSnapMinutes=function(){return Ht},X.defaultSelectionEnd=B,X.renderDayOverlay=T,X.renderSelection=U,X.clearSelection=J,X.reportDayClick=G,X.dragStart=K,X.dragStop=Z,dt.call(X,n,a,r),mt.call(X),vt.call(X),et.call(X);var Q,tt,nt,at,rt,it,st,ot,lt,ct,ut,ht,ft,pt,gt,wt,Ct,St,xt,Mt,Ft,Tt,kt,Ot,Ht,At,Rt,It,Nt,Pt,zt,_t,Yt,Lt,jt,Wt,qt,Bt,Ut,Vt,Jt,$t=X.opt,Gt=X.trigger,Kt=X.renderOverlay,Zt=X.clearOverlays,Xt=X.reportSelection,Qt=X.unselect,en=X.daySelectionMousedown,tn=X.slotSegHtml,nn=X.cellToDate,an=X.dateToCell,rn=X.rangeToSegments,sn=a.formatDate,on={};j(n.addClass("fc-agenda")),Pt=new yt(function(t,n){function a(e){return Math.max(l,Math.min(c,e))}var r,i,s;nt.each(function(t,a){r=e(a),i=r.offset().left,t&&(s[1]=i),s=[i],n[t]=s}),s[1]=i+r.outerWidth(),$t("allDaySlot")&&(r=ft,i=r.offset().top,t[0]=[i,i+r.outerHeight()]);for(var o=gt.offset().top,l=pt.offset().top,c=l+pt.outerHeight(),u=0;Nt*At>u;u++)t.push([a(o+Rt*u),a(o+Rt*(u+1))])}),zt=new bt(Pt),_t=new Dt(function(e){return it.eq(e)}),Yt=new Dt(function(e){return st.eq(e)})}function et(){function n(e,t){var n,a=e.length,i=[],s=[];for(n=0;a>n;n++)e[n].allDay?i.push(e[n]):s.push(e[n]);y("allDaySlot")&&(et(i,t),E()),o(r(s),t)}function a(){k().empty(),O().empty()}function r(t){var n,a,r,o,l,c=j(),d=I(),f=R(),p=e.map(t,s),g=[];for(a=0;c>a;a++)for(n=Y(0,a),u(n,d),l=i(t,p,n,u(h(n),f-d)),l=tt(l),r=0;r<l.length;r++)o=l[r],o.col=a,g.push(o);return g}function i(e,t,n,a){var r,i,s,o,l,c,u,d,f=[],p=e.length;for(r=0;p>r;r++)i=e[r],s=i.start,o=t[r],o>n&&a>s&&(n>s?(l=h(n),u=!1):(l=s,u=!0),o>a?(c=h(a),d=!1):(c=o,d=!0),f.push({event:i,start:l,end:c,isStart:u,isEnd:d}));return f.sort(ut)}function s(e){return e.end?h(e.end):u(h(e.start),y("defaultEventMinutes"))}function o(n,a){var r,i,s,o,l,u,h,f,p,g,v,m,w,D,C,S,M=n.length,F="",E=O(),k=y("isRTL");for(r=0;M>r;r++)i=n[r],s=i.event,o=N(i.start,i.start),l=N(i.start,i.end),u=z(i.col),h=_(i.col),f=h-u,h-=.025*f,f=h-u,p=f*(i.forwardCoord-i.backwardCoord),y("slotEventOverlap")&&(p=Math.max(2*(p-10),p)),k?(v=h-i.backwardCoord*f,g=v-p):(g=u+i.backwardCoord*f,v=g+p),g=Math.max(g,u),v=Math.min(v,h),p=v-g,i.top=o,i.left=g,i.outerWidth=p,i.outerHeight=l-o,F+=c(s,i);for(E[0].innerHTML=F,m=E.children(),r=0;M>r;r++)i=n[r],s=i.event,w=e(m[r]),D=b("eventRender",s,s,w),D===!1?w.remove():(D&&D!==!0&&(w.remove(),w=e(D).css({position:"absolute",top:i.top,left:i.left}).appendTo(E)),i.element=w,s._id===a?d(s,w,i):w[0]._fci=r,J(s,w));for(x(E,n,d),r=0;M>r;r++)i=n[r],(w=i.element)&&(i.vsides=H(w,!0),i.hsides=T(w,!0),C=w.find(".fc-event-title"),C.length&&(i.contentTop=C[0].offsetTop));for(r=0;M>r;r++)i=n[r],(w=i.element)&&(w[0].style.width=Math.max(0,i.outerWidth-i.hsides)+"px",S=Math.max(0,i.outerHeight-i.vsides),w[0].style.height=S+"px",s=i.event,i.contentTop!==t&&S-i.contentTop<10&&(w.find("div.fc-event-time").text(at(s.start,y("timeFormat"))+" - "+s.title),w.find("div.fc-event-title").remove()),b("eventAfterRender",s,s,w))}function c(e,t){var n="<",a=e.url,r=q(e,y),i=["fc-event","fc-event-vert"];return w(e)&&i.push("fc-event-draggable"),t.isStart&&i.push("fc-event-start"),t.isEnd&&i.push("fc-event-end"),i=i.concat(e.className),e.source&&(i=i.concat(e.source.className||[])),n+=a?"a href='"+L(e.url)+"'":"div",n+=" class='"+i.join(" ")+"' style='position:absolute;top:"+t.top+"px;left:"+t.left+"px;"+r+"'><div class='fc-event-inner'><div class='fc-event-time'>"+L(rt(e.start,e.end,y("timeFormat")))+"</div><div class='fc-event-title'>"+L(e.title||"")+"</div></div><div class='fc-event-bg'></div>",t.isEnd&&D(e)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(a?"a":"div")+">"}function d(e,t,n){var a=t.find("div.fc-event-time");w(e)&&g(e,t,a),n.isEnd&&D(e)&&v(e,t,a),M(e,t)}function f(e,t,n){function a(){c||(t.width(r).height("").draggable("option","grid",null),c=!0)}var r,i,s,o=n.isStart,c=!0,u=A(),d=W(),f=B(),g=U(),v=I();t.draggable({opacity:y("dragOpacity","month"),revertDuration:y("dragRevertDuration"),start:function(n,v){b("eventDragStart",t,e,n,v),G(e,t),r=t.width(),u.start(function(n,r){if(Q(),n){i=!1;var u=Y(0,r.col),v=Y(0,n.col);s=p(v,u),n.row?o?c&&(t.width(d-10),F(t,f*Math.round((e.end?(e.end-e.start)/Ht:y("defaultEventMinutes"))/g)),t.draggable("option","grid",[d,1]),c=!1):i=!0:(X(l(h(e.start),s),l(C(e),s)),a()),i=i||c&&!s}else a(),i=!0;t.draggable("option","revert",i)},n,"drag")},stop:function(n,r){if(u.stop(),Q(),b("eventDragStop",t,e,n,r),i)a(),t.css("filter",""),$(e,t);else{var o=0;c||(o=Math.round((t.offset().top-V().offset().top)/f)*g+v-(60*e.start.getHours()+e.start.getMinutes())),K(this,e,s,o,c,n,r)}}})}function g(e,t,n){function a(){Q(),o&&(d?(n.hide(),t.draggable("option","grid",null),X(l(h(e.start),w),l(C(e),w))):(r(D),n.css("display",""),t.draggable("option","grid",[F,T])))}function r(t){var a,r=u(h(e.start),t);e.end&&(a=u(h(e.end),t)),n.text(rt(r,a,y("timeFormat")))}var i,s,o,c,d,f,g,v,w,D,S,x=m.getCoordinateGrid(),M=j(),F=W(),T=B(),E=U();t.draggable({scroll:!1,grid:[F,T],axis:1==M?"y":!1,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(n,a){b("eventDragStart",t,e,n,a),G(e,t),x.build(),i=t.position(),s=x.cell(n.pageX,n.pageY),o=c=!0,d=f=P(s),g=v=0,w=0,D=S=0},drag:function(e,n){var r=x.cell(e.pageX,e.pageY);if(o=!!r){if(d=P(r),g=Math.round((n.position.left-i.left)/F),g!=v){var l=Y(0,s.col),u=s.col+g;u=Math.max(0,u),u=Math.min(M-1,u);var h=Y(0,u);w=p(h,l)}d||(D=Math.round((n.position.top-i.top)/T)*E)}(o!=c||d!=f||g!=v||D!=S)&&(a(),c=o,f=d,v=g,S=D),t.draggable("option","revert",!o)},stop:function(n,r){Q(),b("eventDragStop",t,e,n,r),o&&(d||w||D)?K(this,e,w,d?0:D,d,n,r):(o=!0,d=!1,g=0,w=0,D=0,a(),t.css("filter",""),t.css(i),$(e,t))}})}function v(e,t,n){var a,r,i=B(),s=U();t.resizable({handles:{s:".ui-resizable-handle"},grid:i,start:function(n,i){a=r=0,G(e,t),b("eventResizeStart",this,e,n,i)},resize:function(o,l){a=Math.round((Math.max(i,t.height())-l.originalSize.height)/i),a!=r&&(n.text(rt(e.start,a||e.end?u(S(e),s*a):null,y("timeFormat"))),r=a)},stop:function(n,r){b("eventResizeStop",this,e,n,r),a?Z(this,e,0,s*a,n,r):$(e,t)}})}var m=this;m.renderEvents=n,m.clearEvents=a,m.slotSegHtml=c,ht.call(m);var y=m.opt,b=m.trigger,w=m.isEventDraggable,D=m.isEventResizable,S=m.eventEnd,M=m.eventElementHandlers,E=m.setHeight,k=m.getDaySegmentContainer,O=m.getSlotSegmentContainer,A=m.getHoverListener,R=m.getMaxMinute,I=m.getMinMinute,N=m.timePosition,P=m.getIsCellAllDay,z=m.colContentLeft,_=m.colContentRight,Y=m.cellToDate,j=m.getColCnt,W=m.getColWidth,B=m.getSnapHeight,U=m.getSnapMinutes,V=m.getSlotContainer,J=m.reportEventElement,$=m.showEvents,G=m.hideEvents,K=m.eventDrop,Z=m.eventResize,X=m.renderDayOverlay,Q=m.clearOverlays,et=m.renderDayEvents,nt=m.calendar,at=nt.formatDate,rt=nt.formatDates;m.draggableDayEvent=f}function tt(e){var t,n=nt(e),a=n[0];if(at(n),a){for(t=0;t<a.length;t++)rt(a[t]);for(t=0;t<a.length;t++)it(a[t],0,0)}return st(n)}function nt(e){var t,n,a,r=[];for(t=0;t<e.length;t++){for(n=e[t],a=0;a<r.length&&ot(n,r[a]).length;a++);(r[a]||(r[a]=[])).push(n)}return r}function at(e){var t,n,a,r,i;for(t=0;t<e.length;t++)for(n=e[t],a=0;a<n.length;a++)for(r=n[a],r.forwardSegs=[],i=t+1;i<e.length;i++)ot(r,e[i],r.forwardSegs)}function rt(e){var n,a,r=e.forwardSegs,i=0;if(e.forwardPressure===t){for(n=0;n<r.length;n++)a=r[n],rt(a),i=Math.max(i,1+a.forwardPressure);e.forwardPressure=i}}function it(e,n,a){var r,i=e.forwardSegs;if(e.forwardCoord===t)for(i.length?(i.sort(ct),it(i[0],n+1,a),e.forwardCoord=i[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-a)/(n+1),r=0;r<i.length;r++)it(i[r],0,e.forwardCoord)}function st(e){var t,n,a,r=[];for(t=0;t<e.length;t++)for(n=e[t],a=0;a<n.length;a++)r.push(n[a]);return r}function ot(e,t,n){n=n||[];for(var a=0;a<t.length;a++)lt(e,t[a])&&n.push(t[a]);return n}function lt(e,t){return e.end>t.start&&e.start<t.end}function ct(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||ut(e,t)}function ut(e,t){return e.start-t.start||t.end-t.start-(e.end-e.start)||(e.event.title||"").localeCompare(t.event.title)}function dt(n,a,r){function i(t,n){var a=J[t];return e.isPlainObject(a)?Y(a,n||r):a}function s(e,t){return a.trigger.apply(a,[e,t||_].concat(Array.prototype.slice.call(arguments,2),[_]))}function o(e){var t=e.source||{};return U(e.startEditable,t.startEditable,i("eventStartEditable"),e.editable,t.editable,i("editable"))&&!i("disableDragging")}function c(e){var t=e.source||{};return U(e.durationEditable,t.durationEditable,i("eventDurationEditable"),e.editable,t.editable,i("editable"))&&!i("disableResizing")}function d(e){q={};var t,n,a=e.length;for(t=0;a>t;t++)n=e[t],q[n._id]?q[n._id].push(n):q[n._id]=[n]}function f(){q={},B={},V=[]}function g(e){return e.end?h(e.end):L(e)}function v(e,t){V.push({event:e,element:t}),B[e._id]?B[e._id].push(t):B[e._id]=[t]}function m(){e.each(V,function(e,t){_.trigger("eventDestroy",t.event,t.event,t.element)})}function y(e,t){t.click(function(n){return t.hasClass("ui-draggable-dragging")||t.hasClass("ui-resizable-resizing")?void 0:s("eventClick",this,e,n)}).hover(function(t){s("eventMouseover",this,e,t)},function(t){s("eventMouseout",this,e,t)})}function b(e,t){D(e,t,"show")}function w(e,t){D(e,t,"hide")}function D(e,t,n){var a,r=B[e._id],i=r.length;for(a=0;i>a;a++)t&&r[a][0]==t[0]||r[a][n]()}function C(e,t,n,a,r,i,o){var l=t.allDay,c=t._id;x(q[c],n,a,r),s("eventDrop",e,t,n,a,r,function(){x(q[c],-n,-a,l),W(c)},i,o),W(c)}function S(e,t,n,a,r,i){var o=t._id;M(q[o],n,a),s("eventResize",e,t,n,a,function(){M(q[o],-n,-a),W(o)},r,i),W(o)}function x(e,n,a,r){a=a||0;for(var i,s=e.length,o=0;s>o;o++)i=e[o],r!==t&&(i.allDay=r),u(l(i.start,n,!0),a),i.end&&(i.end=u(l(i.end,n,!0),a)),j(i,J)}function M(e,t,n){n=n||0;for(var a,r=e.length,i=0;r>i;i++)a=e[i],a.end=u(l(g(a),t,!0),n),j(a,J)}function F(e){return"object"==typeof e&&(e=e.getDay()),K[e]}function T(){return $}function E(e,t,n){for(t=t||1;K[(e.getDay()+(n?t:0)+7)%7];)l(e,t)}function k(){var e=O.apply(null,arguments),t=H(e),n=A(t);return n}function O(e,t){var n=_.getColCnt(),a=Q?-1:1,r=Q?n-1:0;"object"==typeof e&&(t=e.col,e=e.row);var i=e*n+(t*a+r);return i}function H(e){var t=_.visStart.getDay();return e+=Z[t],7*Math.floor(e/$)+X[(e%$+$)%$]-t}function A(e){var t=h(_.visStart);return l(t,e),t}function R(e){var t=I(e),n=N(t),a=P(n);return a}function I(e){return p(e,_.visStart)}function N(e){var t=_.visStart.getDay();return e+=t,Math.floor(e/7)*$+Z[(e%7+7)%7]-Z[t]}function P(e){var t=_.getColCnt(),n=Q?-1:1,a=Q?t-1:0,r=Math.floor(e/t),i=(e%t+t)%t*n+a;return{row:r,col:i}}function z(e,t){for(var n=_.getRowCnt(),a=_.getColCnt(),r=[],i=I(e),s=I(t),o=N(i),l=N(s)-1,c=0;n>c;c++){var u=c*a,d=u+a-1,h=Math.max(o,u),f=Math.min(l,d);if(f>=h){var p=P(h),g=P(f),v=[p.col,g.col].sort(),m=H(h)==i,y=H(f)+1==s;r.push({row:c,leftCol:v[0],rightCol:v[1],isStart:m,isEnd:y})}}return r}var _=this;_.element=n,_.calendar=a,_.name=r,_.opt=i,_.trigger=s,_.isEventDraggable=o,_.isEventResizable=c,_.setEventData=d,_.clearEventData=f,_.eventEnd=g,_.reportEventElement=v,_.triggerEventDestroy=m,_.eventElementHandlers=y,_.showEvents=b,_.hideEvents=w,_.eventDrop=C,_.eventResize=S;var L=_.defaultEventEnd,j=a.normalizeEvent,W=a.reportEventChange,q={},B={},V=[],J=a.options;_.isHiddenDay=F,_.skipHiddenDays=E,_.getCellsPerWeek=T,_.dateToCell=R,_.dateToDayOffset=I,_.dayOffsetToCellOffset=N,_.cellOffsetToCell=P,_.cellToDate=k,_.cellToCellOffset=O,_.cellOffsetToDayOffset=H,_.dayOffsetToDate=A,_.rangeToSegments=z;var $,G=i("hiddenDays")||[],K=[],Z=[],X=[],Q=i("isRTL");!function(){i("weekends")===!1&&G.push(0,6);for(var t=0,n=0;7>t;t++)Z[t]=n,K[t]=-1!=e.inArray(t,G),K[t]||(X[n]=t,n++);if($=n,!$)throw"invalid hiddenDays"}()}function ht(){function t(e,t){var n=a(e,!1,!0);pt(n,function(e,t){A(e.event,t)}),b(n,t),pt(n,function(e,t){E("eventAfterRender",e.event,e.event,t)})}function n(e,t,n){var r=a([e],!0,!1),i=[];return pt(r,function(e,a){e.row===t&&a.css("top",n),i.push(a[0])}),i}function a(t,n,a){var i,l,c=G(),h=n?e("<div/>"):c,f=r(t);return s(f),i=o(f),h[0].innerHTML=i,l=h.children(),n&&c.append(l),u(f,l),pt(f,function(e,t){e.hsides=T(t,!0)}),pt(f,function(e,t){t.width(Math.max(0,e.outerWidth-e.hsides))}),pt(f,function(e,t){e.outerHeight=t.outerHeight(!0)}),d(f,a),f}function r(e){for(var t=[],n=0;n<e.length;n++){var a=i(e[n]);t.push.apply(t,a)}return t}function i(e){for(var t=e.start,n=C(e),a=tt(t,n),r=0;r<a.length;r++)a[r].event=e;return a}function s(e){for(var t=F("isRTL"),n=0;n<e.length;n++){var a=e[n],r=(t?a.isEnd:a.isStart)?J:U,i=(t?a.isStart:a.isEnd)?$:V,s=r(a.leftCol),o=i(a.rightCol);a.left=s,a.outerWidth=o-s}}function o(e){for(var t="",n=0;n<e.length;n++)t+=c(e[n]);return t}function c(e){var t="",n=F("isRTL"),a=e.event,r=a.url,i=["fc-event","fc-event-hori"];k(a)&&i.push("fc-event-draggable"),e.isStart&&i.push("fc-event-start"),e.isEnd&&i.push("fc-event-end"),i=i.concat(a.className),a.source&&(i=i.concat(a.source.className||[]));var s=q(a,F);return t+=r?"<a href='"+L(r)+"'":"<div",t+=" class='"+i.join(" ")+"' style='position:absolute;left:"+e.left+"px;"+s+"'><div class='fc-event-inner'>",!a.allDay&&e.isStart&&(t+="<span class='fc-event-time'>"+L(K(a.start,a.end,F("timeFormat")))+"</span>"),t+="<span class='fc-event-title'>"+L(a.title||"")+"</span></div>",e.isEnd&&O(a)&&(t+="<div class='ui-resizable-handle ui-resizable-"+(n?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),t+="</"+(r?"a":"div")+">"}function u(t,n){for(var a=0;a<t.length;a++){var r=t[a],i=r.event,s=n.eq(a),o=E("eventRender",i,i,s);o===!1?s.remove():(o&&o!==!0&&(o=e(o).css({position:"absolute",left:r.left}),s.replaceWith(o),s=o),r.element=s)}}function d(e,t){var n=f(e),a=y(),r=[];if(t)for(var i=0;i<a.length;i++)a[i].height(n[i]);for(var i=0;i<a.length;i++)r.push(a[i].position().top);pt(e,function(e,t){t.css("top",r[e.row]+e.top)})}function f(e){for(var t=Y(),n=W(),a=[],r=g(e),i=0;t>i;i++){for(var s=r[i],o=[],l=0;n>l;l++)o.push(0);for(var c=0;c<s.length;c++){var u=s[c];u.top=z(o.slice(u.leftCol,u.rightCol+1));for(var l=u.leftCol;l<=u.rightCol;l++)o[l]=u.top+u.outerHeight}a.push(z(o))}return a}function g(e){var t,n,a,r=Y(),i=[];for(t=0;t<e.length;t++)n=e[t],a=n.row,n.element&&(i[a]?i[a].push(n):i[a]=[n]);for(a=0;r>a;a++)i[a]=v(i[a]||[]);return i}function v(e){for(var t=[],n=m(e),a=0;a<n.length;a++)t.push.apply(t,n[a]);return t}function m(e){e.sort(gt);for(var t=[],n=0;n<e.length;n++){for(var a=e[n],r=0;r<t.length&&ft(a,t[r]);r++);t[r]?t[r].push(a):t[r]=[a]}return t}function y(){var e,t=Y(),n=[];for(e=0;t>e;e++)n[e]=B(e).find("div.fc-day-content > div");return n}function b(e,t){var n=G();pt(e,function(e,n,a){var r=e.event;r._id===t?w(r,n,e):n[0]._fci=a}),x(n,e,w)}function w(e,t,n){k(e)&&M.draggableDayEvent(e,t,n),n.isEnd&&O(e)&&M.resizableDayEvent(e,t,n),R(e,t)}function D(e,t){var n,a=et();t.draggable({delay:50,opacity:F("dragOpacity"),revertDuration:F("dragRevertDuration"),start:function(r,i){E("eventDragStart",t,e,r,i),N(e,t),a.start(function(a,r,i,s){if(t.draggable("option","revert",!a||!i&&!s),X(),a){var o=nt(r),c=nt(a);n=p(c,o),Z(l(h(e.start),n),l(C(e),n))}else n=0},r,"drag")},stop:function(r,i){a.stop(),X(),E("eventDragStop",t,e,r,i),n?P(this,e,n,0,e.allDay,r,i):(t.css("filter",""),I(e,t))}})}function S(t,a,r){var i=F("isRTL"),s=i?"w":"e",o=a.find(".ui-resizable-"+s),c=!1;j(a),a.mousedown(function(e){e.preventDefault()}).click(function(e){c&&(e.preventDefault(),e.stopImmediatePropagation())}),o.mousedown(function(i){function o(n){E("eventResizeStop",this,t,n),e("body").css("cursor",""),h.stop(),X(),u&&_(this,t,u,0,n),setTimeout(function(){c=!1},0)}if(1==i.which){c=!0;var u,d,h=et(),f=(Y(),W(),a.css("top")),p=e.extend({},t),g=st(it(t.start));Q(),e("body").css("cursor",s+"-resize").one("mouseup",o),E("eventResizeStart",this,t,i),h.start(function(a,i){if(a){var o=at(i),c=at(a);if(c=Math.max(c,g),u=rt(c)-rt(o)){p.end=l(H(t),u,!0);var h=d;d=n(p,r.row,f),d=e(d),d.find("*").css("cursor",s+"-resize"),h&&h.remove(),N(t)}else d&&(I(t),d.remove(),d=null);X(),Z(t.start,l(C(t),u))}},i)}})}var M=this;M.renderDayEvents=t,M.draggableDayEvent=D,M.resizableDayEvent=S;var F=M.opt,E=M.trigger,k=M.isEventDraggable,O=M.isEventResizable,H=M.eventEnd,A=M.reportEventElement,R=M.eventElementHandlers,I=M.showEvents,N=M.hideEvents,P=M.eventDrop,_=M.eventResize,Y=M.getRowCnt,W=M.getColCnt,B=(M.getColWidth,M.allDayRow),U=M.colLeft,V=M.colRight,J=M.colContentLeft,$=M.colContentRight,G=(M.dateToCell,M.getDaySegmentContainer),K=M.calendar.formatDates,Z=M.renderDayOverlay,X=M.clearOverlays,Q=M.clearSelection,et=M.getHoverListener,tt=M.rangeToSegments,nt=M.cellToDate,at=M.cellToCellOffset,rt=M.cellOffsetToDayOffset,it=M.dateToDayOffset,st=M.dayOffsetToCellOffset}function ft(e,t){for(var n=0;n<t.length;n++){var a=t[n];if(a.leftCol<=e.rightCol&&a.rightCol>=e.leftCol)return!0}return!1}function pt(e,t){for(var n=0;n<e.length;n++){var a=e[n],r=a.element;r&&t(a,r,n)}}function gt(e,t){return t.rightCol-t.leftCol-(e.rightCol-e.leftCol)||t.event.allDay-e.event.allDay||e.event.start-t.event.start||(e.event.title||"").localeCompare(t.event.title)}function vt(){function t(e,t,r){n(),t||(t=l(e,r)),c(e,t,r),a(e,t,r)}function n(e){d&&(d=!1,u(),o("unselect",null,e))}function a(e,t,n,a){d=!0,o("select",null,e,t,n,a)}function r(t){var r=i.cellToDate,o=i.getIsCellAllDay,l=i.getHoverListener(),d=i.reportDayClick;if(1==t.which&&s("selectable")){n(t);var h;l.start(function(e,t){u(),e&&o(e)?(h=[r(t),r(e)].sort(P),c(h[0],h[1],!0)):h=null},t),e(document).one("mouseup",function(e){l.stop(),h&&(+h[0]==+h[1]&&d(h[0],!0,e),a(h[0],h[1],!0,e))})}}var i=this;i.select=t,i.unselect=n,i.reportSelection=a,i.daySelectionMousedown=r;var s=i.opt,o=i.trigger,l=i.defaultSelectionEnd,c=i.renderSelection,u=i.clearSelection,d=!1;s("selectable")&&s("unselectAuto")&&e(document).mousedown(function(t){var a=s("unselectCancel");a&&e(t.target).parents(a).length||n(t)})}function mt(){function t(t,n){var a=i.shift();return a||(a=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),a[0].parentNode!=n[0]&&a.appendTo(n),r.push(a.css(t).show()),a}function n(){for(var e;e=r.shift();)i.push(e.hide().unbind())}var a=this;a.renderOverlay=t,a.clearOverlays=n;var r=[],i=[]}function yt(e){var t,n,a=this;a.build=function(){t=[],n=[],e(t,n)},a.cell=function(e,a){var r,i=t.length,s=n.length,o=-1,l=-1;for(r=0;i>r;r++)if(a>=t[r][0]&&a<t[r][1]){o=r;break}for(r=0;s>r;r++)if(e>=n[r][0]&&e<n[r][1]){l=r;break}return o>=0&&l>=0?{row:o,col:l}:null},a.rect=function(e,a,r,i,s){var o=s.offset();return{top:t[e][0]-o.top,left:n[a][0]-o.left,width:n[i][1]-n[a][0],height:t[r][1]-t[e][0]}}}function bt(t){function n(e){wt(e);var n=t.cell(e.pageX,e.pageY);(!n!=!s||n&&(n.row!=s.row||n.col!=s.col))&&(n?(i||(i=n),r(n,i,n.row-i.row,n.col-i.col)):r(n,i),s=n)}var a,r,i,s,o=this;o.start=function(o,l,c){r=o,i=s=null,t.build(),n(l),a=c||"mousemove",e(document).bind(a,n)},o.stop=function(){return e(document).unbind(a,n),s}}function wt(e){e.pageX===t&&(e.pageX=e.originalEvent.pageX,e.pageY=e.originalEvent.pageY)}function Dt(e){function n(t){return r[t]=r[t]||e(t)}var a=this,r={},i={},s={};a.left=function(e){return i[e]=i[e]===t?n(e).position().left:i[e]},a.right=function(e){return s[e]=s[e]===t?a.left(e)+n(e).width():s[e]},a.clear=function(){r={},i={},s={}}}var Ct={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},St={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},xt=e.fullCalendar={version:"1.6.4"},Mt=xt.views={};e.fn.fullCalendar=function(n){if("string"==typeof n){var r,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=e.data(this,"fullCalendar");if(a&&e.isFunction(a[n])){var s=a[n].apply(a,i);r===t&&(r=s),"destroy"==n&&e.removeData(this,"fullCalendar")}}),r!==t?r:this}n=n||{};var s=n.eventSources||[];return delete n.eventSources,n.events&&(s.push(n.events),delete n.events),n=e.extend(!0,{},Ct,n.isRTL||n.isRTL===t&&Ct.isRTL?St:{},n),this.each(function(t,r){var i=e(r),o=new a(i,n,s);i.data("fullCalendar",o),o.render()}),this},xt.sourceNormalizers=[],xt.sourceFetchers=[];var Ft={dataType:"json",cache:!1},Tt=1;xt.addDays=l,xt.cloneDate=h,xt.parseDate=v,xt.parseISO8601=m,xt.parseTime=y,xt.formatDate=b,xt.formatDates=w;var Et=["sun","mon","tue","wed","thu","fri","sat"],kt=864e5,Ot=36e5,Ht=6e4,At={s:function(e){return e.getSeconds()},ss:function(e){return _(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return _(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return _(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return _(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return _(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return _(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return e.getHours()<12?"a":"p"},tt:function(e){return e.getHours()<12?"am":"pm"},T:function(e){return e.getHours()<12?"A":"P"},TT:function(e){return e.getHours()<12?"AM":"PM"},u:function(e){return b(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){var t=e.getDate();return t>10&&20>t?"th":["st","nd","rd"][t%10-1]||"th"},w:function(e,t){return t.weekNumberCalculation(e)},W:function(e){return D(e)}};xt.dateFormatters=At,xt.applyAll=B,Mt.month=V,Mt.basicWeek=J,Mt.basicDay=$,n({weekMode:"fixed"}),Mt.agendaWeek=Z,Mt.agendaDay=X,n({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})}(jQuery),function(e,t){function n(t){e.extend(!0,Ct,t)}function a(n,a,c){function u(e){rt?v()&&(M(),S(e)):d()}function d(){it=a.theme?"ui":"fc",n.addClass("fc"),a.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),a.theme&&n.addClass("ui-widget"),rt=e("<div class='fc-content' style='position:relative'/>").prependTo(n),nt=new r(tt,a),at=nt.render(),at&&n.prepend(at),y(a.defaultView),a.handleWindowResize&&e(window).resize(T),m()||f()}function f(){setTimeout(function(){!st.start&&m()&&C()},0)}function p(){st&&(et("viewDestroy",st,st,st.element),st.triggerEventDestroy()),e(window).unbind("resize",T),nt.destroy(),rt.remove(),n.removeClass("fc fc-rtl ui-widget")}function v(){return n.is(":visible")}function m(){return e("body").is(":visible")}function y(e){st&&e==st.name||D(e)}function D(t){pt++,st&&(et("viewDestroy",st,st,st.element),j(),st.triggerEventDestroy(),K(),st.element.remove(),nt.deactivateButton(st.name)),nt.activateButton(t),st=new Mt[t](e("<div class='fc-view fc-view-"+t+"' style='position:relative'/>").appendTo(rt),tt),C(),Z(),pt--}function C(e){(!st.start||e||st.start>gt||gt>=st.end)&&v()&&S(e)}function S(e){pt++,st.start&&(et("viewDestroy",st,st,st.element),j(),A()),K(),st.render(gt,e||0),F(),Z(),(st.afterRender||N)(),_(),Y(),et("viewRender",st,st,st.element),st.trigger("viewDisplay",ht),pt--,R()}function x(){v()&&(j(),A(),M(),F(),O())}function M(){lt=a.contentHeight?a.contentHeight:a.height?a.height-(at?at.height():0)-H(rt):Math.round(rt.width()/Math.max(a.aspectRatio,.5))}function F(){lt===t&&M(),pt++,st.setHeight(lt),st.setWidth(rt.width()),pt--,ot=n.outerWidth()}function T(){if(!pt)if(st.start){var e=++ft;setTimeout(function(){e==ft&&!pt&&v()&&ot!=(ot=n.outerWidth())&&(pt++,x(),st.trigger("windowResize",ht),pt--)},200)}else f()}function E(){A(),I()}function k(e){A(),O(e)}function O(e){v()&&(st.setEventData(vt),st.renderEvents(vt,e),st.trigger("eventAfterAllRender"))}function A(){st.triggerEventDestroy(),st.clearEvents(),st.clearEventData()}function R(){!a.lazyFetching||ut(st.visStart,st.visEnd)?I():O()}function I(){dt(st.visStart,st.visEnd)}function P(e){vt=e,O()}function z(e){k(e)}function _(){nt.updateTitle(st.title)}function Y(){var e=new Date;e>=st.start&&st.end>e?nt.disableButton("today"):nt.enableButton("today")}function L(e,n,a){st.select(e,n,a===t?!0:a)}function j(){st&&st.unselect()}function W(){C(-1)}function q(){C(1)}function B(){s(gt,-1),C()}function U(){s(gt,1),C()}function V(){gt=new Date,C()}function J(e,t,n){e instanceof Date?gt=h(e):g(gt,e,t,n),C()}function $(e,n,a){e!==t&&s(gt,e),n!==t&&o(gt,n),a!==t&&l(gt,a),C()}function G(){return h(gt)}function K(){rt.css({width:"100%",height:rt.height(),overflow:"hidden"})}function Z(){rt.css({width:"",height:"",overflow:""})}function X(){return st}function Q(e,n){return n===t?a[e]:(("height"==e||"contentHeight"==e||"aspectRatio"==e)&&(a[e]=n,x()),t)}function et(e,n){return a[e]?a[e].apply(n||ht,Array.prototype.slice.call(arguments,2)):t}var tt=this;tt.options=a,tt.render=u,tt.destroy=p,tt.refetchEvents=E,tt.reportEvents=P,tt.reportEventChange=z,tt.rerenderEvents=k,tt.changeView=y,tt.select=L,tt.unselect=j,tt.prev=W,tt.next=q,tt.prevYear=B,tt.nextYear=U,tt.today=V,tt.gotoDate=J,tt.incrementDate=$,tt.formatDate=function(e,t){return b(e,t,a)},tt.formatDates=function(e,t,n){return w(e,t,n,a)},tt.getDate=G,tt.getView=X,tt.option=Q,tt.trigger=et,i.call(tt,a,c);var nt,at,rt,it,st,ot,lt,ct,ut=tt.isFetchNeeded,dt=tt.fetchEvents,ht=n[0],ft=0,pt=0,gt=new Date,vt=[];g(gt,a.year,a.month,a.date),a.droppable&&e(document).bind("dragstart",function(t,n){var r=t.target,i=e(r);if(!i.parents(".fc").length){var s=a.dropAccept;(e.isFunction(s)?s.call(r,i):i.is(s))&&(ct=r,st.dragStart(ct,t,n))}}).bind("dragstop",function(e,t){ct&&(st.dragStop(ct,e,t),ct=null)})}function r(n,a){function r(){f=a.theme?"ui":"fc";var n=a.header;return n?p=e("<table class='fc-header' style='width:100%'/>").append(e("<tr/>").append(s("left")).append(s("center")).append(s("right"))):t}function i(){p.remove()}function s(t){var r=e("<td class='fc-header-"+t+"'/>"),i=a.header[t];return i&&e.each(i.split(" "),function(t){t>0&&r.append("<span class='fc-header-space'/>");var i;e.each(this.split(","),function(t,s){if("title"==s)r.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),i&&i.addClass(f+"-corner-right"),i=null;else{var o;if(n[s]?o=n[s]:Mt[s]&&(o=function(){u.removeClass(f+"-state-hover"),n.changeView(s)}),o){var l=a.theme?Y(a.buttonIcons,s):null,c=Y(a.buttonText,s),u=e("<span class='fc-button fc-button-"+s+" "+f+"-state-default'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/></span>":c)+"</span>").click(function(){u.hasClass(f+"-state-disabled")||o()}).mousedown(function(){u.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){u.removeClass(f+"-state-down")}).hover(function(){u.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){u.removeClass(f+"-state-hover").removeClass(f+"-state-down")}).appendTo(r);j(u),i||u.addClass(f+"-corner-left"),i=u}}}),i&&i.addClass(f+"-corner-right")}),r}function o(e){p.find("h2").html(e)}function l(e){p.find("span.fc-button-"+e).addClass(f+"-state-active")}function c(e){p.find("span.fc-button-"+e).removeClass(f+"-state-active")}function u(e){p.find("span.fc-button-"+e).addClass(f+"-state-disabled")}function d(e){p.find("span.fc-button-"+e).removeClass(f+"-state-disabled")}var h=this;h.render=r,h.destroy=i,h.updateTitle=o,h.activateButton=l,h.deactivateButton=c,h.disableButton=u,h.enableButton=d;var f,p=e([])}function i(n,a){function r(e,t){return!x||x>e||t>M}function i(e,t){x=e,M=t,I=[];var n=++H,a=O.length;A=a;for(var r=0;a>r;r++)s(O[r],n)}function s(t,a){o(t,function(r){if(a==H){if(r){n.eventDataTransform&&(r=e.map(r,n.eventDataTransform)),t.eventDataTransform&&(r=e.map(r,t.eventDataTransform));for(var i=0;r.length>i;i++)r[i].source=t,b(r[i]);I=I.concat(r)}A--,A||E(I)}})}function o(a,r){var i,s,l=xt.sourceFetchers;for(i=0;l.length>i;i++){if(s=l[i](a,x,M,r),s===!0)return;if("object"==typeof s)return o(s,r),t}var c=a.events;if(c)e.isFunction(c)?(m(),c(h(x),h(M),function(e){r(e),y()})):e.isArray(c)?r(c):r();else{var u=a.url;if(u){var d,f=a.success,p=a.error,g=a.complete;d=e.isFunction(a.data)?a.data():a.data;var v=e.extend({},d||{}),b=U(a.startParam,n.startParam),w=U(a.endParam,n.endParam);b&&(v[b]=Math.round(+x/1e3)),w&&(v[w]=Math.round(+M/1e3)),m(),e.ajax(e.extend({},Ft,a,{data:v,success:function(t){t=t||[];var n=B(f,this,arguments);e.isArray(n)&&(t=n),r(t)},error:function(){B(p,this,arguments),r()},complete:function(){B(g,this,arguments),y()}}))}else r()}}function l(e){e=c(e),e&&(A++,s(e,H))}function c(n){return e.isFunction(n)||e.isArray(n)?n={events:n}:"string"==typeof n&&(n={url:n}),"object"==typeof n?(w(n),O.push(n),n):t}function u(t){O=e.grep(O,function(e){return!D(e,t)}),I=e.grep(I,function(e){return!D(e.source,t)}),E(I)}function d(e){var t,n,a=I.length,r=T().defaultEventEnd,i=e.start-e._start,s=e.end?e.end-(e._end||r(e)):0;for(t=0;a>t;t++)n=I[t],n._id==e._id&&n!=e&&(n.start=new Date(+n.start+i),n.end=e.end?n.end?new Date(+n.end+s):new Date(+r(n)+s):null,n.title=e.title,n.url=e.url,n.allDay=e.allDay,n.className=e.className,n.editable=e.editable,n.color=e.color,n.backgroundColor=e.backgroundColor,n.borderColor=e.borderColor,n.textColor=e.textColor,b(n));b(e),E(I)}function f(e,t){b(e),e.source||(t&&(k.events.push(e),e.source=k),I.push(e)),E(I)}function p(t){if(t){if(!e.isFunction(t)){var n=t+"";t=function(e){return e._id==n}}I=e.grep(I,t,!0);for(var a=0;O.length>a;a++)e.isArray(O[a].events)&&(O[a].events=e.grep(O[a].events,t,!0))}else{I=[];for(var a=0;O.length>a;a++)e.isArray(O[a].events)&&(O[a].events=[])}E(I)}function g(t){return e.isFunction(t)?e.grep(I,t):t?(t+="",e.grep(I,function(e){return e._id==t})):I}function m(){R++||F("loading",null,!0,T())}function y(){--R||F("loading",null,!1,T())}function b(e){var a=e.source||{},r=U(a.ignoreTimezone,n.ignoreTimezone);
e._id=e._id||(e.id===t?"_fc"+Tt++:e.id+""),e.date&&(e.start||(e.start=e.date),delete e.date),e._start=h(e.start=v(e.start,r)),e.end=v(e.end,r),e.end&&e.end<=e.start&&(e.end=null),e._end=e.end?h(e.end):null,e.allDay===t&&(e.allDay=U(a.allDayDefault,n.allDayDefault)),e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[]}function w(e){e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[];for(var t=xt.sourceNormalizers,n=0;t.length>n;n++)t[n](e)}function D(e,t){return e&&t&&C(e)==C(t)}function C(e){return("object"==typeof e?e.events||e.url:"")||e}var S=this;S.isFetchNeeded=r,S.fetchEvents=i,S.addEventSource=l,S.removeEventSource=u,S.updateEvent=d,S.renderEvent=f,S.removeEvents=p,S.clientEvents=g,S.normalizeEvent=b;for(var x,M,F=S.trigger,T=S.getView,E=S.reportEvents,k={events:[]},O=[k],H=0,A=0,R=0,I=[],N=0;a.length>N;N++)c(a[N])}function s(e,t,n){return e.setFullYear(e.getFullYear()+t),n||d(e),e}function o(e,t,n){if(+e){var a=e.getMonth()+t,r=h(e);for(r.setDate(1),r.setMonth(a),e.setMonth(a),n||d(e);e.getMonth()!=r.getMonth();)e.setDate(e.getDate()+(r>e?1:-1))}return e}function l(e,t,n){if(+e){var a=e.getDate()+t,r=h(e);r.setHours(9),r.setDate(a),e.setDate(a),n||d(e),c(e,r)}return e}function c(e,t){if(+e)for(;e.getDate()!=t.getDate();)e.setTime(+e+(t>e?1:-1)*Ot)}function u(e,t){return e.setMinutes(e.getMinutes()+t),e}function d(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function h(e,t){return t?d(new Date(+e)):new Date(+e)}function f(){var e,t=0;do e=new Date(1970,t++,1);while(e.getHours());return e}function p(e,t){return Math.round((h(e,!0)-h(t,!0))/kt)}function g(e,n,a,r){n!==t&&n!=e.getFullYear()&&(e.setDate(1),e.setMonth(0),e.setFullYear(n)),a!==t&&a!=e.getMonth()&&(e.setDate(1),e.setMonth(a)),r!==t&&e.setDate(r)}function v(e,n){return"object"==typeof e?e:"number"==typeof e?new Date(1e3*e):"string"==typeof e?e.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(e)):(n===t&&(n=!0),m(e,n)||(e?new Date(e):null)):null}function m(e,t){var n=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var a=new Date(n[1],0,1);if(t||!n[13]){var r=new Date(n[1],0,1,9,0);n[3]&&(a.setMonth(n[3]-1),r.setMonth(n[3]-1)),n[5]&&(a.setDate(n[5]),r.setDate(n[5])),c(a,r),n[7]&&a.setHours(n[7]),n[8]&&a.setMinutes(n[8]),n[10]&&a.setSeconds(n[10]),n[12]&&a.setMilliseconds(1e3*Number("0."+n[12])),c(a,r)}else if(a.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),a.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?1e3*Number("0."+n[12]):0),n[14]){var i=60*Number(n[16])+(n[18]?Number(n[18]):0);i*="-"==n[15]?1:-1,a=new Date(+a+6e4*i)}return a}function y(e){if("number"==typeof e)return 60*e;if("object"==typeof e)return 60*e.getHours()+e.getMinutes();var t=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(t){var n=parseInt(t[1],10);return t[3]&&(n%=12,"p"==t[3].toLowerCase().charAt(0)&&(n+=12)),60*n+(t[2]?parseInt(t[2],10):0)}}function b(e,t,n){return w(e,null,t,n)}function w(e,t,n,a){a=a||Ct;var r,i,s,o,l=e,c=t,u=n.length,d="";for(r=0;u>r;r++)if(i=n.charAt(r),"'"==i){for(s=r+1;u>s;s++)if("'"==n.charAt(s)){l&&(d+=s==r+1?"'":n.substring(r+1,s),r=s);break}}else if("("==i){for(s=r+1;u>s;s++)if(")"==n.charAt(s)){var h=b(l,n.substring(r+1,s),a);parseInt(h.replace(/\D/,""),10)&&(d+=h),r=s;break}}else if("["==i){for(s=r+1;u>s;s++)if("]"==n.charAt(s)){var f=n.substring(r+1,s),h=b(l,f,a);h!=b(c,f,a)&&(d+=h),r=s;break}}else if("{"==i)l=t,c=e;else if("}"==i)l=e,c=t;else{for(s=u;s>r;s--)if(o=At[n.substring(r,s)]){l&&(d+=o(l,a)),r=s-1;break}s==r&&l&&(d+=i)}return d}function D(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1}function C(e){return e.end?S(e.end,e.allDay):l(h(e.start),1)}function S(e,t){return e=h(e),t||e.getHours()||e.getMinutes()?l(e,1):d(e)}function x(n,a,r){n.unbind("mouseover").mouseover(function(n){for(var i,s,o,l=n.target;l!=this;)i=l,l=l.parentNode;(s=i._fci)!==t&&(i._fci=t,o=a[s],r(o.event,o.element,o),e(n.target).trigger(n)),n.stopPropagation()})}function M(t,n,a){for(var r,i=0;t.length>i;i++)r=e(t[i]),r.width(Math.max(0,n-T(r,a)))}function F(t,n,a){for(var r,i=0;t.length>i;i++)r=e(t[i]),r.height(Math.max(0,n-H(r,a)))}function T(e,t){return E(e)+O(e)+(t?k(e):0)}function E(t){return(parseFloat(e.css(t[0],"paddingLeft",!0))||0)+(parseFloat(e.css(t[0],"paddingRight",!0))||0)}function k(t){return(parseFloat(e.css(t[0],"marginLeft",!0))||0)+(parseFloat(e.css(t[0],"marginRight",!0))||0)}function O(t){return(parseFloat(e.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(e.css(t[0],"borderRightWidth",!0))||0)}function H(e,t){return A(e)+I(e)+(t?R(e):0)}function A(t){return(parseFloat(e.css(t[0],"paddingTop",!0))||0)+(parseFloat(e.css(t[0],"paddingBottom",!0))||0)}function R(t){return(parseFloat(e.css(t[0],"marginTop",!0))||0)+(parseFloat(e.css(t[0],"marginBottom",!0))||0)}function I(t){return(parseFloat(e.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(e.css(t[0],"borderBottomWidth",!0))||0)}function N(){}function P(e,t){return e-t}function z(e){return Math.max.apply(Math,e)}function _(e){return(10>e?"0":"")+e}function Y(e,n){if(e[n]!==t)return e[n];for(var a,r=n.split(/(?=[A-Z])/),i=r.length-1;i>=0;i--)if(a=e[r[i].toLowerCase()],a!==t)return a;return e[""]}function L(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function j(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function W(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function q(e,t){var n=e.source||{},a=e.color,r=n.color,i=t("eventColor"),s=e.backgroundColor||a||n.backgroundColor||r||t("eventBackgroundColor")||i,o=e.borderColor||a||n.borderColor||r||t("eventBorderColor")||i,l=e.textColor||n.textColor||t("eventTextColor"),c=[];return s&&c.push("background-color:"+s),o&&c.push("border-color:"+o),l&&c.push("color:"+l),c.join(";")}function B(t,n,a){if(e.isFunction(t)&&(t=[t]),t){var r,i;for(r=0;t.length>r;r++)i=t[r].apply(n,a)||i;return i}}function U(){for(var e=0;arguments.length>e;e++)if(arguments[e]!==t)return arguments[e]}function V(e,t){function n(e,t){t&&(o(e,t),e.setDate(1));var n=r("firstDay"),d=h(e,!0);d.setDate(1);var f=o(h(d),1),g=h(d);l(g,-((g.getDay()-n+7)%7)),s(g);var v=h(f);l(v,(7-v.getDay()+n)%7),s(v,-1,!0);var m=c(),y=Math.round(p(v,g)/7);"fixed"==r("weekMode")&&(l(v,7*(6-y)),y=6),a.title=u(d,r("titleFormat")),a.start=d,a.end=f,a.visStart=g,a.visEnd=v,i(y,m,!0)}var a=this;a.render=n,G.call(a,e,t,"month");var r=a.opt,i=a.renderBasic,s=a.skipHiddenDays,c=a.getCellsPerWeek,u=t.formatDate}function J(e,t){function n(e,t){t&&l(e,7*t);var n=l(h(e),-((e.getDay()-r("firstDay")+7)%7)),u=l(h(n),7),d=h(n);s(d);var f=h(u);s(f,-1,!0);var p=o();a.start=n,a.end=u,a.visStart=d,a.visEnd=f,a.title=c(d,l(h(f),-1),r("titleFormat")),i(1,p,!1)}var a=this;a.render=n,G.call(a,e,t,"basicWeek");var r=a.opt,i=a.renderBasic,s=a.skipHiddenDays,o=a.getCellsPerWeek,c=t.formatDates}function $(e,t){function n(e,t){t&&l(e,t),s(e,0>t?-1:1);var n=h(e,!0),c=l(h(n),1);a.title=o(e,r("titleFormat")),a.start=a.visStart=n,a.end=a.visEnd=c,i(1,1,!1)}var a=this;a.render=n,G.call(a,e,t,"basicDay");var r=a.opt,i=a.renderBasic,s=a.skipHiddenDays,o=t.formatDate}function G(t,n,a){function r(e,t,n){tt=e,nt=t,at=n,i(),q||s(),o()}function i(){lt=pt("theme")?"ui":"fc",ct=pt("columnFormat"),ut=pt("weekNumbers"),ht=pt("weekNumberTitle"),ft="iso"!=pt("weekNumberCalculation")?"w":"W"}function s(){G=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function o(){var n=c();z&&z.remove(),z=e(n).appendTo(t),_=z.find("thead"),Y=_.find(".fc-day-header"),q=z.find("tbody"),B=q.find("tr"),U=q.find(".fc-day"),V=B.find("td:first-child"),J=B.eq(0).find(".fc-day > div"),$=B.eq(0).find(".fc-day-content > div"),W(_.add(_.find("tr"))),W(B),B.eq(0).addClass("fc-first"),B.filter(":last").addClass("fc-last"),U.each(function(t,n){var a=xt(Math.floor(t/nt),t%nt);gt("dayRender",P,a,e(n))}),y(U)}function c(){var e="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+u()+f()+"</table>";return e}function u(){var e,t,n=lt+"-widget-header",a="";for(a+="<thead><tr>",ut&&(a+="<th class='fc-week-number "+n+"'>"+L(ht)+"</th>"),e=0;nt>e;e++)t=xt(0,e),a+="<th class='fc-day-header fc-"+Et[t.getDay()]+" "+n+"'>"+L(Tt(t,ct))+"</th>";return a+="</tr></thead>"}function f(){var e,t,n,a=lt+"-widget-content",r="";for(r+="<tbody>",e=0;tt>e;e++){for(r+="<tr class='fc-week'>",ut&&(n=xt(e,0),r+="<td class='fc-week-number "+a+"'><div>"+L(Tt(n,ft))+"</div></td>"),t=0;nt>t;t++)n=xt(e,t),r+=p(n);r+="</tr>"}return r+="</tbody>"}function p(e){var t=lt+"-widget-content",n=P.start.getMonth(),a=d(new Date),r="",i=["fc-day","fc-"+Et[e.getDay()],t];return e.getMonth()!=n&&i.push("fc-other-month"),+e==+a?i.push("fc-today",lt+"-state-highlight"):a>e?i.push("fc-past"):i.push("fc-future"),r+="<td class='"+i.join(" ")+"' data-date='"+Tt(e,"yyyy-MM-dd")+"'><div>",at&&(r+="<div class='fc-day-number'>"+e.getDate()+"</div>"),r+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function g(t){X=t;var n,a,r,i=X-_.height();"variable"==pt("weekMode")?n=a=Math.floor(i/(1==tt?2:6)):(n=Math.floor(i/tt),a=i-n*(tt-1)),V.each(function(t,i){tt>t&&(r=e(i),r.find("> div").css("min-height",(t==tt-1?a:n)-H(r)))})}function v(e){Z=e,st.clear(),ot.clear(),et=0,ut&&(et=_.find("th.fc-week-number").outerWidth()),Q=Math.floor((Z-et)/nt),M(Y.slice(0,-1),Q)}function y(e){e.click(b).mousedown(St)}function b(t){if(!pt("selectable")){var n=m(e(this).data("date"));gt("dayClick",this,n,!0,t)}}function w(e,t,n){n&&rt.build();for(var a=Ft(e,t),r=0;a.length>r;r++){var i=a[r];y(D(i.row,i.leftCol,i.row,i.rightCol))}}function D(e,n,a,r){var i=rt.rect(e,n,a,r,t);return wt(i,t)}function C(e){return h(e)}function S(e,t){w(e,l(h(t),1),!0)}function x(){Ct()}function F(e,t,n){var a=Mt(e),r=U[a.row*nt+a.col];gt("dayClick",r,e,t,n)}function T(e,t){it.start(function(e){Ct(),e&&D(e.row,e.col,e.row,e.col)},t)}function E(e,t,n){var a=it.stop();if(Ct(),a){var r=xt(a);gt("drop",e,r,!0,t,n)}}function k(e){return h(e.start)}function O(e){return st.left(e)}function A(e){return st.right(e)}function R(e){return ot.left(e)}function I(e){return ot.right(e)}function N(e){return B.eq(e)}var P=this;P.renderBasic=r,P.setHeight=g,P.setWidth=v,P.renderDayOverlay=w,P.defaultSelectionEnd=C,P.renderSelection=S,P.clearSelection=x,P.reportDayClick=F,P.dragStart=T,P.dragStop=E,P.defaultEventEnd=k,P.getHoverListener=function(){return it},P.colLeft=O,P.colRight=A,P.colContentLeft=R,P.colContentRight=I,P.getIsCellAllDay=function(){return!0},P.allDayRow=N,P.getRowCnt=function(){return tt},P.getColCnt=function(){return nt},P.getColWidth=function(){return Q},P.getDaySegmentContainer=function(){return G},dt.call(P,t,n,a),mt.call(P),vt.call(P),K.call(P);var z,_,Y,q,B,U,V,J,$,G,Z,X,Q,et,tt,nt,at,rt,it,st,ot,lt,ct,ut,ht,ft,pt=P.opt,gt=P.trigger,wt=P.renderOverlay,Ct=P.clearOverlays,St=P.daySelectionMousedown,xt=P.cellToDate,Mt=P.dateToCell,Ft=P.rangeToSegments,Tt=n.formatDate;j(t.addClass("fc-grid")),rt=new yt(function(t,n){var a,r,i;Y.each(function(t,s){a=e(s),r=a.offset().left,t&&(i[1]=r),i=[r],n[t]=i}),i[1]=r+a.outerWidth(),B.each(function(n,s){tt>n&&(a=e(s),r=a.offset().top,n&&(i[1]=r),i=[r],t[n]=i)}),i[1]=r+a.outerHeight()}),it=new bt(rt),st=new Dt(function(e){return J.eq(e)}),ot=new Dt(function(e){return $.eq(e)})}function K(){function e(e,t){n.renderDayEvents(e,t)}function t(){n.getDaySegmentContainer().empty()}var n=this;n.renderEvents=e,n.clearEvents=t,ht.call(n)}function Z(e,t){function n(e,t){t&&l(e,7*t);var n=l(h(e),-((e.getDay()-r("firstDay")+7)%7)),u=l(h(n),7),d=h(n);s(d);var f=h(u);s(f,-1,!0);var p=o();a.title=c(d,l(h(f),-1),r("titleFormat")),a.start=n,a.end=u,a.visStart=d,a.visEnd=f,i(p)}var a=this;a.render=n,Q.call(a,e,t,"agendaWeek");var r=a.opt,i=a.renderAgenda,s=a.skipHiddenDays,o=a.getCellsPerWeek,c=t.formatDates}function X(e,t){function n(e,t){t&&l(e,t),s(e,0>t?-1:1);var n=h(e,!0),c=l(h(n),1);a.title=o(e,r("titleFormat")),a.start=a.visStart=n,a.end=a.visEnd=c,i(1)}var a=this;a.render=n,Q.call(a,e,t,"agendaDay");var r=a.opt,i=a.renderAgenda,s=a.skipHiddenDays,o=t.formatDate}function Q(n,a,r){function i(e){It=e,s(),Q?c():o()}function s(){Lt=$t("theme")?"ui":"fc",jt=$t("isRTL"),Wt=y($t("minTime")),qt=y($t("maxTime")),Bt=$t("columnFormat"),Ut=$t("weekNumbers"),Vt=$t("weekNumberTitle"),Jt="iso"!=$t("weekNumberCalculation")?"w":"W",Ht=$t("snapMinutes")||$t("slotMinutes")}function o(){var t,a,r,i,s,o=Lt+"-widget-header",l=Lt+"-widget-content",d=0==$t("slotMinutes")%15;for(c(),ct=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),$t("allDaySlot")?(ut=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ct),t="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+o+" fc-agenda-axis'>"+$t("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+o+" fc-agenda-gutter'>&nbsp;</th></tr></table>",ht=e(t).appendTo(ct),ft=ht.find("tr"),C(ft.find("td")),ct.append("<div class='fc-agenda-divider "+o+"'><div class='fc-agenda-divider-inner'/></div>")):ut=e([]),pt=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ct),gt=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(pt),wt=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(gt),t="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",a=f(),i=u(h(a),qt),u(a,Wt),Nt=0,r=0;i>a;r++)s=a.getMinutes(),t+="<tr class='fc-slot"+r+" "+(s?"fc-minor":"")+"'><th class='fc-agenda-axis "+o+"'>"+(d&&s?"&nbsp;":sn(a,$t("axisFormat")))+"</th><td class='"+l+"'><div style='position:relative'>&nbsp;</div></td></tr>",u(a,$t("slotMinutes")),Nt++;t+="</tbody></table>",Ct=e(t).appendTo(gt),S(Ct.find("td"))}function c(){var t=p();Q&&Q.remove(),Q=e(t).appendTo(n),tt=Q.find("thead"),nt=tt.find("th").slice(1,-1),at=Q.find("tbody"),rt=at.find("td").slice(0,-1),it=rt.find("> div"),st=rt.find(".fc-day-content > div"),ot=rt.eq(0),lt=it.eq(0),W(tt.add(tt.find("tr"))),W(at.add(at.find("tr")))}function p(){var e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+g()+v()+"</table>";return e}function g(){var e,t,n,a=Lt+"-widget-header",r="";for(r+="<thead><tr>",Ut?(e=nn(0,0),t=sn(e,Jt),jt?t+=Vt:t=Vt+t,r+="<th class='fc-agenda-axis fc-week-number "+a+"'>"+L(t)+"</th>"):r+="<th class='fc-agenda-axis "+a+"'>&nbsp;</th>",n=0;It>n;n++)e=nn(0,n),r+="<th class='fc-"+Et[e.getDay()]+" fc-col"+n+" "+a+"'>"+L(sn(e,Bt))+"</th>";return r+="<th class='fc-agenda-gutter "+a+"'>&nbsp;</th></tr></thead>"}function v(){var e,t,n,a,r,i=Lt+"-widget-header",s=Lt+"-widget-content",o=d(new Date),l="";for(l+="<tbody><tr><th class='fc-agenda-axis "+i+"'>&nbsp;</th>",n="",t=0;It>t;t++)e=nn(0,t),r=["fc-col"+t,"fc-"+Et[e.getDay()],s],+e==+o?r.push(Lt+"-state-highlight","fc-today"):o>e?r.push("fc-past"):r.push("fc-future"),a="<td class='"+r.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",n+=a;return l+=n,l+="<td class='fc-agenda-gutter "+s+"'>&nbsp;</td></tr></tbody>"}function m(e){e===t&&(e=Mt),Mt=e,on={};var n=at.position().top,a=pt.position().top,r=Math.min(e-n,Ct.height()+a+1);lt.height(r-H(ot)),ct.css("top",n),pt.height(r-a-1),Ot=Ct.find("tr:first").height()+1,At=$t("slotMinutes")/Ht,Rt=Ot/At}function b(t){xt=t,_t.clear(),Yt.clear();var n=tt.find("th:first");ht&&(n=n.add(ht.find("th:first"))),n=n.add(Ct.find("th:first")),Ft=0,M(n.width("").each(function(t,n){Ft=Math.max(Ft,e(n).outerWidth())}),Ft);var a=Q.find(".fc-agenda-gutter");ht&&(a=a.add(ht.find("th.fc-agenda-gutter")));var r=pt[0].clientWidth;kt=pt.width()-r,kt?(M(a,kt),a.show().prev().removeClass("fc-last")):a.hide().prev().addClass("fc-last"),Tt=Math.floor((r-Ft)/It),M(nt.slice(0,-1),Tt)}function w(){function e(){pt.scrollTop(a)}var t=f(),n=h(t);n.setHours($t("firstHour"));var a=_(t,n)+1;e(),setTimeout(e,0)}function D(){w()}function C(e){e.click(x).mousedown(en)}function S(e){e.click(x).mousedown($)}function x(e){if(!$t("selectable")){var t=Math.min(It-1,Math.floor((e.pageX-Q.offset().left-Ft)/Tt)),n=nn(0,t),a=this.parentNode.className.match(/fc-slot(\d+)/);if(a){var r=parseInt(a[1])*$t("slotMinutes"),i=Math.floor(r/60);n.setHours(i),n.setMinutes(r%60+Wt),Gt("dayClick",rt[t],n,!1,e)}else Gt("dayClick",rt[t],n,!0,e)}}function T(e,t,n){n&&Pt.build();for(var a=rn(e,t),r=0;a.length>r;r++){var i=a[r];C(E(i.row,i.leftCol,i.row,i.rightCol))}}function E(e,t,n,a){var r=Pt.rect(e,t,n,a,ct);return Kt(r,ct)}function k(e,t){for(var n=0;It>n;n++){var a=nn(0,n),r=l(h(a),1),i=new Date(Math.max(a,e)),s=new Date(Math.min(r,t));if(s>i){var o=Pt.rect(0,n,0,n,gt),c=_(a,i),u=_(a,s);o.top=c,o.height=u-c,S(Kt(o,gt))}}}function O(e){return _t.left(e)}function A(e){return Yt.left(e)}function R(e){return _t.right(e)}function I(e){return Yt.right(e)}function N(e){return $t("allDaySlot")&&!e.row}function z(e){var t=nn(0,e.col),n=e.row;return $t("allDaySlot")&&n--,n>=0&&u(t,Wt+n*Ht),t}function _(e,n){if(e=h(e,!0),u(h(e),Wt)>n)return 0;if(n>=u(h(e),qt))return Ct.height();var a=$t("slotMinutes"),r=60*n.getHours()+n.getMinutes()-Wt,i=Math.floor(r/a),s=on[i];return s===t&&(s=on[i]=Ct.find("tr").eq(i).find("td div")[0].offsetTop),Math.max(0,Math.round(s-1+Ot*(r%a/a)))}function Y(){return ft}function q(e){var t=h(e.start);return e.allDay?t:u(t,$t("defaultEventMinutes"))}function B(e,t){return t?h(e):u(h(e),$t("slotMinutes"))}function U(e,t,n){n?$t("allDaySlot")&&T(e,l(h(t),1),!0):V(e,t)}function V(t,n){var a=$t("selectHelper");if(Pt.build(),a){var r=an(t).col;if(r>=0&&It>r){var i=Pt.rect(0,r,0,r,gt),s=_(t,t),o=_(t,n);if(o>s){if(i.top=s,i.height=o-s,i.left+=2,i.width-=5,e.isFunction(a)){var l=a(t,n);l&&(i.position="absolute",St=e(l).css(i).appendTo(gt))}else i.isStart=!0,i.isEnd=!0,St=e(tn({title:"",start:t,end:n,className:["fc-select-helper"],editable:!1},i)),St.css("opacity",$t("dragOpacity"));St&&(S(St),gt.append(St),M(St,i.width,!0),F(St,i.height,!0))}}}else k(t,n)}function J(){Zt(),St&&(St.remove(),St=null)}function $(t){if(1==t.which&&$t("selectable")){Qt(t);var n;zt.start(function(e,t){if(J(),e&&e.col==t.col&&!N(e)){var a=z(t),r=z(e);n=[a,u(h(a),Ht),r,u(h(r),Ht)].sort(P),V(n[0],n[3])}else n=null},t),e(document).one("mouseup",function(e){zt.stop(),n&&(+n[0]==+n[1]&&G(n[0],!1,e),Xt(n[0],n[3],!1,e))})}}function G(e,t,n){Gt("dayClick",rt[an(e).col],e,t,n)}function K(e,t){zt.start(function(e){if(Zt(),e)if(N(e))E(e.row,e.col,e.row,e.col);else{var t=z(e),n=u(h(t),$t("defaultEventMinutes"));k(t,n)}},t)}function Z(e,t,n){var a=zt.stop();Zt(),a&&Gt("drop",e,z(a),N(a),t,n)}var X=this;X.renderAgenda=i,X.setWidth=b,X.setHeight=m,X.afterRender=D,X.defaultEventEnd=q,X.timePosition=_,X.getIsCellAllDay=N,X.allDayRow=Y,X.getCoordinateGrid=function(){return Pt},X.getHoverListener=function(){return zt},X.colLeft=O,X.colRight=R,X.colContentLeft=A,X.colContentRight=I,X.getDaySegmentContainer=function(){return ut},X.getSlotSegmentContainer=function(){return wt},X.getMinMinute=function(){return Wt},X.getMaxMinute=function(){return qt},X.getSlotContainer=function(){return gt},X.getRowCnt=function(){return 1},X.getColCnt=function(){return It},X.getColWidth=function(){return Tt},X.getSnapHeight=function(){return Rt},X.getSnapMinutes=function(){return Ht},X.defaultSelectionEnd=B,X.renderDayOverlay=T,X.renderSelection=U,X.clearSelection=J,X.reportDayClick=G,X.dragStart=K,X.dragStop=Z,dt.call(X,n,a,r),mt.call(X),vt.call(X),et.call(X);var Q,tt,nt,at,rt,it,st,ot,lt,ct,ut,ht,ft,pt,gt,wt,Ct,St,xt,Mt,Ft,Tt,kt,Ot,Ht,At,Rt,It,Nt,Pt,zt,_t,Yt,Lt,jt,Wt,qt,Bt,Ut,Vt,Jt,$t=X.opt,Gt=X.trigger,Kt=X.renderOverlay,Zt=X.clearOverlays,Xt=X.reportSelection,Qt=X.unselect,en=X.daySelectionMousedown,tn=X.slotSegHtml,nn=X.cellToDate,an=X.dateToCell,rn=X.rangeToSegments,sn=a.formatDate,on={};j(n.addClass("fc-agenda")),Pt=new yt(function(t,n){function a(e){return Math.max(l,Math.min(c,e))}var r,i,s;nt.each(function(t,a){r=e(a),i=r.offset().left,t&&(s[1]=i),s=[i],n[t]=s}),s[1]=i+r.outerWidth(),$t("allDaySlot")&&(r=ft,i=r.offset().top,t[0]=[i,i+r.outerHeight()]);for(var o=gt.offset().top,l=pt.offset().top,c=l+pt.outerHeight(),u=0;Nt*At>u;u++)t.push([a(o+Rt*u),a(o+Rt*(u+1))])}),zt=new bt(Pt),_t=new Dt(function(e){return it.eq(e)}),Yt=new Dt(function(e){return st.eq(e)})}function et(){function n(e,t){var n,a=e.length,i=[],s=[];for(n=0;a>n;n++)e[n].allDay?i.push(e[n]):s.push(e[n]);y("allDaySlot")&&(et(i,t),E()),o(r(s),t)}function a(){k().empty(),O().empty()}function r(t){var n,a,r,o,l,c=j(),d=I(),f=R(),p=e.map(t,s),g=[];for(a=0;c>a;a++)for(n=Y(0,a),u(n,d),l=i(t,p,n,u(h(n),f-d)),l=tt(l),r=0;l.length>r;r++)o=l[r],o.col=a,g.push(o);return g}function i(e,t,n,a){var r,i,s,o,l,c,u,d,f=[],p=e.length;for(r=0;p>r;r++)i=e[r],s=i.start,o=t[r],o>n&&a>s&&(n>s?(l=h(n),u=!1):(l=s,u=!0),o>a?(c=h(a),d=!1):(c=o,d=!0),f.push({event:i,start:l,end:c,isStart:u,isEnd:d}));return f.sort(ut)}function s(e){return e.end?h(e.end):u(h(e.start),y("defaultEventMinutes"))}function o(n,a){var r,i,s,o,l,u,h,f,p,g,v,m,w,D,C,S,M=n.length,F="",E=O(),k=y("isRTL");for(r=0;M>r;r++)i=n[r],s=i.event,o=N(i.start,i.start),l=N(i.start,i.end),u=z(i.col),h=_(i.col),f=h-u,h-=.025*f,f=h-u,p=f*(i.forwardCoord-i.backwardCoord),y("slotEventOverlap")&&(p=Math.max(2*(p-10),p)),k?(v=h-i.backwardCoord*f,g=v-p):(g=u+i.backwardCoord*f,v=g+p),g=Math.max(g,u),v=Math.min(v,h),p=v-g,i.top=o,i.left=g,i.outerWidth=p,i.outerHeight=l-o,F+=c(s,i);for(E[0].innerHTML=F,m=E.children(),r=0;M>r;r++)i=n[r],s=i.event,w=e(m[r]),D=b("eventRender",s,s,w),D===!1?w.remove():(D&&D!==!0&&(w.remove(),w=e(D).css({position:"absolute",top:i.top,left:i.left}).appendTo(E)),i.element=w,s._id===a?d(s,w,i):w[0]._fci=r,J(s,w));for(x(E,n,d),r=0;M>r;r++)i=n[r],(w=i.element)&&(i.vsides=H(w,!0),i.hsides=T(w,!0),C=w.find(".fc-event-title"),C.length&&(i.contentTop=C[0].offsetTop));for(r=0;M>r;r++)i=n[r],(w=i.element)&&(w[0].style.width=Math.max(0,i.outerWidth-i.hsides)+"px",S=Math.max(0,i.outerHeight-i.vsides),w[0].style.height=S+"px",s=i.event,i.contentTop!==t&&10>S-i.contentTop&&(w.find("div.fc-event-time").text(at(s.start,y("timeFormat"))+" - "+s.title),w.find("div.fc-event-title").remove()),b("eventAfterRender",s,s,w))}function c(e,t){var n="<",a=e.url,r=q(e,y),i=["fc-event","fc-event-vert"];return w(e)&&i.push("fc-event-draggable"),t.isStart&&i.push("fc-event-start"),t.isEnd&&i.push("fc-event-end"),i=i.concat(e.className),e.source&&(i=i.concat(e.source.className||[])),n+=a?"a href='"+L(e.url)+"'":"div",n+=" class='"+i.join(" ")+"' style='position:absolute;top:"+t.top+"px;left:"+t.left+"px;"+r+"'><div class='fc-event-inner'><div class='fc-event-time'>"+L(rt(e.start,e.end,y("timeFormat")))+"</div><div class='fc-event-title'>"+L(e.title||"")+"</div></div><div class='fc-event-bg'></div>",t.isEnd&&D(e)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(a?"a":"div")+">"}function d(e,t,n){var a=t.find("div.fc-event-time");w(e)&&g(e,t,a),n.isEnd&&D(e)&&v(e,t,a),M(e,t)}function f(e,t,n){function a(){c||(t.width(r).height("").draggable("option","grid",null),c=!0)}var r,i,s,o=n.isStart,c=!0,u=A(),d=W(),f=B(),g=U(),v=I();t.draggable({opacity:y("dragOpacity","month"),revertDuration:y("dragRevertDuration"),start:function(n,v){b("eventDragStart",t,e,n,v),G(e,t),r=t.width(),u.start(function(n,r){if(Q(),n){i=!1;var u=Y(0,r.col),v=Y(0,n.col);s=p(v,u),n.row?o?c&&(t.width(d-10),F(t,f*Math.round((e.end?(e.end-e.start)/Ht:y("defaultEventMinutes"))/g)),t.draggable("option","grid",[d,1]),c=!1):i=!0:(X(l(h(e.start),s),l(C(e),s)),a()),i=i||c&&!s}else a(),i=!0;t.draggable("option","revert",i)},n,"drag")},stop:function(n,r){if(u.stop(),Q(),b("eventDragStop",t,e,n,r),i)a(),t.css("filter",""),$(e,t);else{var o=0;c||(o=Math.round((t.offset().top-V().offset().top)/f)*g+v-(60*e.start.getHours()+e.start.getMinutes())),K(this,e,s,o,c,n,r)}}})}function g(e,t,n){function a(){Q(),o&&(d?(n.hide(),t.draggable("option","grid",null),X(l(h(e.start),w),l(C(e),w))):(r(D),n.css("display",""),t.draggable("option","grid",[F,T])))}function r(t){var a,r=u(h(e.start),t);e.end&&(a=u(h(e.end),t)),n.text(rt(r,a,y("timeFormat")))}var i,s,o,c,d,f,g,v,w,D,S,x=m.getCoordinateGrid(),M=j(),F=W(),T=B(),E=U();t.draggable({scroll:!1,grid:[F,T],axis:1==M?"y":!1,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(n,a){b("eventDragStart",t,e,n,a),G(e,t),x.build(),i=t.position(),s=x.cell(n.pageX,n.pageY),o=c=!0,d=f=P(s),g=v=0,w=0,D=S=0},drag:function(e,n){var r=x.cell(e.pageX,e.pageY);if(o=!!r){if(d=P(r),g=Math.round((n.position.left-i.left)/F),g!=v){var l=Y(0,s.col),u=s.col+g;u=Math.max(0,u),u=Math.min(M-1,u);var h=Y(0,u);w=p(h,l)}d||(D=Math.round((n.position.top-i.top)/T)*E)}(o!=c||d!=f||g!=v||D!=S)&&(a(),c=o,f=d,v=g,S=D),t.draggable("option","revert",!o)},stop:function(n,r){Q(),b("eventDragStop",t,e,n,r),o&&(d||w||D)?K(this,e,w,d?0:D,d,n,r):(o=!0,d=!1,g=0,w=0,D=0,a(),t.css("filter",""),t.css(i),$(e,t))}})}function v(e,t,n){var a,r,i=B(),s=U();t.resizable({handles:{s:".ui-resizable-handle"},grid:i,start:function(n,i){a=r=0,G(e,t),b("eventResizeStart",this,e,n,i)},resize:function(o,l){a=Math.round((Math.max(i,t.height())-l.originalSize.height)/i),a!=r&&(n.text(rt(e.start,a||e.end?u(S(e),s*a):null,y("timeFormat"))),r=a)},stop:function(n,r){b("eventResizeStop",this,e,n,r),a?Z(this,e,0,s*a,n,r):$(e,t)}})}var m=this;m.renderEvents=n,m.clearEvents=a,m.slotSegHtml=c,ht.call(m);var y=m.opt,b=m.trigger,w=m.isEventDraggable,D=m.isEventResizable,S=m.eventEnd,M=m.eventElementHandlers,E=m.setHeight,k=m.getDaySegmentContainer,O=m.getSlotSegmentContainer,A=m.getHoverListener,R=m.getMaxMinute,I=m.getMinMinute,N=m.timePosition,P=m.getIsCellAllDay,z=m.colContentLeft,_=m.colContentRight,Y=m.cellToDate,j=m.getColCnt,W=m.getColWidth,B=m.getSnapHeight,U=m.getSnapMinutes,V=m.getSlotContainer,J=m.reportEventElement,$=m.showEvents,G=m.hideEvents,K=m.eventDrop,Z=m.eventResize,X=m.renderDayOverlay,Q=m.clearOverlays,et=m.renderDayEvents,nt=m.calendar,at=nt.formatDate,rt=nt.formatDates;m.draggableDayEvent=f}function tt(e){var t,n=nt(e),a=n[0];if(at(n),a){for(t=0;a.length>t;t++)rt(a[t]);for(t=0;a.length>t;t++)it(a[t],0,0)}return st(n)}function nt(e){var t,n,a,r=[];for(t=0;e.length>t;t++){for(n=e[t],a=0;r.length>a&&ot(n,r[a]).length;a++);(r[a]||(r[a]=[])).push(n)}return r}function at(e){var t,n,a,r,i;for(t=0;e.length>t;t++)for(n=e[t],a=0;n.length>a;a++)for(r=n[a],r.forwardSegs=[],i=t+1;e.length>i;i++)ot(r,e[i],r.forwardSegs)}function rt(e){var n,a,r=e.forwardSegs,i=0;if(e.forwardPressure===t){for(n=0;r.length>n;n++)a=r[n],rt(a),i=Math.max(i,1+a.forwardPressure);e.forwardPressure=i}}function it(e,n,a){var r,i=e.forwardSegs;if(e.forwardCoord===t)for(i.length?(i.sort(ct),it(i[0],n+1,a),e.forwardCoord=i[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-a)/(n+1),r=0;i.length>r;r++)it(i[r],0,e.forwardCoord)}function st(e){var t,n,a,r=[];for(t=0;e.length>t;t++)for(n=e[t],a=0;n.length>a;a++)r.push(n[a]);return r}function ot(e,t,n){n=n||[];for(var a=0;t.length>a;a++)lt(e,t[a])&&n.push(t[a]);return n}function lt(e,t){return e.end>t.start&&e.start<t.end}function ct(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||ut(e,t)}function ut(e,t){return e.start-t.start||t.end-t.start-(e.end-e.start)||(e.event.title||"").localeCompare(t.event.title)}function dt(n,a,r){function i(t,n){var a=J[t];return e.isPlainObject(a)?Y(a,n||r):a}function s(e,t){return a.trigger.apply(a,[e,t||_].concat(Array.prototype.slice.call(arguments,2),[_]))}function o(e){var t=e.source||{};return U(e.startEditable,t.startEditable,i("eventStartEditable"),e.editable,t.editable,i("editable"))&&!i("disableDragging")}function c(e){var t=e.source||{};return U(e.durationEditable,t.durationEditable,i("eventDurationEditable"),e.editable,t.editable,i("editable"))&&!i("disableResizing")}function d(e){q={};var t,n,a=e.length;for(t=0;a>t;t++)n=e[t],q[n._id]?q[n._id].push(n):q[n._id]=[n]}function f(){q={},B={},V=[]}function g(e){return e.end?h(e.end):L(e)}function v(e,t){V.push({event:e,element:t}),B[e._id]?B[e._id].push(t):B[e._id]=[t]}function m(){e.each(V,function(e,t){_.trigger("eventDestroy",t.event,t.event,t.element)})}function y(e,n){n.click(function(a){return n.hasClass("ui-draggable-dragging")||n.hasClass("ui-resizable-resizing")?t:s("eventClick",this,e,a)}).hover(function(t){s("eventMouseover",this,e,t)},function(t){s("eventMouseout",this,e,t)})}function b(e,t){D(e,t,"show")}function w(e,t){D(e,t,"hide")}function D(e,t,n){var a,r=B[e._id],i=r.length;for(a=0;i>a;a++)t&&r[a][0]==t[0]||r[a][n]()}function C(e,t,n,a,r,i,o){var l=t.allDay,c=t._id;x(q[c],n,a,r),s("eventDrop",e,t,n,a,r,function(){x(q[c],-n,-a,l),W(c)},i,o),W(c)}function S(e,t,n,a,r,i){var o=t._id;M(q[o],n,a),s("eventResize",e,t,n,a,function(){M(q[o],-n,-a),W(o)},r,i),W(o)}function x(e,n,a,r){a=a||0;for(var i,s=e.length,o=0;s>o;o++)i=e[o],r!==t&&(i.allDay=r),u(l(i.start,n,!0),a),i.end&&(i.end=u(l(i.end,n,!0),a)),j(i,J)}function M(e,t,n){n=n||0;for(var a,r=e.length,i=0;r>i;i++)a=e[i],a.end=u(l(g(a),t,!0),n),j(a,J)}function F(e){return"object"==typeof e&&(e=e.getDay()),K[e]}function T(){return $}function E(e,t,n){for(t=t||1;K[(e.getDay()+(n?t:0)+7)%7];)l(e,t)}function k(){var e=O.apply(null,arguments),t=H(e),n=A(t);return n}function O(e,t){var n=_.getColCnt(),a=Q?-1:1,r=Q?n-1:0;"object"==typeof e&&(t=e.col,e=e.row);var i=e*n+(t*a+r);return i}function H(e){var t=_.visStart.getDay();return e+=Z[t],7*Math.floor(e/$)+X[(e%$+$)%$]-t}function A(e){var t=h(_.visStart);return l(t,e),t}function R(e){var t=I(e),n=N(t),a=P(n);return a}function I(e){return p(e,_.visStart)}function N(e){var t=_.visStart.getDay();return e+=t,Math.floor(e/7)*$+Z[(e%7+7)%7]-Z[t]}function P(e){var t=_.getColCnt(),n=Q?-1:1,a=Q?t-1:0,r=Math.floor(e/t),i=(e%t+t)%t*n+a;return{row:r,col:i}}function z(e,t){for(var n=_.getRowCnt(),a=_.getColCnt(),r=[],i=I(e),s=I(t),o=N(i),l=N(s)-1,c=0;n>c;c++){var u=c*a,d=u+a-1,h=Math.max(o,u),f=Math.min(l,d);if(f>=h){var p=P(h),g=P(f),v=[p.col,g.col].sort(),m=H(h)==i,y=H(f)+1==s;r.push({row:c,leftCol:v[0],rightCol:v[1],isStart:m,isEnd:y})}}return r}var _=this;_.element=n,_.calendar=a,_.name=r,_.opt=i,_.trigger=s,_.isEventDraggable=o,_.isEventResizable=c,_.setEventData=d,_.clearEventData=f,_.eventEnd=g,_.reportEventElement=v,_.triggerEventDestroy=m,_.eventElementHandlers=y,_.showEvents=b,_.hideEvents=w,_.eventDrop=C,_.eventResize=S;var L=_.defaultEventEnd,j=a.normalizeEvent,W=a.reportEventChange,q={},B={},V=[],J=a.options;_.isHiddenDay=F,_.skipHiddenDays=E,_.getCellsPerWeek=T,_.dateToCell=R,_.dateToDayOffset=I,_.dayOffsetToCellOffset=N,_.cellOffsetToCell=P,_.cellToDate=k,_.cellToCellOffset=O,_.cellOffsetToDayOffset=H,_.dayOffsetToDate=A,_.rangeToSegments=z;var $,G=i("hiddenDays")||[],K=[],Z=[],X=[],Q=i("isRTL");!function(){i("weekends")===!1&&G.push(0,6);for(var t=0,n=0;7>t;t++)Z[t]=n,K[t]=-1!=e.inArray(t,G),K[t]||(X[n]=t,n++);if($=n,!$)throw"invalid hiddenDays"}()}function ht(){function t(e,t){var n=a(e,!1,!0);pt(n,function(e,t){A(e.event,t)}),b(n,t),pt(n,function(e,t){E("eventAfterRender",e.event,e.event,t)})}function n(e,t,n){var r=a([e],!0,!1),i=[];return pt(r,function(e,a){e.row===t&&a.css("top",n),i.push(a[0])}),i}function a(t,n,a){var i,l,c=G(),h=n?e("<div/>"):c,f=r(t);return s(f),i=o(f),h[0].innerHTML=i,l=h.children(),n&&c.append(l),u(f,l),pt(f,function(e,t){e.hsides=T(t,!0)}),pt(f,function(e,t){t.width(Math.max(0,e.outerWidth-e.hsides))}),pt(f,function(e,t){e.outerHeight=t.outerHeight(!0)}),d(f,a),f}function r(e){for(var t=[],n=0;e.length>n;n++){var a=i(e[n]);t.push.apply(t,a)}return t}function i(e){for(var t=e.start,n=C(e),a=tt(t,n),r=0;a.length>r;r++)a[r].event=e;return a}function s(e){for(var t=F("isRTL"),n=0;e.length>n;n++){var a=e[n],r=(t?a.isEnd:a.isStart)?J:U,i=(t?a.isStart:a.isEnd)?$:V,s=r(a.leftCol),o=i(a.rightCol);a.left=s,a.outerWidth=o-s}}function o(e){for(var t="",n=0;e.length>n;n++)t+=c(e[n]);return t}function c(e){var t="",n=F("isRTL"),a=e.event,r=a.url,i=["fc-event","fc-event-hori"];k(a)&&i.push("fc-event-draggable"),e.isStart&&i.push("fc-event-start"),e.isEnd&&i.push("fc-event-end"),i=i.concat(a.className),a.source&&(i=i.concat(a.source.className||[]));var s=q(a,F);return t+=r?"<a href='"+L(r)+"'":"<div",t+=" class='"+i.join(" ")+"' style='position:absolute;left:"+e.left+"px;"+s+"'><div class='fc-event-inner'>",!a.allDay&&e.isStart&&(t+="<span class='fc-event-time'>"+L(K(a.start,a.end,F("timeFormat")))+"</span>"),t+="<span class='fc-event-title'>"+L(a.title||"")+"</span></div>",e.isEnd&&O(a)&&(t+="<div class='ui-resizable-handle ui-resizable-"+(n?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),t+="</"+(r?"a":"div")+">"
}function u(t,n){for(var a=0;t.length>a;a++){var r=t[a],i=r.event,s=n.eq(a),o=E("eventRender",i,i,s);o===!1?s.remove():(o&&o!==!0&&(o=e(o).css({position:"absolute",left:r.left}),s.replaceWith(o),s=o),r.element=s)}}function d(e,t){var n=f(e),a=y(),r=[];if(t)for(var i=0;a.length>i;i++)a[i].height(n[i]);for(var i=0;a.length>i;i++)r.push(a[i].position().top);pt(e,function(e,t){t.css("top",r[e.row]+e.top)})}function f(e){for(var t=Y(),n=W(),a=[],r=g(e),i=0;t>i;i++){for(var s=r[i],o=[],l=0;n>l;l++)o.push(0);for(var c=0;s.length>c;c++){var u=s[c];u.top=z(o.slice(u.leftCol,u.rightCol+1));for(var l=u.leftCol;u.rightCol>=l;l++)o[l]=u.top+u.outerHeight}a.push(z(o))}return a}function g(e){var t,n,a,r=Y(),i=[];for(t=0;e.length>t;t++)n=e[t],a=n.row,n.element&&(i[a]?i[a].push(n):i[a]=[n]);for(a=0;r>a;a++)i[a]=v(i[a]||[]);return i}function v(e){for(var t=[],n=m(e),a=0;n.length>a;a++)t.push.apply(t,n[a]);return t}function m(e){e.sort(gt);for(var t=[],n=0;e.length>n;n++){for(var a=e[n],r=0;t.length>r&&ft(a,t[r]);r++);t[r]?t[r].push(a):t[r]=[a]}return t}function y(){var e,t=Y(),n=[];for(e=0;t>e;e++)n[e]=B(e).find("div.fc-day-content > div");return n}function b(e,t){var n=G();pt(e,function(e,n,a){var r=e.event;r._id===t?w(r,n,e):n[0]._fci=a}),x(n,e,w)}function w(e,t,n){k(e)&&M.draggableDayEvent(e,t,n),n.isEnd&&O(e)&&M.resizableDayEvent(e,t,n),R(e,t)}function D(e,t){var n,a=et();t.draggable({delay:50,opacity:F("dragOpacity"),revertDuration:F("dragRevertDuration"),start:function(r,i){E("eventDragStart",t,e,r,i),N(e,t),a.start(function(a,r,i,s){if(t.draggable("option","revert",!a||!i&&!s),X(),a){var o=nt(r),c=nt(a);n=p(c,o),Z(l(h(e.start),n),l(C(e),n))}else n=0},r,"drag")},stop:function(r,i){a.stop(),X(),E("eventDragStop",t,e,r,i),n?P(this,e,n,0,e.allDay,r,i):(t.css("filter",""),I(e,t))}})}function S(t,a,r){var i=F("isRTL"),s=i?"w":"e",o=a.find(".ui-resizable-"+s),c=!1;j(a),a.mousedown(function(e){e.preventDefault()}).click(function(e){c&&(e.preventDefault(),e.stopImmediatePropagation())}),o.mousedown(function(i){function o(n){E("eventResizeStop",this,t,n),e("body").css("cursor",""),u.stop(),X(),d&&_(this,t,d,0,n),setTimeout(function(){c=!1},0)}if(1==i.which){c=!0;var u=et();Y(),W();var d,h,f=a.css("top"),p=e.extend({},t),g=st(it(t.start));Q(),e("body").css("cursor",s+"-resize").one("mouseup",o),E("eventResizeStart",this,t,i),u.start(function(a,i){if(a){var o=at(i),c=at(a);if(c=Math.max(c,g),d=rt(c)-rt(o)){p.end=l(H(t),d,!0);var u=h;h=n(p,r.row,f),h=e(h),h.find("*").css("cursor",s+"-resize"),u&&u.remove(),N(t)}else h&&(I(t),h.remove(),h=null);X(),Z(t.start,l(C(t),d))}},i)}})}var M=this;M.renderDayEvents=t,M.draggableDayEvent=D,M.resizableDayEvent=S;var F=M.opt,E=M.trigger,k=M.isEventDraggable,O=M.isEventResizable,H=M.eventEnd,A=M.reportEventElement,R=M.eventElementHandlers,I=M.showEvents,N=M.hideEvents,P=M.eventDrop,_=M.eventResize,Y=M.getRowCnt,W=M.getColCnt;M.getColWidth;var B=M.allDayRow,U=M.colLeft,V=M.colRight,J=M.colContentLeft,$=M.colContentRight;M.dateToCell;var G=M.getDaySegmentContainer,K=M.calendar.formatDates,Z=M.renderDayOverlay,X=M.clearOverlays,Q=M.clearSelection,et=M.getHoverListener,tt=M.rangeToSegments,nt=M.cellToDate,at=M.cellToCellOffset,rt=M.cellOffsetToDayOffset,it=M.dateToDayOffset,st=M.dayOffsetToCellOffset}function ft(e,t){for(var n=0;t.length>n;n++){var a=t[n];if(a.leftCol<=e.rightCol&&a.rightCol>=e.leftCol)return!0}return!1}function pt(e,t){for(var n=0;e.length>n;n++){var a=e[n],r=a.element;r&&t(a,r,n)}}function gt(e,t){return t.rightCol-t.leftCol-(e.rightCol-e.leftCol)||t.event.allDay-e.event.allDay||e.event.start-t.event.start||(e.event.title||"").localeCompare(t.event.title)}function vt(){function t(e,t,r){n(),t||(t=l(e,r)),c(e,t,r),a(e,t,r)}function n(e){d&&(d=!1,u(),o("unselect",null,e))}function a(e,t,n,a){d=!0,o("select",null,e,t,n,a)}function r(t){var r=i.cellToDate,o=i.getIsCellAllDay,l=i.getHoverListener(),d=i.reportDayClick;if(1==t.which&&s("selectable")){n(t);var h;l.start(function(e,t){u(),e&&o(e)?(h=[r(t),r(e)].sort(P),c(h[0],h[1],!0)):h=null},t),e(document).one("mouseup",function(e){l.stop(),h&&(+h[0]==+h[1]&&d(h[0],!0,e),a(h[0],h[1],!0,e))})}}var i=this;i.select=t,i.unselect=n,i.reportSelection=a,i.daySelectionMousedown=r;var s=i.opt,o=i.trigger,l=i.defaultSelectionEnd,c=i.renderSelection,u=i.clearSelection,d=!1;s("selectable")&&s("unselectAuto")&&e(document).mousedown(function(t){var a=s("unselectCancel");a&&e(t.target).parents(a).length||n(t)})}function mt(){function t(t,n){var a=i.shift();return a||(a=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),a[0].parentNode!=n[0]&&a.appendTo(n),r.push(a.css(t).show()),a}function n(){for(var e;e=r.shift();)i.push(e.hide().unbind())}var a=this;a.renderOverlay=t,a.clearOverlays=n;var r=[],i=[]}function yt(e){var t,n,a=this;a.build=function(){t=[],n=[],e(t,n)},a.cell=function(e,a){var r,i=t.length,s=n.length,o=-1,l=-1;for(r=0;i>r;r++)if(a>=t[r][0]&&t[r][1]>a){o=r;break}for(r=0;s>r;r++)if(e>=n[r][0]&&n[r][1]>e){l=r;break}return o>=0&&l>=0?{row:o,col:l}:null},a.rect=function(e,a,r,i,s){var o=s.offset();return{top:t[e][0]-o.top,left:n[a][0]-o.left,width:n[i][1]-n[a][0],height:t[r][1]-t[e][0]}}}function bt(t){function n(e){wt(e);var n=t.cell(e.pageX,e.pageY);(!n!=!s||n&&(n.row!=s.row||n.col!=s.col))&&(n?(i||(i=n),r(n,i,n.row-i.row,n.col-i.col)):r(n,i),s=n)}var a,r,i,s,o=this;o.start=function(o,l,c){r=o,i=s=null,t.build(),n(l),a=c||"mousemove",e(document).bind(a,n)},o.stop=function(){return e(document).unbind(a,n),s}}function wt(e){e.pageX===t&&(e.pageX=e.originalEvent.pageX,e.pageY=e.originalEvent.pageY)}function Dt(e){function n(t){return r[t]=r[t]||e(t)}var a=this,r={},i={},s={};a.left=function(e){return i[e]=i[e]===t?n(e).position().left:i[e]},a.right=function(e){return s[e]=s[e]===t?a.left(e)+n(e).width():s[e]},a.clear=function(){r={},i={},s={}}}var Ct={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},St={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},xt=e.fullCalendar={version:"1.6.4"},Mt=xt.views={};e.fn.fullCalendar=function(n){if("string"==typeof n){var r,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=e.data(this,"fullCalendar");if(a&&e.isFunction(a[n])){var s=a[n].apply(a,i);r===t&&(r=s),"destroy"==n&&e.removeData(this,"fullCalendar")}}),r!==t?r:this}n=n||{};var s=n.eventSources||[];return delete n.eventSources,n.events&&(s.push(n.events),delete n.events),n=e.extend(!0,{},Ct,n.isRTL||n.isRTL===t&&Ct.isRTL?St:{},n),this.each(function(t,r){var i=e(r),o=new a(i,n,s);i.data("fullCalendar",o),o.render()}),this},xt.sourceNormalizers=[],xt.sourceFetchers=[];var Ft={dataType:"json",cache:!1},Tt=1;xt.addDays=l,xt.cloneDate=h,xt.parseDate=v,xt.parseISO8601=m,xt.parseTime=y,xt.formatDate=b,xt.formatDates=w;var Et=["sun","mon","tue","wed","thu","fri","sat"],kt=864e5,Ot=36e5,Ht=6e4,At={s:function(e){return e.getSeconds()},ss:function(e){return _(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return _(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return _(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return _(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return _(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return _(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return 12>e.getHours()?"a":"p"},tt:function(e){return 12>e.getHours()?"am":"pm"},T:function(e){return 12>e.getHours()?"A":"P"},TT:function(e){return 12>e.getHours()?"AM":"PM"},u:function(e){return b(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){var t=e.getDate();return t>10&&20>t?"th":["st","nd","rd"][t%10-1]||"th"},w:function(e,t){return t.weekNumberCalculation(e)},W:function(e){return D(e)}};xt.dateFormatters=At,xt.applyAll=B,Mt.month=V,Mt.basicWeek=J,Mt.basicDay=$,n({weekMode:"fixed"}),Mt.agendaWeek=Z,Mt.agendaDay=X,n({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})}(jQuery),function(e){function t(t,n,o){var l=t.success,c=e.extend({},t.data||{},{"start-min":a(n,"u"),"start-max":a(o,"u"),singleevents:!0,"max-results":9999}),u=t.currentTimezone;return u&&(c.ctz=u=u.replace(" ","_")),e.extend({},t,{url:t.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:c,startParam:!1,endParam:!1,success:function(t){var n=[];t.feed.entry&&e.each(t.feed.entry,function(t,a){var s,o=a.gd$when[0].startTime,l=r(o,!0),c=r(a.gd$when[0].endTime,!0),d=-1==o.indexOf("T");e.each(a.link,function(e,t){"text/html"==t.type&&(s=t.href,u&&(s+=(-1==s.indexOf("?")?"?":"&")+"ctz="+u))}),d&&i(c,-1),n.push({id:a.gCal$uid.value,title:a.title.$t,url:s,start:l,end:c,allDay:d,location:a.gd$where[0].valueString,description:a.content.$t})});var a=[n].concat(Array.prototype.slice.call(arguments,1)),o=s(l,this,a);return e.isArray(o)?o:n}})}var n=e.fullCalendar,a=n.formatDate,r=n.parseISO8601,i=n.addDays,s=n.applyAll;n.sourceNormalizers.push(function(e){("gcal"==e.dataType||void 0===e.dataType&&(e.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//))&&(e.dataType="gcal",void 0===e.editable&&(e.editable=!1))}),n.sourceFetchers.push(function(e,n,a){return"gcal"==e.dataType?t(e,n,a):void 0}),n.gcalFeed=function(t,n){return e.extend({},n,{url:t,dataType:"gcal"})}}(jQuery),function(e){e.fn.datetimepicker=function(t){var n={i18n:{ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeek:["Вск","Пн","Вт","Ср","Чт","Пт","Сб"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So.","Mo","Di","Mi","Do","Fr","Sa."]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",step:60,closeOnDateSelect:0,closeOnWithoutClick:!0,timepicker:!0,datepicker:!0,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,inline:!1,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,timeHeightInTimePicker:25,timepickerScrollbar:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0},a=e.isPlainObject(t)||!t?e.extend({},n,t):e.extend({},n),r=function(t){var n=e('<div class="xdsoft_datetimepicker"></div>'),r=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),i=e('<div class="xdsoft_datepicker active"></div>'),s=e('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_label xdsoft_month"></div><div class="xdsoft_label xdsoft_year"></div><button type="button" class="xdsoft_next"></button></div>'),o=e('<div class="xdsoft_calendar"></div>'),l=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),c=l.find(".xdsoft_time_box").eq(0),u=e('<div class="xdsoft_time_variant"></div>'),d=e('<div class="xdsoft_scrollbar"></div>'),h=e('<div class="xdsoft_scroller"></div>');n.setOptions=function(r){a=e.extend({},a,r),a.inline&&(n.addClass("xdsoft_inline"),t.after(n).hide()),(a.open||a.opened||a.inline)&&t.trigger("open.xdsoft"),a.inverseButton&&(a.next="xdsoft_prev",a.prev="xdsoft_next"),!a.datepicker&&a.timepicker&&i.removeClass("active"),a.datepicker&&!a.timepicker&&l.removeClass("active"),a.value&&t&&t.val&&t.val(a.value),a.dayOfWeekStart=isNaN(a.dayOfWeekStart)||parseInt(a.dayOfWeekStart)<0||parseInt(a.dayOfWeekStart)>6?0:parseInt(a.dayOfWeekStart),a.timepickerScrollbar||d.hide(),a.dayOfWeekStartPrev=0==a.dayOfWeekStart?6:a.dayOfWeekStart-1},n.data("options",a),n.on("mousedown",function(e){e.stopPropagation()}),d.append(h),l.find(".xdsoft_time_box").append(d),function(){var t=0;h.on("mousedown",function(a){var r=a.pageY,i=parseInt(h.css("margin-top")),s=d[0].offsetHeight;e("body").addClass("xdsoft_noselect"),e(window).on("mouseup",function(){e(window).off("mouseup",arguments.callee),e(window).off("mousemove",t),e("body").removeClass("xdsoft_noselect")}).on("mousemove",t=function(e){var t=e.pageY-r+i;0>t&&(t=0),t+h[0].offsetHeight>s&&(t=s-h[0].offsetHeight),h.css("margin-top",t),n.trigger("scroll.scrollbar",[t])})}),n.on("scroll.timebox",function(e,t){if(a.timepickerScrollbar){var n=d.height()-h[0].offsetHeight,r=c[0].offsetHeight,i=u[0].offsetHeight,s=t/(i-r);h.css("margin-top",n*s)}}).on("open.xdsoft",function(){if(a.timepickerScrollbar){var e=c[0].offsetHeight;height=u[0].offsetHeight,percent=e/height,sh=percent*d[0].offsetHeight,percent>1?h.hide():(h.show(),h.css("height",parseInt(sh>10?sh:10)))}})}(),n.on("scroll.scrollbar",function(e,t){var n=d[0].offsetHeight-h[0].offsetHeight,a=t/n;pheight=c[0].offsetHeight,height=u[0].offsetHeight,u.css("marginTop",-parseInt((height-pheight)*a))}),l.find(".xdsoft_time_box").append(u),n.append(i).append(l),a.withoutCopyright!==!0&&n.append(r),i.append(s).append(o),e("body").append(n);var f=function(){var e=this;e.now=function(){return new Date},e.currentTime=this.now(),e.isValidDate=function(e){return"[object Date]"!==Object.prototype.toString.call(e)?!1:!isNaN(e.getTime())},e.setCurrentTime=function(t){e.currentTime="string"==typeof t?e.strtodatetime(t):e.isValidDate(t)?t:e.now(),n.trigger("change.xdsoft")},e.getCurrentTime=function(){return e.currentTime},e.nextMonth=function(){var t=e.currentTime.getMonth()+1;return 12==t&&(e.currentTime.setFullYear(e.currentTime.getFullYear()+1),t=0),e.currentTime.setMonth(t),a.onChangeMonth&&a.onChangeMonth.call&&a.onChangeMonth.call(n,n.data("xdsoft_datetime").currentTime,n.data("input")),n.trigger("change.xdsoft"),t},e.prevMonth=function(){var t=e.currentTime.getMonth()-1;return-1==t&&(e.currentTime.setFullYear(e.currentTime.getFullYear()-1),t=11),e.currentTime.setMonth(t),a.onChangeMonth&&a.onChangeMonth.call&&a.onChangeMonth.call(n,n.data("xdsoft_datetime").currentTime,n.data("input")),n.trigger("change.xdsoft"),t},this.strtodatetime=function(t){var n=t?Date.parseDate(t,a.format):new Date;return e.isValidDate(n)||(n=new Date),n},this.strtodate=function(t){var n=t?Date.parseDate(t,a.formatDate):new Date;return e.isValidDate(n)||(n=new Date),n},this.strtotime=function(t){var n=t?Date.parseDate(t,a.formatTime):new Date;return e.isValidDate(n)||(n=new Date),n},this.str=function(){return this.currentTime.dateFormat(a.format)}};s.find(".xdsoft_prev,.xdsoft_next").mousedown(function(){var t=e(this),r=0,i=!1;!function(e){n.data("xdsoft_datetime").currentTime.getMonth();t.hasClass(a.next)?n.data("xdsoft_datetime").nextMonth():t.hasClass(a.prev)&&n.data("xdsoft_datetime").prevMonth(),!i&&(r=setTimeout(arguments.callee,e?e:100))}(500),e(window).on("mouseup",function(){clearTimeout(r),i=!0,e(this).off("mouseup",arguments.callee)})}),l.find(".xdsoft_prev,.xdsoft_next").mousedown(function(){var t=e(this),r=0,i=!1,s=110;!function(e){var o=u.parent()[0].offsetHeight,l=u[0].offsetHeight,c=Math.abs(parseInt(u.css("marginTop")));t.hasClass(a.next)&&l-o-a.timeHeightInTimePicker>=c?u.css("marginTop","-"+(c+a.timeHeightInTimePicker)+"px"):t.hasClass(a.prev)&&c-a.timeHeightInTimePicker>=0&&u.css("marginTop","-"+(c-a.timeHeightInTimePicker)+"px"),n.trigger("scroll.timebox",[Math.abs(parseInt(u.css("marginTop")))]),s=s>10?10:s-10,!i&&(r=setTimeout(arguments.callee,e?e:s))}(500),e(window).on("mouseup",function(){clearTimeout(r),i=!0,e(this).off("mouseup",arguments.callee)})}),n.on("change.xdsoft",function(){for(var t=e(this).data("xdsoft_datetime"),n="",r=new Date(t.currentTime.getFullYear(),t.currentTime.getMonth(),1);r.getDay()!=a.dayOfWeekStart;)r.setDate(r.getDate()-1);var i=0,l=new Date;n+="<table><thead><tr>";for(var c=0;7>c;c++)n+="<th>"+a.i18n[a.lang].dayOfWeek[c+a.dayOfWeekStart>6?0:c+a.dayOfWeekStart]+"</th>";for(n+="</tr></thead>",n+="<tbody><tr>";i<t.currentTime.getDaysInMonth()||r.getDay()!=a.dayOfWeekStart||t.currentTime.getMonth()==r.getMonth();)i++,n+='<td data-date="'+r.getDate()+'" data-month="'+r.getMonth()+'" data-year="'+r.getFullYear()+'" class="'+(a.maxDate!==!1&&Math.round(t.strtodate(a.maxDate).getTime()/864e5)<Math.round(r.getTime()/864e5)||a.minDate!==!1&&Math.round(t.strtodate(a.minDate).getTime()/864e5)>Math.round(r.getTime()/864e5)?"xdsoft_disabled ":" ")+(t.currentTime.getMonth()!=r.getMonth()?" xdsoft_other_month ":" ")+(t.currentTime.dateFormat("d.m.Y")==r.dateFormat("d.m.Y")?" xdsoft_current ":" ")+(l.dateFormat("d.m.Y")==r.dateFormat("d.m.Y")?" xdsoft_today ":" ")+'"><div>'+r.getDate()+"</div></td>",r.getDay()==a.dayOfWeekStartPrev&&(n+="</tr>"),r.setDate(r.getDate()+1);n+="</tbody></table>",o.html(n),s.find(".xdsoft_label").eq(0).text(a.i18n[a.lang].months[t.currentTime.getMonth()]),s.find(".xdsoft_label").eq(1).text(t.currentTime.getFullYear());var d="",h="",f="",p=function(e,n){var r=new Date;r.setHours(e),e=parseInt(r.getHours()),r.setMinutes(n),n=parseInt(r.getMinutes()),d+='<div class="'+(a.maxTime!==!1&&t.strtotime(a.maxTime).getTime()<r.getTime()||a.minTime!==!1&&t.strtotime(a.minTime).getTime()>r.getTime()?"xdsoft_disabled ":" ")+(parseInt(t.currentTime.getHours())==parseInt(e)&&parseInt(t.currentTime.getMinutes()/a.step)*a.step==parseInt(n)?" xdsoft_current ":"")+(parseInt(l.getHours())==parseInt(e)&&parseInt(l.getMinutes())==parseInt(n)?" xdsoft_today ":"")+'" data-hour="'+e+'" data-minute="'+n+'">'+r.dateFormat(a.formatTime)+"</div>"};if(a.allowTimes&&e.isArray(a.allowTimes)&&a.allowTimes.length)for(var i=0;i<a.allowTimes.length;i++)h=t.strtotime(a.allowTimes[i]).getHours(),f=t.strtotime(a.allowTimes[i]).getMinutes(),p(h,f);else for(var i=0;i<(a.hours12?12:24);i++)for(var c=0;60>c;c+=a.step)h=(10>i?"0":"")+i,f=(10>c?"0":"")+c,p(h,f);u.html(d)}),n.on("open.xdsoft",function(){if(u.find(".xdsoft_current").length){var e=u.parent()[0].offsetHeight,t=u[0].offsetHeight,n=u.find(".xdsoft_current").index()*a.timeHeightInTimePicker;n>t-e&&(n=t-e),u.css("marginTop","-"+parseInt(n)+"px")}}),o.on("mousedown","td",function(){if(e(this).hasClass("xdsoft_disabled"))return!1;var r=n.data("xdsoft_datetime").currentTime;r.setFullYear(e(this).data("year")),r.setMonth(e(this).data("month")),r.setDate(e(this).data("date")),n.trigger("select.xdsoft",[r]),t.val(n.data("xdsoft_datetime").str()),a.closeOnDateSelect!==!0&&(0!==a.closeOnDateSelect||a.timepicker)||a.inline||n.close(),a.onSelectDate&&a.onSelectDate.call&&a.onSelectDate.call(n,n.data("xdsoft_datetime").currentTime,n.data("input")),n.trigger("change.xdsoft"),n.trigger("changedatetime.xdsoft")}),u.on("mousedown","div",function(){if(e(this).hasClass("xdsoft_disabled"))return!1;var t=n.data("xdsoft_datetime").currentTime;t.setHours(e(this).data("hour")),t.setMinutes(e(this).data("minute")),n.trigger("select.xdsoft",[t]),n.data("input").val(n.data("xdsoft_datetime").str()),!a.inline&&n.close(),a.onSelectTime&&a.onSelectTime.call&&a.onSelectTime.call(n,n.data("xdsoft_datetime").currentTime,n.data("input")),n.trigger("change.xdsoft"),n.trigger("changedatetime.xdsoft")}),n.mousewheel&&i.mousewheel(function(e,t){return a.scrollMonth?(0>t?n.data("xdsoft_datetime").nextMonth():n.data("xdsoft_datetime").prevMonth(),!1):!0}),n.mousewheel&&l.mousewheel(function(e,t){if(!a.scrollTime)return!0;var r=u.parent()[0].offsetHeight,i=u[0].offsetHeight,s=Math.abs(parseInt(u.css("marginTop"))),o=!0;return 0>t&&i-r-a.timeHeightInTimePicker>=s?(u.css("marginTop","-"+(s+a.timeHeightInTimePicker)+"px"),o=!1):t>0&&s-a.timeHeightInTimePicker>=0&&(u.css("marginTop","-"+(s-a.timeHeightInTimePicker)+"px"),o=!1),n.trigger("scroll.timebox",[Math.abs(parseInt(u.css("marginTop")))]),o}),n.on("changedatetime.xdsoft",function(){a.onChangeDateTime&&a.onChangeDateTime.call&&a.onChangeDateTime.call(n,n.data("xdsoft_datetime").currentTime,n.data("input"))});var p=0;t.mousewheel&&t.mousewheel(function(e,r,s,o){return a.scrollInput?!a.datepicker&&a.timepicker?(p=u.find(".xdsoft_current").length?u.find(".xdsoft_current").eq(0).index():0,p+r>=0&&p+r<u.children().length&&(p+=r),u.children().eq(p).length&&u.children().eq(p).trigger("mousedown"),!1):a.datepicker&&!a.timepicker?(i.trigger(e,[r,s,o]),t.val&&t.val(n.data("xdsoft_datetime").str()),n.trigger("changedatetime.xdsoft"),!1):void 0:!0}),n.open=function(){var t=!0;if(a.onShow&&a.onShow.call&&(t=a.onShow.call(n,n.data("xdsoft_datetime").currentTime,n.data("input"))),t!==!1){var r=function(){var t=n.data("input").offset(),a=t.top+n.data("input")[0].offsetHeight;a+n[0].offsetHeight>e("body").height()&&(a=t.top-n[0].offsetHeight),n.css({left:t.left,top:a})};n.show(),r(),e(window).on("resize.xdsoft",r),a.closeOnWithoutClick&&e(window).on("mousedown.xdsoft keydown.xdsoft",function(){n.close(),e(this).off("mousedown",arguments.callee)}),n.trigger("open.xdsoft")}},n.close=function(){var e=!0;a.onClose&&a.onClose.call&&(e=a.onClose.call(n,n.data("xdsoft_datetime").currentTime,n.data("input"))),e===!1||a.opened||a.inline||n.hide()},n.data("input",t);var g=new f,v=0;n.data("xdsoft_datetime",g),n.setOptions(a),g.setCurrentTime(a.value?a.value:t&&t.val&&t.val()?t.val():new Date),t.data("xdsoft_datetimepicker",n).on("enter.xdsoft keyup.xdsoft mousedown.xdsoft open.xdsoft",function(){t.is(":disabled")||t.is(":hidden")||!t.is(":visible")||(clearTimeout(v),v=setTimeout(function(){t.is(":disabled")||t.is(":hidden")||!t.is(":visible")||(g.setCurrentTime(t&&t.val&&t.val()?t.val():new Date),n.open())},100))})},i=function(t){var n=t.data("xdsoft_datetimepicker");if(n){var r=n.data("xdsoft_datetime");delete r,n.remove(),delete n,t.data("xdsoft_datetimepicker",null),t.off("enter.xdsoft keyup.xdsoft mousedown.xdsoft open.xdsoft"),e(window).off("resize.xdsoft"),e(window).off("mousedown.xdsoft keydown.xdsoft"),t.unmousewheel&&t.unmousewheel(),delete a}};return this.each(function(){var n;if(n=e(this).data("xdsoft_datetimepicker")){if("string"===e.type(t))switch(t){case"show":n.open();break;case"hide":n.close();break;case"destroy":i(e(this))}else e(this).data("xdsoft_datetimepicker").setOptions(a);return 0}"string"!==e.type(t)&&r(e(this))})}}(jQuery),/*
 * Copyright (C) 2004 Baron Schwartz <baron at sequent dot org>
 *
 * This program is free software; you can redistribute it and/or modify it
 * under the terms of the GNU Lesser General Public License as published by the
 * Free Software Foundation, version 2.1.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public License for more
 * details.
 */
Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(e){null==Date.formatFunctions[e]&&Date.createNewFormat(e);var t=Date.formatFunctions[e];return this[t]()},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var code="Date.prototype."+funcName+" = function(){return ",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;eval(code.substring(0,code.length-3)+";}")},Date.getFormatCode=function(e){switch(e){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(e)+"' + "}},Date.parseDate=function(e,t){null==Date.parseFunctions[t]&&Date.createParser(t);var n=Date.parseFunctions[t];return Date[n](e)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input){\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$"),eval(code)},Date.formatCodeToRegex=function(e,t){switch(e){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:0,c:null,s:"(?:\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+t+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+t+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+t+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+t+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+t+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(e)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(this.getTimezoneOffset()/60),2,"0")+String.leftPad(this.getTimezoneOffset()%60,2,"0")},Date.prototype.getDayOfYear=function(){var e=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var t=0;t<this.getMonth();++t)e+=Date.daysInMonth[t];return e+this.getDate()-1},Date.prototype.getWeekOfYear=function(){var e=this.getDayOfYear()+(4-this.getDay()),t=new Date(this.getFullYear(),0,1),n=7-t.getDay()+4;return document.write(n),String.leftPad((e-n)/7+1,2,"0")},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return 0==(3&e)&&(e%100||e%400==0&&e)},Date.prototype.getFirstDayOfMonth=function(){var e=(this.getDay()-(this.getDate()-1))%7;return 0>e?e+7:e},Date.prototype.getLastDayOfMonth=function(){var e=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>e?e+7:e},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(e){return e.replace(/('|\\)/g,"\\$1")},String.leftPad=function(e,t,n){var a=new String(e);for(null==n&&(n=" ");a.length<t;)a=n+a;return a},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"},/*
 * Copyright (c) 2013 Brandon Aaron (http://brandonaaron.net)
 *
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.1.3
 *
 * Requires: 1.2.2+
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r,i=t||window.event,s=[].slice.call(arguments,1),o=0,l=0,c=0,u=0,d=0;return t=e.event.fix(i),t.type="mousewheel",i.wheelDelta&&(o=i.wheelDelta),i.detail&&(o=-1*i.detail),i.deltaY&&(c=-1*i.deltaY,o=c),i.deltaX&&(l=i.deltaX,o=-1*l),void 0!==i.wheelDeltaY&&(c=i.wheelDeltaY),void 0!==i.wheelDeltaX&&(l=-1*i.wheelDeltaX),u=Math.abs(o),(!n||n>u)&&(n=u),d=Math.max(Math.abs(c),Math.abs(l)),(!a||a>d)&&(a=d),r=o>0?"floor":"ceil",o=Math[r](o/n),l=Math[r](l/a),c=Math[r](c/a),s.unshift(t,o,l,c),(e.event.dispatch||e.event.handle).apply(this,s)}var n,a,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(e.event.fixHooks)for(var s=r.length;s;)e.event.fixHooks[r[--s]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){var t={en:{days:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],sep:"-",format:"YYYY-MM-DD hh:mm",prevMonth:"Previous month",nextMonth:"Next month",today:"Today"},ja:{days:["日","月","火","水","木","金","土"],months:["01","02","03","04","05","06","07","08","09","10","11","12"],sep:"/",format:"YYYY/MM/DD hh:mm"},ru:{days:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],format:"DD.MM.YYYY hh:mm"},br:{days:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],format:"DD/MM/YYYY hh:mm"},pt:{days:["dom","seg","ter","qua","qui","sex","sáb"],months:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},cn:{days:["日","一","二","三","四","五","六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},de:{days:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Jan","Feb","März","Apr","Mai","Juni","Juli","Aug","Sept","Okt","Nov","Dez"],format:"DD.MM.YYYY hh:mm"},sv:{days:["Sö","Må","Ti","On","To","Fr","Lö"],months:["Jan","Feb","Mar","Apr","Maj","Juni","Juli","Aug","Sept","Okt","Nov","Dec"]},id:{days:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],months:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"]},it:{days:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],months:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],format:"DD/MM/YYYY hh:mm"},tr:{days:["Pz","Pzt","Sal","Çar","Per","Cu","Cts"],months:["Ock","Şub","Mar","Nis","May","Haz","Tem","Agu","Eyl","Ekm","Kas","Arlk"]},es:{days:["dom","lun","mar","miér","jue","vié","sáb"],months:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],format:"DD/MM/YYYY hh:mm"},ko:{days:["일","월","화","수","목","금","토"],months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},nl:{days:["zo","ma","di","wo","do","vr","za"],months:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],format:"DD-MM-YYYY hh:mm"},cz:{days:["Ne","Po","Út","St","Čt","Pá","So"],months:["Led","Úno","Bře","Dub","Kvě","Čer","Čvc","Srp","Zář","Říj","Lis","Pro"],format:"DD.MM.YYYY hh:mm"},fr:{days:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],format:"DD-MM-YYYY hh:mm"}},n=[],a=[],r=-1,i=function(t){return e(t).closest(".datepicker")},s=function(t){var n=i(t);return null!=n.data("inputObjectId")?e(a[n.data("inputObjectId")]):null},o=function(e){var t=i(e),n=new Date;b(t,{isAnim:!0,isOutputToInputObject:!0},n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes())},l=function(e){var t=i(e),n=g(t),a=new Date(n.getFullYear(),n.getMonth(),0).getDate();a<n.getDate()&&n.setDate(a),b(t,{isAnim:!0,isOutputToInputObject:!0},n.getFullYear(),n.getMonth()-1,n.getDate(),n.getHours(),n.getMinutes());var r=new Date,s=r.getFullYear()==n.getFullYear(),o=s&&r.getMonth()==n.getMonth();o&&t.data("futureOnly")||(a<n.getDate()&&n.setDate(a),b(t,{isAnim:!0,isOutputToInputObject:!0},n.getFullYear(),n.getMonth()-1,n.getDate(),n.getHours(),n.getMinutes()))},c=function(e){var t=i(e),n=g(t),a=new Date(n.getFullYear(),n.getMonth()+1,0).getDate();a<n.getDate()&&n.setDate(a),b(t,{isAnim:!0,isOutputToInputObject:!0},n.getFullYear(),n.getMonth()+1,n.getDate(),n.getHours(),n.getMinutes())},u=function(e,t,n){return"default"==e&&(e=y(t,"format"),n&&(e=e.substring(0,e.search(" ")))),e},d=function(e){if(99>e){var t=new Date;return parseInt(e)+parseInt(t.getFullYear().toString().substr(0,2)+"00")}return e},h=function(e,t){if(null!=t){var n=t.replace(/(-|\/)/g,"[-/]").replace(/YYYY/gi,"(\\d{2,4})").replace(/(YY|MM|DD|hh|mm)/g,"(\\d{1,2})").replace(/(M|D|h|m)/g,"(\\d{1,2})"),a=new RegExp(n),r=a.exec(e);if(null!=r){for(var i=new Array,s="",o="",n=t;null!=n&&0<n.length;){var l=n.substring(0,1);n=n.substring(1,n.length),o!=l&&(/(YYYY|YY|MM|DD|mm|dd|M|D|h|m)/.test(s)?(i.push(s),s=""):s=""),s+=l,o=l}""!=s&&/(YYYY|YY|MM|DD|mm|dd|M|D|h|m)/.test(s)&&i.push(s);for(var c=new Date,u=!1,h=0;h<i.length&&!(r.length<h);h++){var f=i[h],p=r[h+1];"YYYY"==f?(c.setFullYear(d(p)),u=!0):"YY"==f?(c.setYear(p),u=!0):"MM"==f||"M"==f?(c.setMonth(parseInt(p)-1),u=!0):"DD"==f||"D"==f?(c.setDate(p),u=!0):"hh"==f||"h"==f?(c.setHours(p),u=!0):("mm"==f||"m"==f)&&(c.setMinutes(p),u=!0)}if(1==u&&0==isNaN(c)&&0==isNaN(c.getDate()))return c}}var a=/^(\d{2,4})[-\/](\d{1,2})[-\/](\d{1,2}) (\d{1,2}):(\d{1,2})$/,r=a.exec(e);return null!==r?(r[1]=d(r[1]),c=new Date(r[1],r[2]-1,r[3],r[4],r[5])):(a=/^(\d{2,4})[-\/](\d{1,2})[-\/](\d{1,2})$/,r=a.exec(e),null!==r&&(r[1]=d(r[1]),c=new Date(r[1],r[2]-1,r[3]))),0==isNaN(c)&&0==isNaN(c.getDate())?c:!1},f=function(e,t){null==e&&(e=new Date);var n=e.getFullYear(),a=e.getMonth()+1,r=e.getDate(),i=e.getHours(),s=e.getMinutes(),t=t.replace(/YYYY/gi,n).replace(/YY/g,n-2e3).replace(/MM/g,v(a)).replace(/M/g,a).replace(/DD/g,v(r)).replace(/D/g,r).replace(/hh/g,v(i)).replace(/h/g,i).replace(/mm/g,v(s)).replace(/m/g,s);return t},p=function(e){var t=s(e);if(null!=t){var n=g(e),a=e.data("locale"),r=u(e.data("dateFormat"),a,e.data("dateOnly"));t.val(f(n,r))}},g=function(e){var t=i(e);return t.data("pickedDate")},v=function(e){return e=("0"+e).slice(-2)},m=function(e,t,n){b(e,t,n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes())},y=function(e,n){return"undefined"!=typeof t[e][n]?t[e][n]:t.en[n]},b=function(n,a,s,u,d,h,f){var m=new Date;m=null!=h?new Date(s,u,d,h,f,0):null!=s?new Date(s,u,d):new Date;var w=n.data("todayButton"),D=a.isAnim;0==n.data("timelistScroll")&&(D=!1);var C=a.isAnim;0==n.data("animation")&&(C=!1);var S=n.data("futureOnly"),x=a.isOutputToInputObject,M=n.data("minuteInterval"),F=n.data("firstDayOfWeek"),T=n.data("locale");t.hasOwnProperty(T)||(T="en");var E=new Date,k=new Date(m.getFullYear(),m.getMonth(),1).getDay()-F,O=new Date(m.getFullYear(),m.getMonth()+1,0).getDate(),H=new Date(m.getFullYear(),m.getMonth(),0).getDate(),A=new Date(m.getFullYear(),m.getMonth(),0),R=new Date(m.getFullYear(),m.getMonth()+2,0),I=E.getFullYear()==m.getFullYear(),N=I&&E.getMonth()==m.getMonth(),P=N&&E.getDate()==m.getDate(),z=n.children(".datepicker_header"),_=(n.children(".datepicker_inner_container"),n.children(".datepicker_inner_container").children(".datepicker_calendar")),Y=_.children(".datepicker_table"),L=n.children(".datepicker_inner_container").children(".datepicker_timelist"),j="",W=g(n);null!=W&&(W.getMonth()!=m.getMonth()||W.getDate()!=m.getDate()?j="calendar":(W.getHours()!=m.getHours()||W.getMinutes()!=m.getMinutes())&&(0==m.getMinutes()||m.getMinutes()%M==0)&&(j="timelist")),e(n).data("pickedDate",m),1==C&&("calendar"==j?(_.stop().queue([]),_.fadeTo("fast",.8)):"timelist"==j&&(L.stop().queue([]),L.fadeTo("fast",.8)));var q=L.scrollTop(),B=-1;if(z.children().remove(),!S||!N){var U=e("<a>");U.text("<"),U.prop("alt",y(T,"prevMonth")),U.prop("title",y(T,"prevMonth")),U.click(function(){l(n)})}var V=e("<span>");V.text(m.getFullYear()+" "+y(T,"sep")+" "+y(T,"months")[m.getMonth()]);var J=e("<a>");if(J.text(">"),J.prop("alt",y(T,"nextMonth")),J.prop("title",y(T,"nextMonth")),J.click(function(){c(n)}),w){var $=e("<a/>");$.html(decodeURIComponent("%3c%3fxml%20version%3d%221%2e0%22%20encoding%3d%22UTF%2d8%22%20standalone%3d%22no%22%3f%3e%3csvg%20%20xmlns%3adc%3d%22http%3a%2f%2fpurl%2eorg%2fdc%2felements%2f1%2e1%2f%22%20%20xmlns%3acc%3d%22http%3a%2f%2fcreativecommons%2eorg%2fns%23%22%20xmlns%3ardf%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f1999%2f02%2f22%2drdf%2dsyntax%2dns%23%22%20%20xmlns%3asvg%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f2000%2fsvg%22%20xmlns%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f2000%2fsvg%22%20%20version%3d%221%2e1%22%20%20width%3d%22100%25%22%20%20height%3d%22100%25%22%20viewBox%3d%220%200%2010%2010%22%3e%3cg%20transform%3d%22translate%28%2d5%2e5772299%2c%2d26%2e54581%29%22%3e%3cpath%20d%3d%22m%2014%2e149807%2c31%2e130932%20c%200%2c%2d0%2e01241%200%2c%2d0%2e02481%20%2d0%2e0062%2c%2d0%2e03721%20L%2010%2e57723%2c28%2e153784%207%2e0108528%2c31%2e093719%20c%200%2c0%2e01241%20%2d0%2e0062%2c0%2e02481%20%2d0%2e0062%2c0%2e03721%20l%200%2c2%2e97715%20c%200%2c0%2e217084%200%2e1798696%2c0%2e396953%200%2e3969534%2c0%2e396953%20l%202%2e3817196%2c0%200%2c%2d2%2e38172%201%2e5878132%2c0%200%2c2%2e38172%202%2e381719%2c0%20c%200%2e217084%2c0%200%2e396953%2c%2d0%2e179869%200%2e396953%2c%2d0%2e396953%20l%200%2c%2d2%2e97715%20m%201%2e383134%2c%2d0%2e427964%20c%200%2e06823%2c%2d0%2e08063%200%2e05582%2c%2d0%2e210882%20%2d0%2e02481%2c%2d0%2e279108%20l%20%2d1%2e358324%2c%2d1%2e128837%200%2c%2d2%2e530576%20c%200%2c%2d0%2e111643%20%2d0%2e08683%2c%2d0%2e198477%20%2d0%2e198477%2c%2d0%2e198477%20l%20%2d1%2e190859%2c0%20c%20%2d0%2e111643%2c0%20%2d0%2e198477%2c0%2e08683%20%2d0%2e198477%2c0%2e198477%20l%200%2c1%2e209467%20%2d1%2e513384%2c%2d1%2e265289%20c%20%2d0%2e2605%2c%2d0%2e217083%20%2d0%2e682264%2c%2d0%2e217083%20%2d0%2e942764%2c0%20L%205%2e6463253%2c30%2e42386%20c%20%2d0%2e080631%2c0%2e06823%20%2d0%2e093036%2c0%2e198476%20%2d0%2e024809%2c0%2e279108%20l%200%2e3845485%2c0%2e458976%20c%200%2e031012%2c0%2e03721%200%2e080631%2c0%2e06203%200%2e1302503%2c0%2e06823%200%2e055821%2c0%2e0062%200%2e1054407%2c%2d0%2e01241%200%2e1488574%2c%2d0%2e04342%20l%204%2e2920565%2c%2d3%2e578782%204%2e292058%2c3%2e578782%20c%200%2e03721%2c0%2e03101%200%2e08063%2c0%2e04342%200%2e13025%2c0%2e04342%200%2e0062%2c0%200%2e01241%2c0%200%2e01861%2c0%200%2e04962%2c%2d0%2e0062%200%2e09924%2c%2d0%2e03101%200%2e130251%2c%2d0%2e06823%20l%200%2e384549%2c%2d0%2e458976%22%20%2f%3e%3c%2fg%3e%3c%2fsvg%3e")),$.addClass("icon-home"),$.prop("alt",y(T,"today")),$.prop("title",y(T,"today")),$.click(function(){o(n)}),z.append($)}z.append(U),z.append(V),z.append(J),Y.children().remove();var G=e("<tr>");Y.append(G);for(var K=7+F,Z=y(T,"days"),X=0;7>X;X++){var Q=e("<th>");Q.text(Z[(X+K)%7]),G.append(Q)}var et=7*Math.ceil((k+O)/7),X=0;0>k&&(X=-7);for(;et>X;X++){var tt=X+1-k,nt=N&&tt<E.getDate();X%7==0&&(G=e("<tr>"),Y.append(G));var Q=e("<td>");Q.data("day",tt),G.append(Q),k>X?(Q.text(H+tt),Q.addClass("day_another_month"),Q.data("dateStr",A.getFullYear()+"/"+(A.getMonth()+1)+"/"+(H+tt))):k+O>X?(Q.text(tt),Q.data("dateStr",m.getFullYear()+"/"+(m.getMonth()+1)+"/"+tt)):(Q.text(tt-O),Q.addClass("day_another_month"),Q.data("dateStr",R.getFullYear()+"/"+(R.getMonth()+1)+"/"+(tt-O))),(X+K)%7==0?Q.addClass("wday_sun"):(X+K)%7==6&&Q.addClass("wday_sat"),tt==m.getDate()&&Q.addClass("active"),N&&tt==E.getDate()&&Q.addClass("today"),S&&nt?Q.addClass("day_in_past"):(Q.click(function(){e(this).hasClass("hover")&&e(this).removeClass("hover"),e(this).addClass("active");var t=i(e(this)),n=new Date(e(this).data("dateStr")),a=g(t);b(t,{isAnim:!1,isOutputToInputObject:!0},n.getFullYear(),n.getMonth(),n.getDate(),a.getHours(),a.getMinutes()),1==t.data("dateOnly")&&0==t.data("isInline")&&t.data("closeOnSelected")&&(r=-1,t.hide())}),Q.hover(function(){e(this).hasClass("active")||e(this).addClass("hover")},function(){e(this).hasClass("hover")&&e(this).removeClass("hover")}))}if(1==n.data("dateOnly"))L.css("display","none");else{L.children().remove(),L.css("height",_.innerHeight()-10+"px");for(var h=0;24>h;h++)for(var f=0;60>f;f+=M){var at=e("<div>"),rt=h<E.getHours()||h==E.getHours()&&f<E.getMinutes(),nt=P&&rt;at.addClass("timelist_item"),at.text(v(h)+":"+v(f)),at.data("hour",h),at.data("min",f),L.append(at),h==m.getHours()&&f==m.getMinutes()&&(at.addClass("active"),B=at.offset().top),S&&nt?at.addClass("time_in_past"):(at.click(function(){e(this).hasClass("hover")&&e(this).removeClass("hover"),e(this).addClass("active");var t=i(e(this)),n=g(t),a=e(this).data("hour"),s=e(this).data("min");b(t,{isAnim:!1,isOutputToInputObject:!0},n.getFullYear(),n.getMonth(),n.getDate(),a,s),0==t.data("isInline")&&t.data("closeOnSelected")&&(r=-1,t.hide())}),at.hover(function(){e(this).hasClass("active")||e(this).addClass("hover")},function(){e(this).hasClass("hover")&&e(this).removeClass("hover")}))}1==D?L.scrollTop(B-L.offset().top):L.scrollTop(q)}1==C&&("calendar"==j?_.fadeTo("fast",1):"timelist"==j&&L.fadeTo("fast",1)),1==x&&p(n)},w=function(t,a){var s=e("<div>");if(s.addClass("datepicker"),t.append(s),a.current){var o=u(a.dateFormat,a.locale,a.dateOnly),d=h(a.current,o);a.current=d?d:new Date}else a.current=new Date;null!=a.inputObjectId&&s.data("inputObjectId",a.inputObjectId),s.data("dateOnly",a.dateOnly),s.data("pickerId",n.length),s.data("dateFormat",a.dateFormat),s.data("locale",a.locale),s.data("firstDayOfWeek",a.firstDayOfWeek),s.data("animation",a.animation),s.data("closeOnSelected",a.closeOnSelected),s.data("timelistScroll",a.timelistScroll),s.data("calendarMouseScroll",a.calendarMouseScroll),s.data("todayButton",a.todayButton),s.data("futureOnly",a.futureOnly),s.data("state",0),5<=a.minuteInterval&&a.minuteInterval<=30?s.data("minuteInterval",a.minuteInterval):s.data("minuteInterval",30);var f=e("<div>");f.addClass("datepicker_header"),s.append(f);var p=e("<div>");p.addClass("datepicker_inner_container"),s.append(p);var g=e("<div>");g.addClass("datepicker_calendar");var v=e("<table>");v.addClass("datepicker_table"),g.append(v),p.append(g);var y=e("<div>");y.addClass("datepicker_timelist"),p.append(y),s.hover(function(){r=e(this).data("pickerId")},function(){r=-1}),a.calendarMouseScroll&&(window.sidebar?g.bind("DOMMouseScroll",function(t){var n=i(e(this)),a=t.originalEvent.detail;return a>0?c(n):l(n),!1}):g.bind("mousewheel",function(t){var n=i(e(this));return t.originalEvent.wheelDelta/120>0?l(n):c(n),!1})),n.push(s),m(s,{isAnim:!0,isOutputToInputObject:a.autodateOnStart},a.current)},D=function(){return{current:null,dateFormat:"default",locale:"en",animation:!0,minuteInterval:30,firstDayOfWeek:0,closeOnSelected:!1,timelistScroll:!0,calendarMouseScroll:!0,todayButton:!0,dateOnly:!1,futureOnly:!1,autodateOnStart:!0}};e.fn.dtpicker=function(t){var n=(new Date,D());n.inputObjectId=void 0;var a=e.extend(n,t);return this.each(function(){w(e(this),a)})},e.fn.appendDtpicker=function(t){var i=(new Date,D());i.inline=!1;var s=e.extend(i,t);return this.each(function(){var t=this,i=a.length;a.push(t),s.inputObjectId=i;null!=e(t).val()&&""!=e(t).val()&&(s.current=e(t).val());var o=e("<div>");0==s.inline&&o.css("position","absolute"),o.insertAfter(t);var l=n.length,c=e(o).dtpicker(s),d=c.children(".datepicker");e(t).data("pickerId",l),e(t).keyup(function(){var t=e(this),a=e(n[t.data("pickerId")]);if(null!=t.val()&&(null==t.data("beforeVal")||null!=t.data("beforeVal")&&t.data("beforeVal")!=t.val())){var r=u(a.data("dateFormat"),a.data("locale"),a.data("dateOnly")),i=h(t.val(),r);i&&m(a,{isAnim:!0,isOutputToInputObject:!1},i)}t.data("beforeVal",t.val())}),e(t).change(function(){e(this).trigger("keyup")}),1==s.inline?d.data("isInline",!0):(d.data("isInline",!1),c.css({zIndex:100}),d.css("width","auto"),d.hide(),e(t).click(function(){var a=e(this),i=e(n[a.data("pickerId")]);r=a.data("pickerId"),i.show();var s=e(t).parent().css("position");"relative"===s||"absolute"===s?i.parent().css("top",a.outerHeight()+2+"px"):(i.parent().css("top",a.position().top+a.outerHeight()+2+"px"),i.parent().css("left",a.position().left+"px"))}))})},e(function(){e("body").click(function(){for(var t=0;t<n.length;t++){var a=e(n[t]);r!=t&&null!=a.data("inputObjectId")&&0==a.data("isInline")&&a.hide()}})})}(jQuery),/*!
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 Jörn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."),void 0;var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(t){function a(){var a;return n.settings.submitHandler?(n.submitButton&&(a=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&a.remove(),!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,a()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):a():(n.focusInvalid(),!1)})),n)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,n=e(this[0].form).validate();return this.each(function(){t=t&&n.element(this)}),t},removeAttrs:function(t){var n={},a=this;return e.each(t.split(/\s/),function(e,t){n[t]=a.attr(t),a.removeAttr(t)}),n},rules:function(t,n){var a=this[0];if(t){var r=e.data(a.form,"validator").settings,i=r.rules,s=e.validator.staticRules(a);switch(t){case"add":e.extend(s,e.validator.normalizeRule(n)),delete s.messages,i[a.name]=s,n.messages&&(r.messages[a.name]=e.extend(r.messages[a.name],n.messages));break;case"remove":if(!n)return delete i[a.name],s;var o={};return e.each(n.split(/\s/),function(e,t){o[t]=s[t],delete s[t]}),o}}var l=e.validator.normalizeRules(e.extend({},e.validator.classRules(a),e.validator.attributeRules(a),e.validator.dataRules(a),e.validator.staticRules(a)),a);if(l.required){var c=l.required;delete l.required,l=e.extend({required:c},l)}return l}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,a){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(a):e(t).addClass(n).removeClass(a)},unhighlight:function(t,n,a){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(a):e(t).removeClass(n).addClass(a)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var n=e.data(this[0].form,"validator"),a="on"+t.type.replace(/^validate/,"");n.settings[a]&&n.settings[a].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n=this.groups={};e.each(this.settings.groups,function(t,a){"string"==typeof a&&(a=a.split(/\s/)),e.each(a,function(e,a){n[a]=t})});var a=this.settings.rules;e.each(a,function(t,n){a[t]=e.validator.normalizeRule(n)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",t).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var n=this.check(t)!==!1;return n?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var n in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n=e(t).attr("type"),a=e(t).val();return"radio"===n||"checkbox"===n?e("input[name='"+e(t).attr("name")+"']:checked").val():"string"==typeof a?a.replace(/\r/g,""):a},check:function(t){t=this.validationTargetFor(this.clean(t));var n,a=e(t).rules(),r=!1,i=this.elementValue(t);for(var s in a){var o={method:s,parameters:a[s]};try{if(n=e.validator.methods[s].call(this,i,t,o.parameters),"dependency-mismatch"===n){r=!0;continue}if(r=!1,"pending"===n)return this.toHide=this.toHide.not(this.errorsFor(t)),void 0;if(!n)return this.formatAndAdd(t,o),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+o.method+"' method.",l),l}}return r?void 0:(this.objectLength(a)&&this.successList.push(t),!0)},customDataMessage:function(t,n){return e(t).data("msg-"+n.toLowerCase())||t.attributes&&e(t).attr("data-msg-"+n.toLowerCase())},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var a=this.defaultMessage(t,n.method),r=/\$?\{(\d+)\}/g;"function"==typeof a?a=a.call(this,n.parameters,t):r.test(a)&&(a=e.validator.format(a.replace(r,"{$1}"),n.parameters)),this.errorList.push({message:a,element:t}),this.errorMap[t.name]=a,this.submitted[t.name]=a},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var n=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var a=this.errorsFor(t);a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(n)):(a=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(a=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(a).length||(this.settings.errorPlacement?this.settings.errorPlacement(a,e(t)):a.insertAfter(t))),!n&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,t)),this.toShow=this.toShow.add(a)},errorsFor:function(t){var n=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===n})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},a=e(t).attr("class");return a&&e.each(a.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n={},a=e(t),r=a[0].getAttribute("type");for(var i in e.validator.methods){var s;"required"===i?(s=a.get(0).getAttribute(i),""===s&&(s=!0),s=!!s):s=a.attr(i),/min|max/.test(i)&&(null===r||/number|range|text/.test(r))&&(s=Number(s)),s?n[i]=s:r===i&&"range"!==r&&(n[i]=!0)}return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var n,a,r={},i=e(t);for(n in e.validator.methods)a=i.data("rule-"+n.toLowerCase()),void 0!==a&&(r[n]=a);return r},staticRules:function(t){var n={},a=e.data(t.form,"validator");return a.settings.rules&&(n=e.validator.normalizeRule(a.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(a,r){if(r===!1)return delete t[a],void 0;if(r.param||r.depends){var i=!0;switch(typeof r.depends){case"string":i=!!e(r.depends,n.form).length;break;case"function":i=r.depends.call(n,n)}i?t[a]=void 0!==r.param?r.param:!0:delete t[a]}}),e.each(t,function(a,r){t[a]=e.isFunction(r)?r(n):r}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,a){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==a?a:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,a){if(!this.depend(a,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=e(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n=0,a=0,r=!1;e=e.replace(/\D/g,"");for(var i=e.length-1;i>=0;i--){var s=e.charAt(i);a=parseInt(s,10),r&&(a*=2)>9&&(a-=9),n+=a,r=!r}return n%10===0},minlength:function(t,n,a){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||r>=a},maxlength:function(t,n,a){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||a>=r},rangelength:function(t,n,a){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||r>=a[0]&&r<=a[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||n>=e},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(t,n,a){var r=e(a);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===r.val()},remote:function(t,n,a){if(this.optional(n))return"dependency-mismatch";var r=this.previousValue(n);if(this.settings.messages[n.name]||(this.settings.messages[n.name]={}),r.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=r.message,a="string"==typeof a&&{url:a}||a,r.old===t)return r.valid;r.old=t;var i=this;this.startRequest(n);var s={};return s[n.name]=t,e.ajax(e.extend(!0,{url:a,mode:"abort",port:"validate"+n.name,dataType:"json",data:s,success:function(a){i.settings.messages[n.name].remote=r.originalMessage;var s=a===!0||"true"===a;if(s){var o=i.formSubmitted;i.prepareElement(n),i.formSubmitted=o,i.successList.push(n),delete i.invalid[n.name],i.showErrors()}else{var l={},c=a||i.defaultMessage(n,"remote");l[n.name]=r.message=e.isFunction(c)?c(t):c,i.invalid[n.name]=!0,i.showErrors(l)}r.valid=s,i.stopRequest(n,s)}},a)),"pending"}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,n,a){var r=e.port;"abort"===e.mode&&(t[r]&&t[r].abort(),t[r]=a)});else{var n=e.ajax;e.ajax=function(a){var r=("mode"in a?a:e.ajaxSettings).mode,i=("port"in a?a:e.ajaxSettings).port;return"abort"===r?(t[i]&&t[i].abort(),t[i]=n.apply(this,arguments),t[i]):n.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,n,a){return this.bind(n,function(n){var r=e(n.target);return r.is(t)?a.apply(r,arguments):void 0})}})}(jQuery),function(){}.call(this),function(){}.call(this),function(){jQuery(function(){var e;return $("#schedule_location_id").parent().hide(),e=$("#schedule_location_id").html(),$("#schedule_company_id").change(function(){var t,n,a;return t=$("#schedule_company_id option:selected").text(),n=t.replace(/([ #;&,.+*~\':"!^$[\]()=>|\/@])/g,"\\$1"),a=$(e).filter("optgroup[label='"+n+"']").html(),a?($("#schedule_location_id").html(a),$("#schedule_location_id").parent().show()):($("#schedule_location_id").empty(),$("#schedule_location_id").parent().hide())})})}.call(this),/*
Copyright 2012 Igor Vaynberg

Version: 3.4.5 Timestamp: Mon Nov  4 08:22:42 PST 2013

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

    http://www.apache.org/licenses/LICENSE-2.0
    http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the
Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
the specific language governing permissions and limitations under the Apache License and the GPL License.
*/
function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),a=-1,r=this.length;++a<r&&(n.context=n[0]=this[a])&&t.call(n[0],a,n)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function n(e){var t,n,a,r;if(!e||e.length<1)return e;for(t="",n=0,a=e.length;a>n;n++)r=e.charAt(n),t+=Y[r]||r;return t}function a(e,t){for(var n=0,a=t.length;a>n;n+=1)if(i(e,t[n]))return n;return-1}function r(){var t=e(_);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function i(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function s(t,n){var a,r,i;if(null===t||t.length<1)return[];for(a=t.split(n),r=0,i=a.length;i>r;r+=1)a[r]=e.trim(a[r]);return a}function o(e){return e.outerWidth(!1)-e.width()}function l(n){var a="keyup-change-value";n.on("keydown",function(){e.data(n,a)===t&&e.data(n,a,n.val())}),n.on("keyup",function(){var r=e.data(n,a);r!==t&&n.val()!==r&&(e.removeData(n,a),n.trigger("keyup-change"))})}function c(n){n.on("mousemove",function(n){var a=z;(a===t||a.x!==n.pageX||a.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function u(e,n,a){a=a||t;var r;return function(){var t=arguments;window.clearTimeout(r),r=window.setTimeout(function(){n.apply(a,t)},e)}}function d(e){var t,n=!1;return function(){return n===!1&&(t=e(),n=!0),t}}function h(e,t){var n=u(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){a(e.target,t.get())>=0&&n(e)})}function f(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],a=e.val().length;e.focus(),e.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(a,a):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function p(t){t=e(t)[0];var n=0,a=0;if("selectionStart"in t)n=t.selectionStart,a=t.selectionEnd-n;else if("selection"in document){t.focus();var r=document.selection.createRange();a=document.selection.createRange().text.length,r.moveStart("character",-t.value.length),n=r.text.length-a}return{offset:n,length:a}}function g(e){e.preventDefault(),e.stopPropagation()}function v(e){e.preventDefault(),e.stopImmediatePropagation()}function m(t){if(!I){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);I=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),I.attr("class","select2-sizer"),e("body").append(I)}return I.text(t.val()),I.width()}function y(t,n,a){var r,i,s=[];r=t.attr("class"),r&&(r=""+r,e(r.split(" ")).each2(function(){0===this.indexOf("select2-")&&s.push(this)})),r=n.attr("class"),r&&(r=""+r,e(r.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(i=a(this),i&&s.push(i))})),t.attr("class",s.join(" "))}function b(e,t,a,r){var i=n(e.toUpperCase()).indexOf(n(t.toUpperCase())),s=t.length;return 0>i?(a.push(r(e)),void 0):(a.push(r(e.substring(0,i))),a.push("<span class='select2-match'>"),a.push(r(e.substring(i,i+s))),a.push("</span>"),a.push(r(e.substring(i+s,e.length))),void 0)}function w(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function D(n){var a,r=null,i=n.quietMillis||100,s=n.url,o=this;return function(l){window.clearTimeout(a),a=window.setTimeout(function(){var a=n.data,i=s,c=n.transport||e.fn.select2.ajaxDefaults.transport,u={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,u);a=a?a.call(o,l.term,l.page,l.context):null,i="function"==typeof i?i.call(o,l.term,l.page,l.context):i,r&&r.abort(),n.params&&(e.isFunction(n.params)?e.extend(d,n.params.call(o)):e.extend(d,n.params)),e.extend(d,{url:i,dataType:n.dataType,data:a,success:function(e){var t=n.results(e,l.page);l.callback(t)}}),r=c.call(o,d)},i)}}function C(t){var n,a,r=t,i=function(e){return""+e.text};e.isArray(r)&&(a=r,r={results:a}),e.isFunction(r)===!1&&(a=r,r=function(){return a});var s=r();return s.text&&(i=s.text,e.isFunction(i)||(n=s.text,i=function(e){return e[n]})),function(t){var n,a=t.term,s={results:[]};return""===a?(t.callback(r()),void 0):(n=function(r,s){var o,l;if(r=r[0],r.children){o={};for(l in r)r.hasOwnProperty(l)&&(o[l]=r[l]);o.children=[],e(r.children).each2(function(e,t){n(t,o.children)}),(o.children.length||t.matcher(a,i(o),r))&&s.push(o)}else t.matcher(a,i(r),r)&&s.push(r)},e(r().results).each2(function(e,t){n(t,s.results)}),t.callback(s),void 0)}}function S(n){var a=e.isFunction(n);return function(r){var i=r.term,s={results:[]};e(a?n():n).each(function(){var e=this.text!==t,n=e?this.text:this;(""===i||r.matcher(i,n))&&s.results.push(e?this:{id:this,text:this})}),r.callback(s)}}function x(t,n){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error(n+" must be a function or a falsy value")}function M(t){return e.isFunction(t)?t():t}function F(t){var n=0;return e.each(t,function(e,t){t.children?n+=F(t.children):n++}),n}function T(e,n,a,r){var s,o,l,c,u,d=e,h=!1;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return t;for(;;){for(o=-1,l=0,c=r.tokenSeparators.length;c>l&&(u=r.tokenSeparators[l],o=e.indexOf(u),!(o>=0));l++);if(0>o)break;if(s=e.substring(0,o),e=e.substring(o+u.length),s.length>0&&(s=r.createSearchChoice.call(this,s,n),s!==t&&null!==s&&r.id(s)!==t&&null!==r.id(s))){for(h=!1,l=0,c=n.length;c>l;l++)if(i(r.id(s),r.id(n[l]))){h=!0;break}h||a(s)}}return d!==e?e:void 0}function E(t,n){var a=function(){};return a.prototype=new t,a.prototype.constructor=a,a.prototype.parent=t.prototype,a.prototype=e.extend(a.prototype,n),a}if(window.Select2===t){var k,O,H,A,R,I,N,P,z={x:0,y:0},k={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case k.LEFT:case k.RIGHT:case k.UP:case k.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case k.SHIFT:case k.CTRL:case k.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},_="<div class='select2-measure-scrollbar'></div>",Y={"Ⓐ":"A",Ａ:"A",À:"A",Á:"A",Â:"A",Ầ:"A",Ấ:"A",Ẫ:"A",Ẩ:"A",Ã:"A",Ā:"A",Ă:"A",Ằ:"A",Ắ:"A",Ẵ:"A",Ẳ:"A",Ȧ:"A",Ǡ:"A",Ä:"A",Ǟ:"A",Ả:"A",Å:"A",Ǻ:"A",Ǎ:"A",Ȁ:"A",Ȃ:"A",Ạ:"A",Ậ:"A",Ặ:"A",Ḁ:"A",Ą:"A",Ⱥ:"A",Ɐ:"A",Ꜳ:"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE",Ꜵ:"AO",Ꜷ:"AU",Ꜹ:"AV",Ꜻ:"AV",Ꜽ:"AY","Ⓑ":"B",Ｂ:"B",Ḃ:"B",Ḅ:"B",Ḇ:"B",Ƀ:"B",Ƃ:"B",Ɓ:"B","Ⓒ":"C",Ｃ:"C",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",Ç:"C",Ḉ:"C",Ƈ:"C",Ȼ:"C",Ꜿ:"C","Ⓓ":"D",Ｄ:"D",Ḋ:"D",Ď:"D",Ḍ:"D",Ḑ:"D",Ḓ:"D",Ḏ:"D",Đ:"D",Ƌ:"D",Ɗ:"D",Ɖ:"D",Ꝺ:"D",Ǳ:"DZ",Ǆ:"DZ",ǲ:"Dz",ǅ:"Dz","Ⓔ":"E",Ｅ:"E",È:"E",É:"E",Ê:"E",Ề:"E",Ế:"E",Ễ:"E",Ể:"E",Ẽ:"E",Ē:"E",Ḕ:"E",Ḗ:"E",Ĕ:"E",Ė:"E",Ë:"E",Ẻ:"E",Ě:"E",Ȅ:"E",Ȇ:"E",Ẹ:"E",Ệ:"E",Ȩ:"E",Ḝ:"E",Ę:"E",Ḙ:"E",Ḛ:"E",Ɛ:"E",Ǝ:"E","Ⓕ":"F",Ｆ:"F",Ḟ:"F",Ƒ:"F",Ꝼ:"F","Ⓖ":"G",Ｇ:"G",Ǵ:"G",Ĝ:"G",Ḡ:"G",Ğ:"G",Ġ:"G",Ǧ:"G",Ģ:"G",Ǥ:"G",Ɠ:"G","Ꞡ":"G",Ᵹ:"G",Ꝿ:"G","Ⓗ":"H",Ｈ:"H",Ĥ:"H",Ḣ:"H",Ḧ:"H",Ȟ:"H",Ḥ:"H",Ḩ:"H",Ḫ:"H",Ħ:"H",Ⱨ:"H",Ⱶ:"H","Ɥ":"H","Ⓘ":"I",Ｉ:"I",Ì:"I",Í:"I",Î:"I",Ĩ:"I",Ī:"I",Ĭ:"I",İ:"I",Ï:"I",Ḯ:"I",Ỉ:"I",Ǐ:"I",Ȉ:"I",Ȋ:"I",Ị:"I",Į:"I",Ḭ:"I",Ɨ:"I","Ⓙ":"J",Ｊ:"J",Ĵ:"J",Ɉ:"J","Ⓚ":"K",Ｋ:"K",Ḱ:"K",Ǩ:"K",Ḳ:"K",Ķ:"K",Ḵ:"K",Ƙ:"K",Ⱪ:"K",Ꝁ:"K",Ꝃ:"K",Ꝅ:"K","Ꞣ":"K","Ⓛ":"L",Ｌ:"L",Ŀ:"L",Ĺ:"L",Ľ:"L",Ḷ:"L",Ḹ:"L",Ļ:"L",Ḽ:"L",Ḻ:"L",Ł:"L",Ƚ:"L",Ɫ:"L",Ⱡ:"L",Ꝉ:"L",Ꝇ:"L",Ꞁ:"L",Ǉ:"LJ",ǈ:"Lj","Ⓜ":"M",Ｍ:"M",Ḿ:"M",Ṁ:"M",Ṃ:"M",Ɱ:"M",Ɯ:"M","Ⓝ":"N",Ｎ:"N",Ǹ:"N",Ń:"N",Ñ:"N",Ṅ:"N",Ň:"N",Ṇ:"N",Ņ:"N",Ṋ:"N",Ṉ:"N",Ƞ:"N",Ɲ:"N","Ꞑ":"N","Ꞥ":"N",Ǌ:"NJ",ǋ:"Nj","Ⓞ":"O",Ｏ:"O",Ò:"O",Ó:"O",Ô:"O",Ồ:"O",Ố:"O",Ỗ:"O",Ổ:"O",Õ:"O",Ṍ:"O",Ȭ:"O",Ṏ:"O",Ō:"O",Ṑ:"O",Ṓ:"O",Ŏ:"O",Ȯ:"O",Ȱ:"O",Ö:"O",Ȫ:"O",Ỏ:"O",Ő:"O",Ǒ:"O",Ȍ:"O",Ȏ:"O",Ơ:"O",Ờ:"O",Ớ:"O",Ỡ:"O",Ở:"O",Ợ:"O",Ọ:"O",Ộ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Ɔ:"O",Ɵ:"O",Ꝋ:"O",Ꝍ:"O",Ƣ:"OI",Ꝏ:"OO",Ȣ:"OU","Ⓟ":"P",Ｐ:"P",Ṕ:"P",Ṗ:"P",Ƥ:"P",Ᵽ:"P",Ꝑ:"P",Ꝓ:"P",Ꝕ:"P","Ⓠ":"Q",Ｑ:"Q",Ꝗ:"Q",Ꝙ:"Q",Ɋ:"Q","Ⓡ":"R",Ｒ:"R",Ŕ:"R",Ṙ:"R",Ř:"R",Ȑ:"R",Ȓ:"R",Ṛ:"R",Ṝ:"R",Ŗ:"R",Ṟ:"R",Ɍ:"R",Ɽ:"R",Ꝛ:"R","Ꞧ":"R",Ꞃ:"R","Ⓢ":"S",Ｓ:"S",ẞ:"S",Ś:"S",Ṥ:"S",Ŝ:"S",Ṡ:"S",Š:"S",Ṧ:"S",Ṣ:"S",Ṩ:"S",Ș:"S",Ş:"S","Ȿ":"S","Ꞩ":"S",Ꞅ:"S","Ⓣ":"T",Ｔ:"T",Ṫ:"T",Ť:"T",Ṭ:"T",Ț:"T",Ţ:"T",Ṱ:"T",Ṯ:"T",Ŧ:"T",Ƭ:"T",Ʈ:"T",Ⱦ:"T",Ꞇ:"T",Ꜩ:"TZ","Ⓤ":"U",Ｕ:"U",Ù:"U",Ú:"U",Û:"U",Ũ:"U",Ṹ:"U",Ū:"U",Ṻ:"U",Ŭ:"U",Ü:"U",Ǜ:"U",Ǘ:"U",Ǖ:"U",Ǚ:"U",Ủ:"U",Ů:"U",Ű:"U",Ǔ:"U",Ȕ:"U",Ȗ:"U",Ư:"U",Ừ:"U",Ứ:"U",Ữ:"U",Ử:"U",Ự:"U",Ụ:"U",Ṳ:"U",Ų:"U",Ṷ:"U",Ṵ:"U",Ʉ:"U","Ⓥ":"V",Ｖ:"V",Ṽ:"V",Ṿ:"V",Ʋ:"V",Ꝟ:"V",Ʌ:"V",Ꝡ:"VY","Ⓦ":"W",Ｗ:"W",Ẁ:"W",Ẃ:"W",Ŵ:"W",Ẇ:"W",Ẅ:"W",Ẉ:"W",Ⱳ:"W","Ⓧ":"X",Ｘ:"X",Ẋ:"X",Ẍ:"X","Ⓨ":"Y",Ｙ:"Y",Ỳ:"Y",Ý:"Y",Ŷ:"Y",Ỹ:"Y",Ȳ:"Y",Ẏ:"Y",Ÿ:"Y",Ỷ:"Y",Ỵ:"Y",Ƴ:"Y",Ɏ:"Y",Ỿ:"Y","Ⓩ":"Z",Ｚ:"Z",Ź:"Z",Ẑ:"Z",Ż:"Z",Ž:"Z",Ẓ:"Z",Ẕ:"Z",Ƶ:"Z",Ȥ:"Z","Ɀ":"Z",Ⱬ:"Z",Ꝣ:"Z","ⓐ":"a",ａ:"a",ẚ:"a",à:"a",á:"a",â:"a",ầ:"a",ấ:"a",ẫ:"a",ẩ:"a",ã:"a",ā:"a",ă:"a",ằ:"a",ắ:"a",ẵ:"a",ẳ:"a",ȧ:"a",ǡ:"a",ä:"a",ǟ:"a",ả:"a",å:"a",ǻ:"a",ǎ:"a",ȁ:"a",ȃ:"a",ạ:"a",ậ:"a",ặ:"a",ḁ:"a",ą:"a",ⱥ:"a",ɐ:"a",ꜳ:"aa",æ:"ae",ǽ:"ae",ǣ:"ae",ꜵ:"ao",ꜷ:"au",ꜹ:"av",ꜻ:"av",ꜽ:"ay","ⓑ":"b",ｂ:"b",ḃ:"b",ḅ:"b",ḇ:"b",ƀ:"b",ƃ:"b",ɓ:"b","ⓒ":"c",ｃ:"c",ć:"c",ĉ:"c",ċ:"c",č:"c",ç:"c",ḉ:"c",ƈ:"c",ȼ:"c",ꜿ:"c",ↄ:"c","ⓓ":"d",ｄ:"d",ḋ:"d",ď:"d",ḍ:"d",ḑ:"d",ḓ:"d",ḏ:"d",đ:"d",ƌ:"d",ɖ:"d",ɗ:"d",ꝺ:"d",ǳ:"dz",ǆ:"dz","ⓔ":"e",ｅ:"e",è:"e",é:"e",ê:"e",ề:"e",ế:"e",ễ:"e",ể:"e",ẽ:"e",ē:"e",ḕ:"e",ḗ:"e",ĕ:"e",ė:"e",ë:"e",ẻ:"e",ě:"e",ȅ:"e",ȇ:"e",ẹ:"e",ệ:"e",ȩ:"e",ḝ:"e",ę:"e",ḙ:"e",ḛ:"e",ɇ:"e",ɛ:"e",ǝ:"e","ⓕ":"f",ｆ:"f",ḟ:"f",ƒ:"f",ꝼ:"f","ⓖ":"g",ｇ:"g",ǵ:"g",ĝ:"g",ḡ:"g",ğ:"g",ġ:"g",ǧ:"g",ģ:"g",ǥ:"g",ɠ:"g","ꞡ":"g",ᵹ:"g",ꝿ:"g","ⓗ":"h",ｈ:"h",ĥ:"h",ḣ:"h",ḧ:"h",ȟ:"h",ḥ:"h",ḩ:"h",ḫ:"h",ẖ:"h",ħ:"h",ⱨ:"h",ⱶ:"h",ɥ:"h",ƕ:"hv","ⓘ":"i",ｉ:"i",ì:"i",í:"i",î:"i",ĩ:"i",ī:"i",ĭ:"i",ï:"i",ḯ:"i",ỉ:"i",ǐ:"i",ȉ:"i",ȋ:"i",ị:"i",į:"i",ḭ:"i",ɨ:"i",ı:"i","ⓙ":"j",ｊ:"j",ĵ:"j",ǰ:"j",ɉ:"j","ⓚ":"k",ｋ:"k",ḱ:"k",ǩ:"k",ḳ:"k",ķ:"k",ḵ:"k",ƙ:"k",ⱪ:"k",ꝁ:"k",ꝃ:"k",ꝅ:"k","ꞣ":"k","ⓛ":"l",ｌ:"l",ŀ:"l",ĺ:"l",ľ:"l",ḷ:"l",ḹ:"l",ļ:"l",ḽ:"l",ḻ:"l",ſ:"l",ł:"l",ƚ:"l",ɫ:"l",ⱡ:"l",ꝉ:"l",ꞁ:"l",ꝇ:"l",ǉ:"lj","ⓜ":"m",ｍ:"m",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m",ɯ:"m","ⓝ":"n",ｎ:"n",ǹ:"n",ń:"n",ñ:"n",ṅ:"n",ň:"n",ṇ:"n",ņ:"n",ṋ:"n",ṉ:"n",ƞ:"n",ɲ:"n",ŉ:"n","ꞑ":"n","ꞥ":"n",ǌ:"nj","ⓞ":"o",ｏ:"o",ò:"o",ó:"o",ô:"o",ồ:"o",ố:"o",ỗ:"o",ổ:"o",õ:"o",ṍ:"o",ȭ:"o",ṏ:"o",ō:"o",ṑ:"o",ṓ:"o",ŏ:"o",ȯ:"o",ȱ:"o",ö:"o",ȫ:"o",ỏ:"o",ő:"o",ǒ:"o",ȍ:"o",ȏ:"o",ơ:"o",ờ:"o",ớ:"o",ỡ:"o",ở:"o",ợ:"o",ọ:"o",ộ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",ɔ:"o",ꝋ:"o",ꝍ:"o",ɵ:"o",ƣ:"oi",ȣ:"ou",ꝏ:"oo","ⓟ":"p",ｐ:"p",ṕ:"p",ṗ:"p",ƥ:"p",ᵽ:"p",ꝑ:"p",ꝓ:"p",ꝕ:"p","ⓠ":"q",ｑ:"q",ɋ:"q",ꝗ:"q",ꝙ:"q","ⓡ":"r",ｒ:"r",ŕ:"r",ṙ:"r",ř:"r",ȑ:"r",ȓ:"r",ṛ:"r",ṝ:"r",ŗ:"r",ṟ:"r",ɍ:"r",ɽ:"r",ꝛ:"r","ꞧ":"r",ꞃ:"r","ⓢ":"s",ｓ:"s",ß:"s",ś:"s",ṥ:"s",ŝ:"s",ṡ:"s",š:"s",ṧ:"s",ṣ:"s",ṩ:"s",ș:"s",ş:"s",ȿ:"s","ꞩ":"s",ꞅ:"s",ẛ:"s","ⓣ":"t",ｔ:"t",ṫ:"t",ẗ:"t",ť:"t",ṭ:"t",ț:"t",ţ:"t",ṱ:"t",ṯ:"t",ŧ:"t",ƭ:"t",ʈ:"t",ⱦ:"t",ꞇ:"t",ꜩ:"tz","ⓤ":"u",ｕ:"u",ù:"u",ú:"u",û:"u",ũ:"u",ṹ:"u",ū:"u",ṻ:"u",ŭ:"u",ü:"u",ǜ:"u",ǘ:"u",ǖ:"u",ǚ:"u",ủ:"u",ů:"u",ű:"u",ǔ:"u",ȕ:"u",ȗ:"u",ư:"u",ừ:"u",ứ:"u",ữ:"u",ử:"u",ự:"u",ụ:"u",ṳ:"u",ų:"u",ṷ:"u",ṵ:"u",ʉ:"u","ⓥ":"v",ｖ:"v",ṽ:"v",ṿ:"v",ʋ:"v",ꝟ:"v",ʌ:"v",ꝡ:"vy","ⓦ":"w",ｗ:"w",ẁ:"w",ẃ:"w",ŵ:"w",ẇ:"w",ẅ:"w",ẘ:"w",ẉ:"w",ⱳ:"w","ⓧ":"x",ｘ:"x",ẋ:"x",ẍ:"x","ⓨ":"y",ｙ:"y",ỳ:"y",ý:"y",ŷ:"y",ỹ:"y",ȳ:"y",ẏ:"y",ÿ:"y",ỷ:"y",ẙ:"y",ỵ:"y",ƴ:"y",ɏ:"y",ỿ:"y","ⓩ":"z",ｚ:"z",ź:"z",ẑ:"z",ż:"z",ž:"z",ẓ:"z",ẕ:"z",ƶ:"z",ȥ:"z",ɀ:"z",ⱬ:"z",ꝣ:"z"};N=e(document),R=function(){var e=1;return function(){return e++}}(),N.on("mousemove",function(e){z.x=e.pageX,z.y=e.pageY}),O=E(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var a,i,s=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+R()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=d(function(){return n.element.closest("body")}),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(M(n.containerCss)),this.container.addClass(M(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",g),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(M(n.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",g),this.results=a=this.container.find(s),this.search=i=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",g),c(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",s,this.bind(this.highlightUnderEvent)),h(80,this.results),this.dropdown.on("scroll-debounced",s,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&a.mousewheel(function(e,t,n,r){var i=a.scrollTop();r>0&&0>=i-r?(a.scrollTop(0),g(e)):0>r&&a.get(0).scrollHeight-a.scrollTop()+r<=a.height()&&(a.scrollTop(a.get(0).scrollHeight-a.height()),g(e))}),l(i),i.on("keyup-change input paste",this.bind(this.updateResults)),i.on("focus",function(){i.addClass("select2-focused")}),i.on("blur",function(){i.removeClass("select2-focused")}),this.dropdown.on("mouseup",s,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var o=n.element.prop("disabled");o===t&&(o=!1),this.enable(!o);var u=n.element.prop("readonly");u===t&&(u=!1),this.readonly(u),P=P||r(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=t},destroy:function(){var e=this.opts.element,n=e.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),n!==t&&(n.container.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:i(e.attr("locked"),"locked")||i(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var a,r,o,l,c=this;if(a=n.element,"select"===a.get(0).tagName.toLowerCase()&&(this.select=r=n.element),r&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(a,r,i){var s,o=this.opts.id;s=function(a,r,l){var u,d,h,f,p,g,v,m,y,b;for(a=n.sortResults(a,r,i),u=0,d=a.length;d>u;u+=1)h=a[u],p=h.disabled===!0,f=!p&&o(h)!==t,g=h.children&&h.children.length>0,v=e("<li></li>"),v.addClass("select2-results-dept-"+l),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),p&&v.addClass("select2-disabled"),g&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(h)),m=e(document.createElement("div")),m.addClass("select2-result-label"),b=n.formatResult(h,m,i,c.opts.escapeMarkup),b!==t&&m.html(b),v.append(m),g&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),s(h.children,y,l+1),v.append(y)),v.data("select2-data",h),r.append(v)},s(r,a,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(o=n.id,n.id=function(e){return e[o]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(r?(n.query=this.bind(function(e){var n,r,i,s={results:[],more:!1},o=e.term;i=function(t,n){var a;t.is("option")?e.matcher(o,t.text(),t)&&n.push(c.optionToData(t)):t.is("optgroup")&&(a=c.optionToData(t),t.children().each2(function(e,t){i(t,a.children)}),a.children.length>0&&n.push(a))},n=a.children(),this.getPlaceholder()!==t&&n.length>0&&(r=this.getPlaceholderOption(),r&&(n=n.not(r))),n.each2(function(e,t){i(t,s.results)}),e.callback(s)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=D.call(n.element,n.ajax)):"data"in n?n.query=C(n.data):"tags"in n&&(n.query=S(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,a){var r=[];e(s(t.val(),n.separator)).each(function(){var t={id:this,text:this},a=n.tags;e.isFunction(a)&&(a=a()),e(a).each(function(){return i(this.id,t.id)?(t=this,!1):void 0}),r.push(t)}),a(r)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var e,n,a=this.opts.element;a.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e=a.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=a.prop("readonly");n===t&&(n=!1),this.readonly(n),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(M(this.opts.containerCssClass)),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(M(this.opts.dropdownCssClass))}),a.on("propertychange.select2",e),this.mutationCallback===t&&(this.mutationCallback=function(t){t.forEach(e)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(this.mutationCallback),this.propertyObserver.observe(a.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){return e===t&&(e=!1),this._readonly===e?!1:(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,a,r,i,s=this.dropdown,o=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=s.outerHeight(!1),d=e(window),h=d.width(),f=d.height(),p=d.scrollLeft()+h,g=d.scrollTop()+f,v=o.top+l,m=o.left,y=g>=v+u,b=o.top-u>=this.body().scrollTop(),w=s.outerWidth(!1),D=p>=m+w,C=s.hasClass("select2-drop-above");C?(n=!0,!b&&y&&(a=!0,n=!1)):(n=!1,!y&&b&&(a=!0,n=!0)),a&&(s.hide(),o=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=s.outerHeight(!1),p=d.scrollLeft()+h,g=d.scrollTop()+f,v=o.top+l,m=o.left,w=s.outerWidth(!1),D=p>=m+w,s.show()),this.opts.dropdownAutoWidth?(i=e(".select2-results",s)[0],s.addClass("select2-drop-auto-width"),s.css("width",""),w=s.outerWidth(!1)+(i.scrollHeight===i.clientHeight?0:P.width),w>c?c=w:w=c,D=p>=m+w):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),v-=t.top,m-=t.left),D||(m=o.left+c-w),r={left:m,width:c},n?(r.bottom=f-o.top,r.top="auto",this.container.addClass("select2-drop-above"),s.addClass("select2-drop-above")):(r.top=v,r.bottom="auto",this.container.removeClass("select2-drop-above"),s.removeClass("select2-drop-above")),r=e.extend(r,M(this.opts.dropdownCss)),s.css(r)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var t,n=this.containerId,a="scroll."+n,r="resize."+n,i="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body()),t.on("mousedown touchstart click",function(t){var n,a=e("#select2-drop");a.length>0&&(n=a.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close({focus:!0}),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var s=this;this.container.parents().add(window).each(function(){e(this).on(r+" "+a+" "+i,function(){s.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,n="scroll."+t,a="resize."+t,r="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(a).off(r)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return M(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,n,a,r,i,s,o,l=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return l.scrollTop(0),void 0;t=this.findHighlightableChoices().find(".select2-result-label"),a=e(t[n]),r=a.offset().top+a.outerHeight(!0),n===t.length-1&&(o=l.find("li.select2-more-results"),o.length>0&&(r=o.offset().top+o.outerHeight(!0))),i=l.offset().top+l.outerHeight(!0),r>i&&l.scrollTop(l.scrollTop()+(r-i)),s=a.offset().top-l.offset().top,0>s&&"none"!=a.css("display")&&l.scrollTop(l.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),a=this.highlight();a>-1&&a<n.length;){a+=t;var r=e(n[a]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(a);break}}},highlight:function(t){var n,r,i=this.findHighlightableChoices();return 0===arguments.length?a(i.filter(".select2-highlighted")[0],i.get()):(t>=i.length&&(t=i.length-1),0>t&&(t=0),this.removeHighlight(),n=e(i[t]),n.addClass("select2-highlighted"),this.ensureHighlightVisible(),r=n.data("select2-data"),r&&this.opts.element.trigger({type:"select2-highlight",val:this.id(r),choice:r}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var a=this.findHighlightableChoices();this.highlight(a.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),a=this.resultsPage+1,r=this,i=this.search.val(),s=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:i,page:a,context:s,matcher:this.opts.matcher,callback:this.bind(function(e){r.opened()&&(r.opts.populateResults.call(this,t,e.results,{term:i,page:a,context:s}),r.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).text(r.opts.formatLoadMore(a+1)),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):n.remove(),r.positionDropdown(),r.resultsPage=a,r.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(n){function a(){c.removeClass("select2-active"),h.positionDropdown()}function r(e){u.html(e),a()}var s,o,l,c=this.search,u=this.results,d=this.opts,h=this,f=c.val(),p=e.data(this.container,"select2-last-term");if((n===!0||!p||!i(f,p))&&(e.data(this.container,"select2-last-term",f),n===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var g=this.getMaximumSelectionSize();if(g>=1&&(s=this.data(),e.isArray(s)&&s.length>=g&&x(d.formatSelectionTooBig,"formatSelectionTooBig")))return r("<li class='select2-selection-limit'>"+d.formatSelectionTooBig(g)+"</li>"),void 0;if(c.val().length<d.minimumInputLength)return x(d.formatInputTooShort,"formatInputTooShort")?r("<li class='select2-no-results'>"+d.formatInputTooShort(c.val(),d.minimumInputLength)+"</li>"):r(""),n&&this.showSearch&&this.showSearch(!0),void 0;if(d.maximumInputLength&&c.val().length>d.maximumInputLength)return x(d.formatInputTooLong,"formatInputTooLong")?r("<li class='select2-no-results'>"+d.formatInputTooLong(c.val(),d.maximumInputLength)+"</li>"):r(""),void 0;d.formatSearching&&0===this.findHighlightableChoices().length&&r("<li class='select2-searching'>"+d.formatSearching()+"</li>"),c.addClass("select2-active"),this.removeHighlight(),o=this.tokenize(),o!=t&&null!=o&&c.val(o),this.resultsPage=1,d.query({element:d.element,term:c.val(),page:this.resultsPage,context:null,matcher:d.matcher,callback:this.bind(function(s){var o;if(l==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(this.context=s.context===t?null:s.context,this.opts.createSearchChoice&&""!==c.val()&&(o=this.opts.createSearchChoice.call(h,c.val(),s.results),o!==t&&null!==o&&h.id(o)!==t&&null!==h.id(o)&&0===e(s.results).filter(function(){return i(h.id(this),h.id(o))}).length&&s.results.unshift(o)),0===s.results.length&&x(d.formatNoMatches,"formatNoMatches"))return r("<li class='select2-no-results'>"+d.formatNoMatches(c.val())+"</li>"),void 0;u.empty(),h.opts.populateResults.call(this,u,s.results,{term:c.val(),page:this.resultsPage,context:null}),s.more===!0&&x(d.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(d.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(s,n),a(),this.opts.element.trigger({type:"select2-loaded",items:s})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted"),a=n.closest(".select2-result").data("select2-data");a?(this.highlight(t),this.onSelect(a,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var e=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&e||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.text()&&""===e.val())return e}},initContainerWidth:function(){function n(){var n,a,r,i,s,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(a=n.split(";"),i=0,s=a.length;s>i;i+=1)if(o=a[i].replace(/\s/g,""),r=o.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==r&&r.length>=1)return r[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var a=n.call(this);null!==a&&this.container.css("width",a)}}),H=E(O,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,a,r;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),n=this.search.get(0),n.createTextRange?(a=n.createTextRange(),a.collapse(!1),a.select()):n.setSelectionRange&&(r=this.search.val().length,n.setSelectionRange(r,r)),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(e){this.opened()&&(this.parent.close.apply(this,arguments),e=e||{focus:!0},this.focusser.removeAttr("disabled"),e.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,n=this.container,a=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+R()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===k.PAGE_UP||e.which===k.PAGE_DOWN)return g(e),void 0;
switch(e.which){case k.UP:case k.DOWN:return this.moveHighlight(e.which===k.UP?-1:1),g(e),void 0;case k.ENTER:return this.selectHighlighted(),g(e),void 0;case k.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case k.ESC:return this.cancel(e),g(e),void 0}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==k.TAB&&!k.isControl(e)&&!k.isFunctionKey(e)&&e.which!==k.ESC){if(this.opts.openOnEnter===!1&&e.which===k.ENTER)return g(e),void 0;if(e.which==k.DOWN||e.which==k.UP||e.which==k.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),g(e),void 0}return e.which==k.DELETE||e.which==k.BACKSPACE?(this.opts.allowClear&&this.clear(),g(e),void 0):void 0}})),l(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),v(e),this.close(),this.selection.focus())})),t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),g(t)})),a.on("mousedown",this.bind(function(){this.search.focus()})),t.on("focus",this.bind(function(e){g(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var a=e.Event("select2-clearing");if(this.opts.element.trigger(a),a.isDefaultPrevented())return;var r=this.getPlaceholderOption();this.opts.element.val(r?r.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()?(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val():!1},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var a=e.find("option").filter(function(){return this.selected});t(n.optionToData(a))}:"data"in t&&(t.initSelection=t.initSelection||function(n,a){var r=n.val(),s=null;t.query({matcher:function(e,n,a){var o=i(r,t.id(a));return o&&(s=a),o},callback:e.isFunction(a)?function(){a(s)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var a=0,r=this;if(this.findHighlightableChoices().each2(function(e,t){return i(r.id(t.data("select2-data")),r.opts.element.val())?(a=e,!1):void 0}),n!==!1&&(t===!0&&a>=0?this.highlight(a):this.highlight(0)),t===!0){var s=this.opts.minimumResultsForSearch;s>=0&&this.showSearch(F(e.results)>=s)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),a=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||this.focusser.focus(),i(n,this.id(e))||this.triggerChange({added:e,removed:a})}},updateSelection:function(e){var n,a,r=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),r.empty(),null!==e&&(n=this.opts.formatSelection(e,r,this.opts.escapeMarkup)),n!==t&&r.append(n),a=this.opts.formatSelectionCssClass(e,r),a!==t&&r.addClass(a),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,a=null,r=this,i=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return a=r.optionToData(t),!1}),this.updateSelection(a),this.setPlaceholder(),n&&this.triggerChange({added:a,removed:i});else{if(!e&&0!==e)return this.clear(n),void 0;if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){r.opts.element.val(e?r.id(e):""),r.updateSelection(e),r.setPlaceholder(),n&&r.triggerChange({added:e,removed:i})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,a=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(arguments.length>1&&(a=arguments[1]),e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),a&&this.triggerChange({added:e,removed:n})):this.clear(a),void 0)}}),A=E(O,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var a=[];e.find("option").filter(function(){return this.selected}).each2(function(e,t){a.push(n.optionToData(t))}),t(a)}:"data"in t&&(t.initSelection=t.initSelection||function(n,a){var r=s(n.val(),t.separator),o=[];t.query({matcher:function(n,a,s){var l=e.grep(r,function(e){return i(e,t.id(s))}).length;return l&&o.push(s),l},callback:e.isFunction(a)?function(){for(var e=[],n=0;n<r.length;n++)for(var s=r[n],l=0;l<o.length;l++){var c=o[l];if(i(s,t.id(c))){e.push(c),o.splice(l,1);break}}a(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var a=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){a.search[0].focus(),a.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+R()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var n=t.find(".select2-search-choice-focus"),a=n.prev(".select2-search-choice:not(.select2-locked)"),r=n.next(".select2-search-choice:not(.select2-locked)"),i=p(this.search);if(n.length&&(e.which==k.LEFT||e.which==k.RIGHT||e.which==k.BACKSPACE||e.which==k.DELETE||e.which==k.ENTER)){var s=n;return e.which==k.LEFT&&a.length?s=a:e.which==k.RIGHT?s=r.length?r:null:e.which===k.BACKSPACE?(this.unselect(n.first()),this.search.width(10),s=a.length?a:r):e.which==k.DELETE?(this.unselect(n.first()),this.search.width(10),s=r.length?r:null):e.which==k.ENTER&&(s=null),this.selectChoice(s),g(e),s&&s.length||this.open(),void 0}if((e.which===k.BACKSPACE&&1==this.keydowns||e.which==k.LEFT)&&0==i.offset&&!i.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),g(e),void 0;if(this.selectChoice(null),this.opened())switch(e.which){case k.UP:case k.DOWN:return this.moveHighlight(e.which===k.UP?-1:1),g(e),void 0;case k.ENTER:return this.selectHighlighted(),g(e),void 0;case k.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case k.ESC:return this.cancel(e),g(e),void 0}if(e.which!==k.TAB&&!k.isControl(e)&&!k.isFunctionKey(e)&&e.which!==k.BACKSPACE&&e.which!==k.ESC){if(e.which===k.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===k.PAGE_UP||e.which===k.PAGE_DOWN)&&g(e),e.which===k.ENTER&&g(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],r=[],i=this;e(t).each(function(){a(i.id(this),n)<0&&(n.push(i.id(this)),r.push(this))}),t=r,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){i.addSelectedChoice(this)}),i.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var a,r,i=!n.locked,s=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),o=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=i?s:o,c=this.id(n),u=this.getVal();a=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup),a!=t&&l.find("div").replaceWith("<div>"+a+"</div>"),r=this.opts.formatSelectionCssClass(n,l.find("div")),r!=t&&l.addClass(r),i&&l.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),g(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(t){var n,r,i=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){for(;(r=a(this.id(n),i))>=0;)i.splice(r,1),this.setVal(i),this.select&&this.postprocessResults();var s=e.Event("select2-removing");s.val=this.id(n),s.choice=n,this.opts.element.trigger(s),s.isDefaultPrevented()||(t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},postprocessResults:function(e,t,n){var r=this.getVal(),i=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),o=this;i.each2(function(e,t){var n=o.id(t.data("select2-data"));a(n,r)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&o.highlight(0),!this.opts.createSearchChoice&&!i.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&x(o.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+o.opts.formatNoMatches(o.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-o(this.search)},resizeSearch:function(){var e,t,n,a,r,i=o(this.search);e=m(this.search)+10,t=this.search.offset().left,n=this.selection.width(),a=this.selection.offset().left,r=n-(t-a)-i,e>r&&(r=n-i),40>r&&(r=n-i),0>=r&&(r=e),this.search.width(Math.floor(r))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),s(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){a(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;n<t.length;n++)for(var a=0;a<e.length;a++)i(this.opts.id(t[n]),this.opts.id(e[a]))&&(t.splice(n,1),n>0&&n--,e.splice(a,1),a--);return{added:t,removed:e}},val:function(n,a){var r,i=this;if(0===arguments.length)return this.getVal();if(r=this.data(),r.length||(r=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),a&&this.triggerChange({added:this.data(),removed:r}),void 0;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),a&&this.triggerChange(this.buildChangeDetails(r,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,i.id);i.setVal(n),i.updateSelection(t),i.clearSearch(),a&&i.triggerChange(i.buildChangeDetails(r,i.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var a,r,i=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(r=this.data(),t||(t=[]),a=e.map(t,function(e){return i.opts.id(e)}),this.setVal(a),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(r,this.data())),void 0)}}),e.fn.select2=function(){var n,r,i,s,o,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],d=["val","data"],h={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])n=0===l.length?{}:e.extend({},l[0]),n.element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?o=n.element.prop("multiple"):(o=n.multiple||!1,"tags"in n&&(n.multiple=o=!0)),r=o?new A:new H,r.init(n);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(a(l[0],c)<0)throw"Unknown method: "+l[0];if(s=t,r=e(this).data("select2"),r===t)return;if(i=l[0],"container"===i?s=r.container:"dropdown"===i?s=r.dropdown:(h[i]&&(i=h[i]),s=r[i].apply(r,l.slice(1))),a(l[0],u)>=0||a(l[0],d)&&1==l.length)return!1}}),s===t?this:s},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,a){var r=[];return b(e.text,n.term,r,a),r.join("")},formatSelection:function(e,n,a){return e?a(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(){return t},formatSelectionCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return n(""+t).toUpperCase().indexOf(n(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:T,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:D,local:C,tags:S},util:{debounce:u,markMatch:b,escapeMarkup:w,stripDiacritics:n},"class":{"abstract":O,single:H,multi:A}}}}(jQuery);